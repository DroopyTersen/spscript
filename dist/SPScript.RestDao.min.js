SPScript=window.SPScript||{},function(t){var e=function(){};e.prototype.executeRequest=function(){throw"Not implemented exception"},e.prototype.get=function(t,e){var n={method:"GET"};return e&&$.extend(n,e),this.executeRequest(t,n)},e.prototype.lists=function(t){var e=this,n="/web/lists/getbytitle('"+t+"')",r=function(t){var r=null!=t?"?"+t:"";return e.get(n+"/items"+r).then(function(t){return t&&t.d&&t.d.results?t.d.results:t})},o=function(){var t=n+"/items("+itemId+")";return e.get(t).then(function(t){return t.d?t.d:t})};return t?{info:function(){return e.get(n)},getById:o,items:r,addItem:function(t){return e.get(n).then(function(r){t=$.extend({__metadata:{type:r.d.ListItemEntityTypeFullName}},t);var o={headers:{Accept:"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val()}};return e.post(n+"/items",t,o)})},updateItem:function(t,n){return o(t).then(function(t){n=$.extend({__metadata:{type:t.__metadata.type}},n);var r={headers:{Accept:"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val(),"X-HTTP-Method":"MERGE","If-Match":t.__metadata.etag}};return e.post(url,n,r)})},find:function(t,e){var n="$filter="+t+" eq '"+e+"'";return r(n)},findOne:function(t,e){var n="$filter="+t+" eq '"+e+"'";return r(n).then(function(t){return t&&t.length&&t.length>0?t[0]:null})}}:e.get("/web/lists")},e.prototype.post=function(t,e,n){var r=JSON.stringify(e),o={method:"POST",data:r,contentType:"application/json;odata=verbose"};return $.extend(o,n),this.executeRequest(t,o)},e.prototype.uploadFile=function(t,e,n){var r="/web/GetFolderByServerRelativeUrl('"+t+"')/Files/Add(url='"+e+"',overwrite=true)",o={binaryStringRequestBody:!0,state:"Update"};return this.post(r,n,o)},t.BaseDao=e}(SPScript),SPScript=window.SPScript||{},function(t){var e=function(t){this.webUrl=t};e.prototype=new SPScript.BaseDao,e.prototype.executeRequest=function(t,e){var n=new $.Deferred,r=function(t){e.success?e.success(t,n):n.resolve(t)},o=function(t,r,o){e.error?e.error(t,r,o,n):n.reject(o)},i=this.webUrl+"/_api"+t,a={url:i,method:"GET",headers:{Accept:"application/json; odata=verbose"},success:r,error:o};return $.extend(a,e),$.ajax(a),n.promise()},t.RestDao=e}(SPScript);