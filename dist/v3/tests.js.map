{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4f23e44baeeb156f303d","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/chai/index.js","webpack:///./node_modules/chai/lib/chai/utils/flag.js","webpack:///./node_modules/chai/lib/chai/config.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/process/browser.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/chai/lib/chai/utils/inspect.js","webpack:///./node_modules/chai/lib/chai/utils/getActual.js","webpack:///./node_modules/chai/lib/chai/utils/getName.js","webpack:///./node_modules/chai/lib/chai/utils/objDisplay.js","webpack:///./node_modules/chai/lib/chai/utils/transferFlags.js","webpack:///./src/test/tests/permissionTests.js","webpack:///./src/test/test.browser.js","webpack:///./dist/v3/spscript.js","webpack:///./src/test/tests/index.js","webpack:///./node_modules/chai/lib/chai.js","webpack:///./node_modules/assertion-error/index.js","webpack:///./node_modules/chai/lib/chai/utils/index.js","webpack:///./node_modules/chai/lib/chai/utils/test.js","webpack:///./node_modules/chai/lib/chai/utils/type.js","webpack:///./node_modules/chai/lib/chai/utils/getMessage.js","webpack:///./node_modules/chai/lib/chai/utils/getProperties.js","webpack:///./node_modules/chai/lib/chai/utils/getEnumerableProperties.js","webpack:///./node_modules/deep-eql/index.js","webpack:///./node_modules/deep-eql/lib/eql.js","webpack:///./node_modules/type-detect/index.js","webpack:///./node_modules/type-detect/lib/type.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/chai/lib/chai/utils/getPathValue.js","webpack:///./node_modules/chai/lib/chai/utils/addProperty.js","webpack:///./node_modules/chai/lib/chai/utils/addMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteProperty.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteMethod.js","webpack:///./node_modules/chai/lib/chai/utils/addChainableMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js","webpack:///./node_modules/chai/lib/chai/assertion.js","webpack:///./node_modules/chai/lib/chai/core/assertions.js","webpack:///./node_modules/chai/lib/chai/interface/expect.js","webpack:///./node_modules/chai/lib/chai/interface/should.js","webpack:///./node_modules/chai/lib/chai/interface/assert.js","webpack:///./src/test/tests/contextTests.js","webpack:///./src/test/tests/webTests.js","webpack:///./src/test/tests/listTests.js","webpack:///./src/test/tests/utilsTests.js","webpack:///./src/test/tests/searchTests.js","webpack:///./src/test/tests/customActionTests.js","webpack:///./src/test/tests/profileTests.js"],"names":["should","require","create","exports","securable","action","email","permissions","before","done","check","then","privs","catch","err","it","be","an","not","empty","equal","error","getRoleAssignments","forEach","permission","have","property","roles","member","role","mocha","setup","chai","SPScript","run","webpackUniversalModuleDefinition","root","factory","module","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","prototype","hasOwnProperty","p","s","__assign","assign","t","arguments","length","value","queryString_1","headers_1","loaders_1","dependencyManagement_1","isBrowser","window","parseJSON","data","JSON","parse","e","getArrayBuffer","file","File","Promise","resolve","reject","reader","FileReader","onload","target","result","readAsArrayBuffer","validateODataV2","results","openModal","url","modalOptions","validateNamespace","Error","defaults","width","title","options","SP","UI","ModalDialog","showModalDialog","utils","headers","default","qs","toObj","fromObj","loadScript","loadScripts","loadCSS","waitForLibraries","waitForLibrary","waitForElement","g","Function","eval","apply","setTimeout","Timeout","clearTimeout","setInterval","clearInterval","timeout","close","id","clearFn","_id","_clearFn","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","onTimeout","_onTimeout","setImmediate","clearImmediate","global","process","undefined","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","registerImmediate","callback","args","Array","task","handle","runIfPresent","installNextTickImplementation","nextTick","canUsePostMessage","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","installPostMessageImplementation","messagePrefix","Math","random","onGlobalMessage","event","source","indexOf","slice","addEventListener","attachEvent","installMessageChannelImplementation","channel","MessageChannel","port1","port2","installReadyStateChangeImplementation","html","documentElement","script","createElement","onreadystatechange","removeChild","appendChild","installSetTimeoutImplementation","attachTo","getPrototypeOf","toString","self","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","len","push","Item","array","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","decode","encode","stringify","webpackPolyfill","deprecate","paths","children","utils_1","method","credentials","redirect","request","opts","fetch","resp","succeeded","ok","text","IPermissions_1","Securable","baseUrl","ctx","_dao","map","transformRoleAssignment","checkPrivs","user","login","encodeURIComponent","LoginName","_this","req","_spPageContextInfo","userId","web","getUser","permissionMaskToStrings","GetUserEffectivePermissions","Low","High","raw","Member","Title","Id","RoleDefinitionBindings","roleDef","Name","description","Description","basePermissions","BasePermissions","lowMask","highMask","basePermission","low","high","promise_polyfill_1","SPScript_1","setTimeoutFunc","bind","fn","thisArg","TypeError","_state","_handled","_value","_deferreds","doResolve","deferred","_immediateFn","cb","onFulfilled","onRejected","promise","ret","newValue","finale","_unhandledRejectionFn","Handler","reason","ex","prom","constructor","all","arr","remaining","res","val","race","values","console","warn","_setImmediateFn","_setUnhandledRejectionFn","Context_1","csr_1","spscript","CSR","createContext","webAbsoluteUrl","message","obj","quoteValues","writeParam","key","trim","str","keys","join","location","search","substr","prop","sep","eq","regexp","split","maxKeys","x","replace","idx","kstr","vstr","k","v","decodeURIComponent","isArray","xs","stringifyPrimitive","isFinite","objectKeys","ks","f","jsonMimeType","getStandardHeaders","digest","getAddHeaders","getFilestreamHeaders","getActionHeaders","verb","decorateETag","etag","getUpdateHeaders","getDeleteHeaders","headerUtils","link","setAttribute","querySelector","scriptTag","firstScriptTag","getElementsByTagName","async","parentNode","insertBefore","arg","isAbort","readyState","test","src","urls","namespace","scope","sections","sectionsLength","_waitForLibraries","namespaces","missing","filter","selector","counter","INTERVAL","MAX_ATTEMPTS","_waitForElement","elem","__awaiter","_arguments","P","generator","fulfilled","step","next","rejected","__generator","body","_","label","sent","trys","ops","y","Symbol","iterator","op","pop","request_1","List_1","Web_1","Search_1","CustomActions_1","Profiles_1","tokenHelper_1","Context","webUrl","clientId","clientSecret","ensureToken","getAppOnlyToken","token","accessToken","customActions","profiles","executeRequest","fullUrl","defaultOptions","requestOptions","_a","Accept","post","_packagePostBody","authorizedPost","getRequestDigest","_ensureRequestDigest","GetContextWebInformation","FormDigestValue","lists","Securable_1","List","listName","getItems","odata","appendOData","getItemById","getItemsByView","viewName","viewUrl","view","queryUrl","postBody","query","type","ViewXml","ViewQuery","findItems","filterValue","findItem","items","getInfo","addItem","ListItemEntityTypeFullName","customOptions","updateItem","itemId","updates","uri","deleteItem","prefix","Web","getSubsites","ensureUser","getFile","_copyFile","sourceUrl","destinationUrl","strNewUrl","bOverWrite","copyFile","searchMappers_1","Search","sourceid","startrow","rowlimit","selectedproperties","refiners","refinementfilters","hiddencontstraints","sortlist","queryText","queryOptions","optionsQueryString","mapResponse","people","sites","urlScope","rawResponse","elapsedTime","ElapsedTime","suggestion","SpellingSuggestion","resultsCount","PrimaryQueryResult","RelevantResults","RowCount","totalResults","TotalRows","totalResultsIncludingDuplicates","TotalRowsIncludingDuplicates","mapItems","Table","Rows","mapRefiners","RefinementResults","refinementResults","Refiners","r","RefinerName","RefinerOptions","Entries","itemRows","row","j","Cells","Key","Value","ICustomActions_1","CustomActions","getScope","scopeId","scopes","Site","siteCustomActions","webCustomActions","matches","a","_getUrl","Scope","_getUrlAndDigest","prep","update","metadata","remove","add","customAction","Group","Sequence","Location","existingCustomActions","ca","addScriptBlock","block","ScriptBlock","addCSSLink","scriptBlockStr","addScriptLink","__metadata","Profiles","current","transformPersonProperties","getUserObj","AccountName","setProperty","propertyName","propertyValue","accountName","profile","log","UserProfileProperties","keyvalue","url_1","querystring","urlParts","getRealm","authParams","tokenUrl","realm","client_id","resource","host","grant_type","client_secret","bodyStr","access_token","endpointUrl","Authorization","response_type","parseRealm","_headers","bearer","startsWith","params","reduce","piece","parts","punycode","util","urlParse","urlResolve","resolveObject","urlResolveObject","format","urlFormat","Url","protocol","slashes","auth","port","hostname","hash","pathname","path","href","protocolPattern","portPattern","simplePathPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","parseQueryString","slashesDenoteHost","isObject","u","isString","queryIndex","splitter","uSplit","slashRegex","rest","simplePath","exec","proto","lowerProto","toLowerCase","match","hostEnd","hec","atSign","lastIndexOf","parseHost","ipv6Hostname","hostparts","part","newpart","charCodeAt","validParts","notHost","bit","unshift","toASCII","h","ae","esc","escape","qm","charAt","relative","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","splice","isAbsolute","__WEBPACK_AMD_DEFINE_RESULT__","freeExports","nodeType","freeModule","freeGlobal","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","String","fromCharCode","RangeError","mapDomain","string","labels","encoded","ucs2decode","output","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","input","inputLength","out","bias","basic","index","oldi","w","baseMinusT","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","registerField","field","renderer","renderers","locations","Templates","Fields","templateOverride","SPClientTemplates","TemplateManager","RegisterTemplateOverrides","registerDisplayField","fieldComponent","createDisplayFieldRenderer","registerFormField","createFormFieldRenderer","formCtx","FormContext","clonedCtx","onReady","registerInitCallback","getValue","registerGetValueCallback","updateControlValue","setValue","render","_env","describe","null","context","list","permissionsTests","dao","webInfo","subsites","Email","folderUrl","filename","fileUrl","startTestTime","Date","listInfo","info","ItemCount","MyStatus","validId","allItems","AttachmentFiles","newItem","insertedItem","foundItem","InvalidColumn","xhr","status","msg","itemToDelete","itemToUpdate","one","two","jsonStr","res1","res2","str1","str2","obj1","key1","obj2","key2","searchResults","rowLimit","refinerName","firstRefiner","person","site","contentclass","Path","beforeCount","firstItem","allCustomActions","newTitle","now","jsUrl","caName","contain","after","cssUrl","userEmail","aboutMeValue","AboutMe"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,+BAA+B;AAC/B;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;AC/BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;;;;;;;ACjDA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACpDA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;ACzLD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;ACvLtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,YAAY;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AC5UA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;;AAEA;AACA;AACA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;AChDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,OAAO,6CAA6C;AAC/D,WAAW,QAAQ;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC3CA,IAAIA,SAAS,mBAAAC,CAAQ,CAAR,EAAgBD,MAAhB,EAAb;AACA,IAAIE,SAAUC,QAAQD,MAAR,GAAiB,UAASE,SAAT,EAAoBC,MAApB,EAA4BC,KAA5B,EAAmC;AACjE,KAAID,WAAW,OAAf,EAAwB;AACvB,SAAO,YAAW;AACjB,OAAIE,cAAc,IAAlB;AACAC,UAAO,UAASC,IAAT,EAAe;AACrBL,cAAUG,WAAV,CACEG,KADF,CACQJ,KADR,EAEEK,IAFF,CAEO,UAASC,KAAT,EAAgB;AACrBL,mB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B;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB;;AAEA;AACA;AACA,sBAAsB,kBAAkB;;AAExC;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC7GA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;;AChHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,KAAK;AACb,QAAQ,IAAI;AACZ,QAAQ,IAAI;AACZ;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,KAAK;AACrB,gBAAgB,IAAI;AACpB,gBAAgB,IAAI;;AAEpB;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AClCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxBA;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK,yCAAmC;AACxC;AACA;AACA,gCAAgC,cAAc;AAC9C;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;;AAEA;AACA;;AAEA;AACA;;AAEA,QAAQ,cAAc;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AChQA;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;;;;;;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AC5vDA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,UAAU;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,QAAQ,WAAW;;AAEnB;AACA;AACA,QAAQ,UAAU;;AAElB;AACA;;;;;;;ACnFA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,yCAAyC;AACzC,gDAAgD;AAChD;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,iBAAiB;AACjB,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,iBAAiB;AAC9B;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;ACrGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACvCA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACrDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,aAAa;;AAEzC;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AClDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;AC9GA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;;AAEvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,mBAAmB;AAChC,aAAa,mBAAmB;AAChC,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACtIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD,iBAAiB,OAAO,OAAO,cAAc,EAAE,EAAE;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gCAAgC;AACjD;AACA;AACA;AACA,aAAa,qBAAqB;AAClC,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa,gBAAgB,aAAa;AAC3D,iBAAiB,aAAa,iBAAiB,aAAa;AAC5D;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK,YAAY,IAAI;AAC3C,sBAAsB,KAAK,gBAAgB,IAAI;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa,UAAU,aAAa;AACrD;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,KAAK,mBAAmB,IAAI;AAChD,oBAAoB,KAAK,uBAAuB,IAAI;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK,0BAA0B,IAAI,WAAW,IAAI;AACxE,sBAAsB,KAAK,8BAA8B,IAAI;AAC7D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK,6BAA6B,IAAI,WAAW,IAAI;AAC3E,sBAAsB,KAAK,0BAA0B,IAAI;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK,0BAA0B,IAAI,WAAW,IAAI;AACxE,sBAAsB,KAAK,8BAA8B,IAAI;AAC7D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK,4BAA4B,IAAI,WAAW,IAAI;AAC1E,sBAAsB,KAAK,0BAA0B,IAAI;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,wCAAwC,iBAAiB;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,gBAAgB;AAC9C;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;;AAEA;AACA;AACA;AACA,sBAAsB,KAAK,qDAAqD,IAAI,YAAY,IAAI;AACpG,sBAAsB,KAAK,yDAAyD,IAAI;AACxF;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK,uBAAuB,IAAI,WAAW,IAAI;AACnE,oBAAoB,KAAK,2BAA2B,IAAI;AACxD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,wBAAwB,KAAK,YAAY,IAAI,OAAO,IAAI;AACxD,wBAAwB,KAAK,gBAAgB,IAAI;AACjD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,KAAK,YAAY,IAAI,OAAO,IAAI;AACxD,wBAAwB,KAAK,gBAAgB,IAAI,OAAO,IAAI;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,KAAK,2BAA2B,IAAI,WAAW,IAAI;AAC3E,wBAAwB,KAAK,+BAA+B,IAAI;AAChE;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,wBAAwB,KAAK,4BAA4B,IAAI,WAAW,IAAI;AAC5E,wBAAwB,KAAK,gCAAgC,IAAI;AACjE;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB;;AAEA;AACA,4BAA4B,IAAI;AAChC;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB,EAAE;AAC/D;AACA;AACA,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ,6BAA6B,QAAQ;AAC/D;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,sBAAsB,KAAK,uBAAuB,IAAI;AACtD,sBAAsB,KAAK,2BAA2B,IAAI;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,KAAK,+BAA+B,IAAI;AAC9D,sBAAsB,KAAK,mCAAmC,IAAI;AAClE;AACA;AACA;AACA,GAAG;AACH;;;;;;;AC90CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;AC7EA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK,YAAY,IAAI;AACzC,oBAAoB,KAAK,gBAAgB,IAAI;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK,gBAAgB,IAAI;AAC7C,oBAAoB,KAAK,YAAY,IAAI;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe,GAAG,eAAe;AAC5D;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B,eAAe,GAAG,iBAAiB;AACjE;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO,mBAAmB;AACpD;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B,OAAO,mBAAmB;AACvD;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,OAAO,mBAAmB;AACxD;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO,mBAAmB;AAC3D;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;AAC9C;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO,mBAAmB;AAC3D;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,OAAO,mBAAmB;AAC9D;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,iBAAiB;AAC9B,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,iBAAiB;AAC9B,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;AC/hCA,IAAI9G,SAAS,mBAAAC,CAAQ,CAAR,EAAgBD,MAAhB,EAAb;;AAEAG,QAAQ+B,GAAR,GAAc,UAASD,QAAT,EAAmB;AAChCiwB,UAAS,kBAAT,EAA6B,YAAW;AACvC,MAAI1hB,MAAMvO,SAASoT,aAAT,EAAV;AACA6c,WAAS,uCAAT,EAAkD,YAAW;AAC5DnxB,MAAG,oEAAH,EAAyE,YAAW;AACnF,QAAI,CAACyP,GAAL,EAAU,MAAM,IAAInK,KAAJ,CAAU,iBAAV,CAAN;AACVmK,QAAIxQ,MAAJ,CAAWyB,IAAX,C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","file":"tests.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SPScript\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SPScript\"] = factory();\n\telse\n\t\troot[\"SPScript\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 41);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4f23e44baeeb156f303d","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 1\n// module chunks = 0 1","module.exports = require('./lib/chai');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/index.js\n// module id = 2\n// module chunks = 0","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### flag(object ,key, [value])\n *\n * Get or set a flag value on an object. If a\n * value is provided it will be set, else it will\n * return the currently set value or `undefined` if\n * the value is not set.\n *\n *     utils.flag(this, 'foo', 'bar'); // setter\n *     utils.flag(this, 'foo'); // getter, returns `bar`\n *\n * @param {Object} object (constructed Assertion\n * @param {String} key\n * @param {Mixed} value (optional)\n * @name flag\n * @api private\n */\n\nmodule.exports = function (obj, key, value) {\n  var flags = obj.__flags || (obj.__flags = Object.create(null));\n  if (arguments.length === 3) {\n    flags[key] = value;\n  } else {\n    return flags[key];\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/flag.js\n// module id = 3\n// module chunks = 0","module.exports = {\n\n  /**\n   * ### config.includeStack\n   *\n   * User configurable property, influences whether stack trace\n   * is included in Assertion error message. Default of false\n   * suppresses stack trace in the error message.\n   *\n   *     chai.config.includeStack = true;  // enable stack on error\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n   includeStack: false,\n\n  /**\n   * ### config.showDiff\n   *\n   * User configurable property, influences whether or not\n   * the `showDiff` flag should be included in the thrown\n   * AssertionErrors. `false` will always be `false`; `true`\n   * will be true when the assertion has requested a diff\n   * be shown.\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  showDiff: true,\n\n  /**\n   * ### config.truncateThreshold\n   *\n   * User configurable property, sets length threshold for actual and\n   * expected values in assertion errors. If this threshold is exceeded,\n   * the value is truncated.\n   *\n   * Set it to zero if you want to disable truncating altogether.\n   *\n   *     chai.config.truncateThreshold = 0;  // disable truncating\n   *\n   * @param {Number}\n   * @api public\n   */\n\n  truncateThreshold: 40\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/config.js\n// module id = 4\n// module chunks = 0","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/timers-browserify/main.js\n// module id = 5\n// module chunks = 0 1","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/setimmediate/setImmediate.js\n// module id = 6\n// module chunks = 0 1","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 7\n// module chunks = 0 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 9\n// module chunks = 0 1","// This is (almost) directly from Node.js utils\n// https://github.com/joyent/node/blob/f8c335d0caf47f16d31413f89aa28eda3878e3aa/lib/util.js\n\nvar getName = require('./getName');\nvar getProperties = require('./getProperties');\nvar getEnumerableProperties = require('./getEnumerableProperties');\n\nmodule.exports = inspect;\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Boolean} showHidden Flag that shows hidden (not enumerable)\n *    properties of objects.\n * @param {Number} depth Depth in which to descend in object. Default is 2.\n * @param {Boolean} colors Flag to turn on ANSI escape codes to color the\n *    output. Default is false (no coloring).\n */\nfunction inspect(obj, showHidden, depth, colors) {\n  var ctx = {\n    showHidden: showHidden,\n    seen: [],\n    stylize: function (str) { return str; }\n  };\n  return formatValue(ctx, obj, (typeof depth === 'undefined' ? 2 : depth));\n}\n\n// Returns true if object is a DOM element.\nvar isDOMElement = function (object) {\n  if (typeof HTMLElement === 'object') {\n    return object instanceof HTMLElement;\n  } else {\n    return object &&\n      typeof object === 'object' &&\n      object.nodeType === 1 &&\n      typeof object.nodeName === 'string';\n  }\n};\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (value && typeof value.inspect === 'function' &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes);\n    if (typeof ret !== 'string') {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // If this is a DOM element, try to get the outer HTML.\n  if (isDOMElement(value)) {\n    if ('outerHTML' in value) {\n      return value.outerHTML;\n      // This value does not have an outerHTML attribute,\n      //   it could still be an XML element\n    } else {\n      // Attempt to serialize it\n      try {\n        if (document.xmlVersion) {\n          var xmlSerializer = new XMLSerializer();\n          return xmlSerializer.serializeToString(value);\n        } else {\n          // Firefox 11- do not support outerHTML\n          //   It does, however, support innerHTML\n          //   Use the following to render the element\n          var ns = \"http://www.w3.org/1999/xhtml\";\n          var container = document.createElementNS(ns, '_');\n\n          container.appendChild(value.cloneNode(false));\n          html = container.innerHTML\n            .replace('><', '>' + value.innerHTML + '<');\n          container.innerHTML = '';\n          return html;\n        }\n      } catch (err) {\n        // This could be a non-native DOM implementation,\n        //   continue with the normal flow:\n        //   printing the element as if it is an object.\n      }\n    }\n  }\n\n  // Look up the keys of the object.\n  var visibleKeys = getEnumerableProperties(value);\n  var keys = ctx.showHidden ? getProperties(value) : visibleKeys;\n\n  // Some type of object without properties can be shortcutted.\n  // In IE, errors have a single `stack` property, or if they are vanilla `Error`,\n  // a `stack` plus `description` property; ignore those for consistency.\n  if (keys.length === 0 || (isError(value) && (\n      (keys.length === 1 && keys[0] === 'stack') ||\n      (keys.length === 2 && keys[0] === 'description' && keys[1] === 'stack')\n     ))) {\n    if (typeof value === 'function') {\n      var name = getName(value);\n      var nameSuffix = name ? ': ' + name : '';\n      return ctx.stylize('[Function' + nameSuffix + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toUTCString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (typeof value === 'function') {\n    var name = getName(value);\n    var nameSuffix = name ? ': ' + name : '';\n    base = ' [Function' + nameSuffix + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    return formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  switch (typeof value) {\n    case 'undefined':\n      return ctx.stylize('undefined', 'undefined');\n\n    case 'string':\n      var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                               .replace(/'/g, \"\\\\'\")\n                                               .replace(/\\\\\"/g, '\"') + '\\'';\n      return ctx.stylize(simple, 'string');\n\n    case 'number':\n      if (value === 0 && (1/value) === -Infinity) {\n        return ctx.stylize('-0', 'number');\n      }\n      return ctx.stylize('' + value, 'number');\n\n    case 'boolean':\n      return ctx.stylize('' + value, 'boolean');\n  }\n  // For some reason typeof null is \"object\", so special case here.\n  if (value === null) {\n    return ctx.stylize('null', 'null');\n  }\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (Object.prototype.hasOwnProperty.call(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str;\n  if (value.__lookupGetter__) {\n    if (value.__lookupGetter__(key)) {\n      if (value.__lookupSetter__(key)) {\n        str = ctx.stylize('[Getter/Setter]', 'special');\n      } else {\n        str = ctx.stylize('[Getter]', 'special');\n      }\n    } else {\n      if (value.__lookupSetter__(key)) {\n        str = ctx.stylize('[Setter]', 'special');\n      }\n    }\n  }\n  if (visibleKeys.indexOf(key) < 0) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(value[key]) < 0) {\n      if (recurseTimes === null) {\n        str = formatValue(ctx, value[key], null);\n      } else {\n        str = formatValue(ctx, value[key], recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (typeof name === 'undefined') {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\nfunction isArray(ar) {\n  return Array.isArray(ar) ||\n         (typeof ar === 'object' && objectToString(ar) === '[object Array]');\n}\n\nfunction isRegExp(re) {\n  return typeof re === 'object' && objectToString(re) === '[object RegExp]';\n}\n\nfunction isDate(d) {\n  return typeof d === 'object' && objectToString(d) === '[object Date]';\n}\n\nfunction isError(e) {\n  return typeof e === 'object' && objectToString(e) === '[object Error]';\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/inspect.js\n// module id = 10\n// module chunks = 0","/*!\n * Chai - getActual utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * # getActual(object, [actual])\n *\n * Returns the `actual` value for an Assertion\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n */\n\nmodule.exports = function (obj, args) {\n  return args.length > 4 ? args[4] : obj._obj;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getActual.js\n// module id = 13\n// module chunks = 0","/*!\n * Chai - getName utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * # getName(func)\n *\n * Gets the name of a function, in a cross-browser way.\n *\n * @param {Function} a function (usually a constructor)\n */\n\nmodule.exports = function (func) {\n  if (func.name) return func.name;\n\n  var match = /^\\s?function ([^(]*)\\(/.exec(func);\n  return match && match[1] ? match[1] : \"\";\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getName.js\n// module id = 14\n// module chunks = 0","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependancies\n */\n\nvar inspect = require('./inspect');\nvar config = require('../config');\n\n/**\n * ### .objDisplay (object)\n *\n * Determines if an object or an array matches\n * criteria to be inspected in-line for error\n * messages or should be truncated.\n *\n * @param {Mixed} javascript object to inspect\n * @name objDisplay\n * @api public\n */\n\nmodule.exports = function (obj) {\n  var str = inspect(obj)\n    , type = Object.prototype.toString.call(obj);\n\n  if (config.truncateThreshold && str.length >= config.truncateThreshold) {\n    if (type === '[object Function]') {\n      return !obj.name || obj.name === ''\n        ? '[Function]'\n        : '[Function: ' + obj.name + ']';\n    } else if (type === '[object Array]') {\n      return '[ Array(' + obj.length + ') ]';\n    } else if (type === '[object Object]') {\n      var keys = Object.keys(obj)\n        , kstr = keys.length > 2\n          ? keys.splice(0, 2).join(', ') + ', ...'\n          : keys.join(', ');\n      return '{ Object (' + kstr + ') }';\n    } else {\n      return str;\n    }\n  } else {\n    return str;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/objDisplay.js\n// module id = 15\n// module chunks = 0","/*!\n * Chai - transferFlags utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### transferFlags(assertion, object, includeAll = true)\n *\n * Transfer all the flags for `assertion` to `object`. If\n * `includeAll` is set to `false`, then the base Chai\n * assertion flags (namely `object`, `ssfi`, and `message`)\n * will not be transferred.\n *\n *\n *     var newAssertion = new Assertion();\n *     utils.transferFlags(assertion, newAssertion);\n *\n *     var anotherAsseriton = new Assertion(myObj);\n *     utils.transferFlags(assertion, anotherAssertion, false);\n *\n * @param {Assertion} assertion the assertion to transfer the flags from\n * @param {Object} object the object to transfer the flags too; usually a new assertion\n * @param {Boolean} includeAll\n * @name getAllFlags\n * @api private\n */\n\nmodule.exports = function (assertion, object, includeAll) {\n  var flags = assertion.__flags || (assertion.__flags = Object.create(null));\n\n  if (!object.__flags) {\n    object.__flags = Object.create(null);\n  }\n\n  includeAll = arguments.length === 3 ? includeAll : true;\n\n  for (var flag in flags) {\n    if (includeAll ||\n        (flag !== 'object' && flag !== 'ssfi' && flag != 'message')) {\n      object.__flags[flag] = flags[flag];\n    }\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/transferFlags.js\n// module id = 16\n// module chunks = 0","var should = require(\"chai\").should();\r\nvar create = (exports.create = function(securable, action, email) {\r\n\tif (action === \"check\") {\r\n\t\treturn function() {\r\n\t\t\tvar permissions = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tsecurable.permissions\r\n\t\t\t\t\t.check(email)\r\n\t\t\t\t\t.then(function(privs) {\r\n\t\t\t\t\t\tpermissions = privs;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return a promise that resolves to an array of base permission strings\", function() {\r\n\t\t\t\tpermissions.should.be.an(\"array\");\r\n\t\t\t\tpermissions.should.not.be.empty;\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should reject the promise for an invalid email\", function(done) {\r\n\t\t\t\tsecurable.permissions\r\n\t\t\t\t\t.check(\"invalid@invalid123.com\")\r\n\t\t\t\t\t.then(function(privs) {\r\n\t\t\t\t\t\t\"one\".should.equal(\"two\");\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t} else {\r\n\t\treturn function() {\r\n\t\t\tvar permissions = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tsecurable.permissions.getRoleAssignments().then(function(privs) {\r\n\t\t\t\t\tpermissions = privs;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to an array of objects\", function() {\r\n\t\t\t\tpermissions.should.be.an(\"array\");\r\n\t\t\t\tpermissions.should.not.be.empty;\r\n\t\t\t});\r\n\t\t\tit(\"Should return objects that each have a member and a roles array\", function() {\r\n\t\t\t\tpermissions.forEach(function(permission) {\r\n\t\t\t\t\tpermission.should.have.property(\"member\");\r\n\t\t\t\t\tpermission.should.have.property(\"roles\");\r\n\t\t\t\t\tpermission.roles.should.be.an(\"array\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return permission objects that contain member.name, member.login, and member.id\", function() {\r\n\t\t\t\tpermissions.forEach(function(permission) {\r\n\t\t\t\t\tpermission.member.should.have.property(\"name\");\r\n\t\t\t\t\tpermission.member.should.have.property(\"login\");\r\n\t\t\t\t\tpermission.member.should.have.property(\"id\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return permission objects, each with a roles array that has a name and description\", function() {\r\n\t\t\t\tpermissions.forEach(function(permission) {\r\n\t\t\t\t\tpermission.roles.forEach(function(role) {\r\n\t\t\t\t\t\trole.should.have.property(\"name\");\r\n\t\t\t\t\t\trole.should.have.property(\"description\");\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/permissionTests.js","// var promisePolyfill = require(\"promise-polyfill\");\r\n// if (!global.Promise) {\r\n// \tglobal.Promise = promisePolyfill;\r\n// }\r\n\r\nmocha.setup(\"bdd\");\r\nchai.should();\r\nvar SPScript = require(\"../../dist/v3/spscript\");\r\nrequire(\"./tests\").run(SPScript);\r\n\r\nmocha.run();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/test.browser.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SPScript\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SPScript\"] = factory();\n\telse\n\t\troot[\"SPScript\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 18);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar queryString_1 = __webpack_require__(21);\r\nvar headers_1 = __webpack_require__(24);\r\nvar loaders_1 = __webpack_require__(25);\r\nvar dependencyManagement_1 = __webpack_require__(26);\r\nfunction isBrowser() {\r\n    return !(typeof window === \"undefined\");\r\n}\r\nfunction parseJSON(data) {\r\n    if (typeof data === \"string\") {\r\n        try {\r\n            data = JSON.parse(data);\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n    return data;\r\n}\r\nvar getArrayBuffer = function (file) {\r\n    if (file && file instanceof File) {\r\n        return new Promise(function (resolve, reject) {\r\n            var reader = new FileReader();\r\n            reader.onload = function (e) {\r\n                resolve(e.target.result);\r\n            };\r\n            reader.readAsArrayBuffer(file);\r\n        });\r\n    }\r\n    else {\r\n        throw \"SPScript.utils.getArrayBuffer: Cant get ArrayBuffer if you don't pass in a file\";\r\n    }\r\n};\r\nfunction validateODataV2(data) {\r\n    data = parseJSON(data);\r\n    var results = null;\r\n    if (data.d && data.d.results && data.d.results.length != null) {\r\n        results = data.d.results;\r\n    }\r\n    else if (data.d) {\r\n        results = data.d;\r\n    }\r\n    return results || data;\r\n}\r\nfunction openModal(url, modalOptions) {\r\n    if (!dependencyManagement_1.validateNamespace(\"SP.UI.ModalDialog\")) {\r\n        throw new Error(\"Sorry. Unable to open modal because native SharePoint Modal JavaScript is on loaded on page.\");\r\n    }\r\n    var defaults = {\r\n        width: 800,\r\n        title: \" \"\r\n    };\r\n    var options = __assign({}, defaults, modalOptions, { url: url });\r\n    return SP.UI.ModalDialog.showModalDialog(options);\r\n}\r\nvar utils = {\r\n    isBrowser: isBrowser,\r\n    headers: headers_1.default,\r\n    parseJSON: parseJSON,\r\n    validateODataV2: validateODataV2,\r\n    qs: { toObj: queryString_1.toObj, fromObj: queryString_1.fromObj },\r\n    loadScript: loaders_1.loadScript,\r\n    loadScripts: loaders_1.loadScripts,\r\n    loadCSS: loaders_1.loadCSS,\r\n    getArrayBuffer: getArrayBuffer,\r\n    waitForLibraries: dependencyManagement_1.waitForLibraries,\r\n    waitForLibrary: dependencyManagement_1.waitForLibrary,\r\n    validateNamespace: dependencyManagement_1.validateNamespace,\r\n    waitForElement: dependencyManagement_1.waitForElement,\r\n    openModal: openModal\r\n};\r\nexports.default = utils;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\n__webpack_require__(6);\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1), __webpack_require__(7)))\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.decode = exports.parse = __webpack_require__(22);\nexports.encode = exports.stringify = __webpack_require__(23);\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n/***/ }),\n/* 10 */,\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// require(\"isomorphic-fetch\");\r\nvar utils_1 = __webpack_require__(0);\r\nvar defaults = {\r\n    method: \"GET\",\r\n    credentials: \"include\",\r\n    redirect: \"follow\"\r\n};\r\nvar request = function (url, options) {\r\n    var opts = Object.assign({}, defaults, options);\r\n    return fetch(url, opts).then(function (resp) {\r\n        var succeeded = resp.ok;\r\n        if (!resp.ok) {\r\n            return resp.text().then(function (err) {\r\n                throw new Error(err);\r\n            });\r\n        }\r\n        return resp.text().then(function (text) {\r\n            return utils_1.default.parseJSON(text) || text;\r\n        });\r\n    });\r\n};\r\nexports.default = request;\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar IPermissions_1 = __webpack_require__(29);\r\n/** Allows you to check the permissions of a securable (list or site) */\r\nvar Securable = (function () {\r\n    function Securable(baseUrl, ctx) {\r\n        this.baseUrl = baseUrl;\r\n        this._dao = ctx;\r\n    }\r\n    /** Gets all the role assignments on that securable  */\r\n    Securable.prototype.getRoleAssignments = function () {\r\n        var url = this.baseUrl + \"/RoleAssignments?$expand=Member,RoleDefinitionBindings\";\r\n        return this._dao.get(url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (results) { return results.map(transformRoleAssignment); });\r\n    };\r\n    Securable.prototype.checkPrivs = function (user) {\r\n        var login = encodeURIComponent(user.LoginName);\r\n        var url = this.baseUrl + \"/getusereffectivepermissions(@v)?@v='\" + login + \"'\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Gets all the role assignments on that securable. If you don't pass an email, it will use the current user. */\r\n    Securable.prototype.check = function (email) {\r\n        var _this = this;\r\n        if (!email && !utils_1.default.isBrowser()) {\r\n            return Promise.reject(\"Can't check permissions. No email passed and no current user\");\r\n        }\r\n        // If no email is passed, then get current user, else get user by email\r\n        var req = !email\r\n            ? this._dao.get('/web/getuserbyid(' + _spPageContextInfo.userId + ')').then(function (data) { return data.d; })\r\n            : this._dao.web.getUser(email);\r\n        return req.then(function (user) { return _this.checkPrivs(user); })\r\n            .then(function (privs) { return permissionMaskToStrings(privs.GetUserEffectivePermissions.Low, privs.GetUserEffectivePermissions.High); });\r\n    };\r\n    return Securable;\r\n}());\r\nexports.default = Securable;\r\nvar transformRoleAssignment = function (raw) {\r\n    var member = {\r\n        login: raw.Member.LoginName,\r\n        name: raw.Member.Title,\r\n        id: raw.Member.Id\r\n    };\r\n    var roles = raw.RoleDefinitionBindings.results.map(function (roleDef) {\r\n        return {\r\n            name: roleDef.Name,\r\n            description: roleDef.Description,\r\n            basePermissions: permissionMaskToStrings(roleDef.BasePermissions.Low, roleDef.BasePermissions.High)\r\n        };\r\n    });\r\n    return { member: member, roles: roles };\r\n};\r\nvar permissionMaskToStrings = function (lowMask, highMask) {\r\n    var permissions = [];\r\n    IPermissions_1.basePermissions.forEach(function (basePermission) {\r\n        if ((basePermission.low & lowMask) > 0 || (basePermission.high & highMask) > 0) {\r\n            permissions.push(basePermission.name);\r\n        }\r\n    });\r\n    return permissions;\r\n};\r\n\n\n/***/ }),\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\r\nvar promise_polyfill_1 = __webpack_require__(19);\r\nvar SPScript_1 = __webpack_require__(20);\r\nif (!global.Promise) {\r\n    global.Promise = promise_polyfill_1.default;\r\n}\r\nmodule.exports = SPScript_1.default;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (root) {\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function noop() {}\n  \n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function () {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  function Promise(fn) {\n    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function') throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    Promise._immediateFn(function () {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (newValue instanceof Promise) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      Promise._immediateFn(function() {\n        if (!self._handled) {\n          Promise._unhandledRejectionFn(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(function (value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      }, function (reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      });\n    } catch (ex) {\n      if (done) return;\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new (this.constructor)(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise.all = function (arr) {\n    var args = Array.prototype.slice.call(arr);\n\n    return new Promise(function (resolve, reject) {\n      if (args.length === 0) return resolve([]);\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(val, function (val) {\n                res(i, val);\n              }, reject);\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && typeof value === 'object' && value.constructor === Promise) {\n      return value;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n      for (var i = 0, len = values.length; i < len; i++) {\n        values[i].then(resolve, reject);\n      }\n    });\n  };\n\n  // Use polyfill for setImmediate for performance gains\n  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n    function (fn) {\n      setTimeoutFunc(fn, 0);\n    };\n\n  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  /**\n   * Set the immediate function to execute callbacks\n   * @param fn {function} Function to execute\n   * @deprecated\n   */\n  Promise._setImmediateFn = function _setImmediateFn(fn) {\n    Promise._immediateFn = fn;\n  };\n\n  /**\n   * Change the function to execute on unhandled rejection\n   * @param {function} fn Function to execute on unhandled rejection\n   * @deprecated\n   */\n  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n    Promise._unhandledRejectionFn = fn;\n  };\n  \n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Promise;\n  } else if (!root.Promise) {\n    root.Promise = Promise;\n  }\n\n})(this);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5).setImmediate))\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar Context_1 = __webpack_require__(27);\r\nvar csr_1 = __webpack_require__(40);\r\nvar spscript = {\r\n    utils: utils_1.default,\r\n    CSR: csr_1.default,\r\n    createContext: function (url, options) {\r\n        try {\r\n            if (!url && global._spPageContextInfo) {\r\n                url = global._spPageContextInfo.webAbsoluteUrl;\r\n            }\r\n            return new Context_1.default(url, options);\r\n        }\r\n        catch (ex) {\r\n            throw new Error(\"Unable to create SPScript Context: \" + ex.message);\r\n        }\r\n    }\r\n};\r\nexports.default = spscript;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar qs = __webpack_require__(8);\r\nfunction fromObj(obj, quoteValues) {\r\n    var writeParam = function (key) {\r\n        var value = (obj[key] + \"\").trim();\r\n        // if there is a space, wrap in single quotes\r\n        if (value.indexOf(\" \") > -1 || quoteValues)\r\n            value = \"'\" + value + \"'\";\r\n        return key + \"=\" + value;\r\n    };\r\n    var str = Object.keys(obj)\r\n        .map(writeParam)\r\n        .join(\"&\");\r\n    return str;\r\n}\r\nexports.fromObj = fromObj;\r\nfunction toObj(str) {\r\n    //if no string is passed use window.location.search\r\n    if (str === undefined && window && window.location && window.location.search) {\r\n        str = window.location.search;\r\n    }\r\n    if (!str)\r\n        return {};\r\n    //trim off the leading '?' if its there\r\n    if (str[0] === \"?\")\r\n        str = str.substr(1);\r\n    return qs.parse(str);\r\n}\r\nexports.toObj = toObj;\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n;\r\nvar jsonMimeType = \"application/json;odata=verbose\";\r\nfunction getStandardHeaders(digest) {\r\n    var headers = {\r\n        \"Accept\": jsonMimeType,\r\n        \"Content-Type\": jsonMimeType\r\n    };\r\n    if (digest)\r\n        headers[\"X-RequestDigest\"] = digest;\r\n    return headers;\r\n}\r\nvar getAddHeaders = getStandardHeaders;\r\nvar getFilestreamHeaders = function (digest) {\r\n    return {\r\n        'Accept': jsonMimeType,\r\n        'X-RequestDigest': digest,\r\n        'Content-Type': \"application/octet-stream\",\r\n        'binaryStringRequestBody': \"true\"\r\n    };\r\n};\r\nvar getActionHeaders = function (verb, digest) {\r\n    return Object.assign({}, getStandardHeaders(digest), {\r\n        \"X-HTTP-Method\": verb\r\n    });\r\n};\r\nvar decorateETag = function (headers, etag) {\r\n    if (etag)\r\n        headers[\"If-Match\"] = etag;\r\n    return headers;\r\n};\r\nvar getUpdateHeaders = function (digest, etag) { return decorateETag(getActionHeaders(\"MERGE\", digest), etag); };\r\nvar getDeleteHeaders = function (digest, etag) { return decorateETag(getActionHeaders(\"DELETE\", digest), etag); };\r\nvar headerUtils = {\r\n    getStandardHeaders: getStandardHeaders,\r\n    getAddHeaders: getAddHeaders,\r\n    getFilestreamHeaders: getFilestreamHeaders,\r\n    getUpdateHeaders: getUpdateHeaders,\r\n    getDeleteHeaders: getDeleteHeaders,\r\n    getActionHeaders: getActionHeaders\r\n};\r\nexports.default = headerUtils;\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.loadCSS = function (url) {\r\n    var link = document.createElement(\"link\");\r\n    link.setAttribute(\"rel\", \"stylesheet\");\r\n    link.setAttribute(\"type\", \"text/css\");\r\n    link.setAttribute(\"href\", url);\r\n    document.querySelector(\"head\").appendChild(link);\r\n};\r\nexports.loadScript = function (url) {\r\n    return new Promise(function (resolve, reject) {\r\n        var scriptTag = window.document.createElement(\"script\");\r\n        var firstScriptTag = document.getElementsByTagName('script')[0];\r\n        scriptTag.async = true;\r\n        firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);\r\n        scriptTag.onload = scriptTag.onreadystatechange = function (arg, isAbort) {\r\n            // if its been aborted, readyState is gone, or readyState is in a 'done' status\r\n            if (isAbort || !scriptTag.readyState || /loaded|complete/.test(scriptTag.readyState)) {\r\n                //clean up\r\n                scriptTag.onload = scriptTag.onreadystatechange = null;\r\n                scriptTag = undefined;\r\n                // resolve/reject the promise\r\n                if (!isAbort)\r\n                    resolve();\r\n                else\r\n                    reject;\r\n            }\r\n        };\r\n        scriptTag.src = url;\r\n    });\r\n};\r\nexports.loadScripts = function (urls) {\r\n    return Promise.all(urls.map(exports.loadScript));\r\n};\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.validateNamespace = function (namespace) {\r\n    var scope = window;\r\n    var sections = namespace.split(\".\");\r\n    var sectionsLength = sections.length;\r\n    for (var i = 0; i < sectionsLength; i++) {\r\n        var prop = sections[i];\r\n        if (prop in scope) {\r\n            scope = scope[prop];\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\nvar _waitForLibraries = function (namespaces, resolve) {\r\n    var missing = namespaces.filter(function (namespace) { return !exports.validateNamespace(namespace); });\r\n    if (missing.length === 0)\r\n        resolve();\r\n    else\r\n        setTimeout(function () { return _waitForLibraries(namespaces, resolve); }, 25);\r\n};\r\nexports.waitForLibraries = function (namespaces) {\r\n    return new Promise(function (resolve, reject) { return _waitForLibraries(namespaces, resolve); });\r\n};\r\nexports.waitForLibrary = function (namespace) {\r\n    return exports.waitForLibraries([namespace]);\r\n};\r\nexports.waitForElement = function (selector, timeout) {\r\n    if (timeout === void 0) { timeout = 5000; }\r\n    var counter = 0;\r\n    var INTERVAL = 25; //milliseconds\r\n    var MAX_ATTEMPTS = timeout / INTERVAL; // eventually give up\r\n    return new Promise(function (resolve, reject) {\r\n        var _waitForElement = function () {\r\n            if (counter > MAX_ATTEMPTS)\r\n                reject(\"Unable to find element: \" + selector);\r\n            var elem = document.querySelector(selector);\r\n            if (!elem) {\r\n                counter++;\r\n                setTimeout(_waitForElement, INTERVAL);\r\n            }\r\n            else\r\n                resolve(elem);\r\n        };\r\n        _waitForElement();\r\n    });\r\n};\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar request_1 = __webpack_require__(11);\r\nvar utils_1 = __webpack_require__(0);\r\nvar List_1 = __webpack_require__(28);\r\nvar Web_1 = __webpack_require__(30);\r\nvar Search_1 = __webpack_require__(31);\r\nvar CustomActions_1 = __webpack_require__(33);\r\nvar Profiles_1 = __webpack_require__(35);\r\nvar tokenHelper_1 = __webpack_require__(36);\r\nvar Context = (function () {\r\n    function Context(url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        this.webUrl = url;\r\n        this.clientId = options.clientId;\r\n        this.clientSecret = options.clientSecret;\r\n        // TODO serverside: replace with tokenHelper.getAppOnlyToken(this.webUrl, this.clientKey, this.clientSecret).then(token => this.accessToken = token);\r\n        this.ensureToken = !options.clientId\r\n            ? Promise.resolve(true)\r\n            : tokenHelper_1.getAppOnlyToken(url, options.clientId, options.clientSecret).then(function (token) { return (_this.accessToken = token); });\r\n        this.search = new Search_1.default(this);\r\n        this.customActions = new CustomActions_1.default(this);\r\n        this.web = new Web_1.default(this);\r\n        this.profiles = new Profiles_1.default(this);\r\n    }\r\n    Context.prototype.executeRequest = function (url, opts) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fullUrl, defaultOptions, requestOptions;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.ensureToken];\r\n                    case 1:\r\n                        _a.sent();\r\n                        fullUrl = /^http/i.test(url) ? url : this.webUrl + \"/_api\" + url;\r\n                        defaultOptions = {\r\n                            method: \"GET\",\r\n                            headers: {\r\n                                Accept: \"application/json; odata=verbose\",\r\n                                \"Content-Type\": \"application/json; odata=verbose\"\r\n                            }\r\n                        };\r\n                        requestOptions = Object.assign({}, defaultOptions, opts);\r\n                        if (this.accessToken) {\r\n                            requestOptions.headers[\"Authorization\"] =\r\n                                \"Bearer \" + this.accessToken;\r\n                        }\r\n                        return [2 /*return*/, request_1.default(fullUrl, requestOptions)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /** Make a 'GET' request to the '<site>/_api' relative url. */\r\n    Context.prototype.get = function (url, opts) {\r\n        var options = Object.assign({}, { method: \"GET\" }, opts);\r\n        return this.executeRequest(url, options).then(utils_1.default.parseJSON);\r\n    };\r\n    /** Make a 'POST' request to the '<site>/_api' relative url. */\r\n    Context.prototype.post = function (url, body, opts) {\r\n        body = this._packagePostBody(body, opts);\r\n        var options = {\r\n            method: \"POST\",\r\n            body: body\r\n        };\r\n        options = Object.assign({}, options, opts);\r\n        return this.executeRequest(url, options).then(utils_1.default.parseJSON);\r\n    };\r\n    /** Make a 'POST' request to the '<site>/_api' relative url. SPScript will handle authorizing the request for you.*/\r\n    Context.prototype.authorizedPost = function (url, body, verb) {\r\n        var _this = this;\r\n        return this.getRequestDigest()\r\n            .then(function (digest) { return utils_1.default.headers.getActionHeaders(verb, digest); })\r\n            .then(function (headers) { return _this.post(url, body, { headers: headers }); });\r\n    };\r\n    Context.prototype._ensureRequestDigest = function (digest) {\r\n        return digest ? Promise.resolve(digest) : this.getRequestDigest();\r\n    };\r\n    /** Get a Request Digest token to authorize a request */\r\n    Context.prototype.getRequestDigest = function () {\r\n        return this.post(\"/contextInfo\", {}).then(function (data) { return data[\"d\"].GetContextWebInformation.FormDigestValue; });\r\n    };\r\n    /** Get an SPScript List instance */\r\n    Context.prototype.lists = function (name) {\r\n        return new List_1.default(name, this);\r\n    };\r\n    Context.prototype._packagePostBody = function (body, opts) {\r\n        // if its already a string just return\r\n        if (typeof body === \"string\")\r\n            return body;\r\n        // if it has an explicit content-type, asssume the body is already that type\r\n        if (opts &&\r\n            opts.headers &&\r\n            opts.headers[\"Content-Type\"] &&\r\n            opts.headers[\"Content-Type\"].indexOf(\"json\") === -1) {\r\n            return body;\r\n        }\r\n        //others stringify\r\n        return JSON.stringify(body);\r\n    };\r\n    return Context;\r\n}());\r\nexports.default = Context;\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar Securable_1 = __webpack_require__(12);\r\nvar List = (function () {\r\n    function List(name, ctx) {\r\n        this.listName = name;\r\n        this.baseUrl = \"/web/lists/getbytitle('\" + this.listName + \"')\";\r\n        this._dao = ctx;\r\n        this.permissions = new Securable_1.default(this.baseUrl, ctx);\r\n    }\r\n    /** Get items from the list. Will return all items if no OData is passed. */\r\n    List.prototype.getItems = function (odata) {\r\n        return this._dao\r\n            .get(this.baseUrl + \"/items\" + appendOData(odata))\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Get a specific item by SharePoint ID */\r\n    List.prototype.getItemById = function (id, odata) {\r\n        var url = this.baseUrl + \"/items(\" + id + \")\" + appendOData(odata);\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Gets the items returned by the specified View name */\r\n    List.prototype.getItemsByView = function (viewName) {\r\n        var _this = this;\r\n        var viewUrl = this.baseUrl + \"/Views/getByTitle('\" + viewName + \"')/ViewQuery\";\r\n        // 1. Get the targeted view on the targeted list so we can pull out the ViewXml\r\n        return this._dao.get(viewUrl)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (view) {\r\n            // Now that we found the view, craft a POST request the the /GetItems endpoint\r\n            var queryUrl = _this.baseUrl + \"/GetItems\";\r\n            var postBody = {\r\n                query: {\r\n                    \"__metadata\": {\r\n                        type: \"SP.CamlQuery\"\r\n                    },\r\n                    ViewXml: view.ViewQuery\r\n                }\r\n            };\r\n            return _this._dao.authorizedPost(queryUrl, postBody);\r\n        })\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Gets you all items whose field(key) matches the value. Currently only text and number columns are supported. */\r\n    List.prototype.findItems = function (key, value, odata) {\r\n        var filterValue = typeof value === \"string\" ? \"'\" + value + \"'\" : value;\r\n        odata = \"$filter=\" + key + \" eq \" + filterValue + appendOData(odata, \"&\");\r\n        return this.getItems(odata);\r\n    };\r\n    /** Get the item whose field(key) matches the value. If multiple matches are found, the first is returned. Currently only text and number columns are supported. */\r\n    List.prototype.findItem = function (key, value, odata) {\r\n        return this.findItems(key, value, odata)\r\n            .then(function (items) {\r\n            if (items && items.length && items.length > 0)\r\n                return items[0];\r\n            return null;\r\n        });\r\n    };\r\n    /** Get all the properties of the List */\r\n    List.prototype.getInfo = function () {\r\n        return this._dao.get(this.baseUrl).then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Insert a List Item */\r\n    List.prototype.addItem = function (item, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest).then(function (digest) {\r\n            return _this._dao.get(_this.baseUrl)\r\n                .then(function (data) {\r\n                //decorate the item with the 'type' metadata\r\n                item = Object.assign({}, {\r\n                    \"__metadata\": {\r\n                        \"type\": data[\"d\"].ListItemEntityTypeFullName\r\n                    }\r\n                }, item);\r\n                var customOptions = {\r\n                    headers: utils_1.default.headers.getAddHeaders(digest)\r\n                };\r\n                return _this._dao.post(_this.baseUrl + \"/items\", item, customOptions);\r\n            })\r\n                .then(utils_1.default.validateODataV2);\r\n        });\r\n    };\r\n    /** Takes a SharePoint Id, and updates that item ONLY with properties that are found in the passed in updates object. */\r\n    List.prototype.updateItem = function (itemId, updates, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest).then(function (digest) {\r\n            return _this.getItemById(itemId).then(function (item) {\r\n                //decorate the item with the 'type' metadata\r\n                updates = Object.assign({}, {\r\n                    \"__metadata\": {\r\n                        \"type\": item[\"__metadata\"].type\r\n                    }\r\n                }, updates);\r\n                var customOptions = {\r\n                    headers: utils_1.default.headers.getUpdateHeaders(digest, item[\"__metadata\"].etag)\r\n                };\r\n                return _this._dao.post(item[\"__metadata\"].uri, updates, customOptions);\r\n            });\r\n        });\r\n    };\r\n    /** deletes the item with the specified SharePoint Id */\r\n    List.prototype.deleteItem = function (itemId, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest).then(function (digest) {\r\n            return _this.getItemById(itemId).then(function (item) {\r\n                var customOptions = {\r\n                    headers: utils_1.default.headers.getDeleteHeaders(digest, item[\"__metadata\"].etag)\r\n                };\r\n                return _this._dao.post(item[\"__metadata\"].uri, \"\", customOptions);\r\n            });\r\n        });\r\n    };\r\n    return List;\r\n}());\r\nexports.default = List;\r\nvar appendOData = function (odata, prefix) {\r\n    prefix = prefix || \"?\";\r\n    if (odata)\r\n        return prefix + odata;\r\n    return \"\";\r\n};\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.basePermissions = [{\r\n        \"name\": \"emptyMask\",\r\n        \"low\": 0,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewListItems\",\r\n        \"low\": 1,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"addListItems\",\r\n        \"low\": 2,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"editListItems\",\r\n        \"low\": 4,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"deleteListItems\",\r\n        \"low\": 8,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"approveItems\",\r\n        \"low\": 16,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"openItems\",\r\n        \"low\": 32,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewVersions\",\r\n        \"low\": 64,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"deleteVersions\",\r\n        \"low\": 128,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"cancelCheckout\",\r\n        \"low\": 256,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"managePersonalViews\",\r\n        \"low\": 512,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"manageLists\",\r\n        \"low\": 2048,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewFormPages\",\r\n        \"low\": 4096,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"anonymousSearchAccessList\",\r\n        \"low\": 8192,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"open\",\r\n        \"low\": 65536,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewPages\",\r\n        \"low\": 131072,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"addAndCustomizePages\",\r\n        \"low\": 262144,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"applyThemeAndBorder\",\r\n        \"low\": 524288,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"applyStyleSheets\",\r\n        \"low\": 1048576,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewUsageData\",\r\n        \"low\": 2097152,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"createSSCSite\",\r\n        \"low\": 4194304,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"manageSubwebs\",\r\n        \"low\": 8388608,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"createGroups\",\r\n        \"low\": 16777216,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"managePermissions\",\r\n        \"low\": 33554432,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"browseDirectories\",\r\n        \"low\": 67108864,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"browseUserInfo\",\r\n        \"low\": 134217728,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"addDelPrivateWebParts\",\r\n        \"low\": 268435456,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"updatePersonalWebParts\",\r\n        \"low\": 536870912,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"manageWeb\",\r\n        \"low\": 1073741824,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"anonymousSearchAccessWebLists\",\r\n        \"low\": -2147483648,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"useClientIntegration\",\r\n        \"low\": 0,\r\n        \"high\": 16\r\n    }, {\r\n        \"name\": \"useRemoteAPIs\",\r\n        \"low\": 0,\r\n        \"high\": 32\r\n    }, {\r\n        \"name\": \"manageAlerts\",\r\n        \"low\": 0,\r\n        \"high\": 64\r\n    }, {\r\n        \"name\": \"createAlerts\",\r\n        \"low\": 0,\r\n        \"high\": 128\r\n    }, {\r\n        \"name\": \"editMyUserInfo\",\r\n        \"low\": 0,\r\n        \"high\": 256\r\n    }, {\r\n        \"name\": \"enumeratePermissions\",\r\n        \"low\": 0,\r\n        \"high\": 1073741824\r\n    }];\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar Securable_1 = __webpack_require__(12);\r\nvar Web = (function () {\r\n    function Web(ctx) {\r\n        this.baseUrl = \"/web\";\r\n        this._dao = ctx;\r\n        this.permissions = new Securable_1.default(this.baseUrl, ctx);\r\n    }\r\n    /** Retrieves basic information about the site */\r\n    Web.prototype.getInfo = function () {\r\n        return this._dao\r\n            .get(this.baseUrl)\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Retrieves all of the subsites */\r\n    Web.prototype.getSubsites = function () {\r\n        return this._dao\r\n            .get(this.baseUrl + \"/webinfos\")\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    Web.prototype.getUser = function (email) {\r\n        var url = email ? this.baseUrl + \"/SiteUsers/GetByEmail('\" + email + \"')\" : this.baseUrl + \"/CurrentUser\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    Web.prototype.ensureUser = function (login) {\r\n        return this._dao.post(\"/web/ensureUser('\" + login + \"')\").then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Retrieves a file by server relative url */\r\n    Web.prototype.getFile = function (url) {\r\n        var url = \"/web/getfilebyserverrelativeurl('\" + url + \"')\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    Web.prototype._copyFile = function (sourceUrl, destinationUrl, digest) {\r\n        var url = \"/web/getfilebyserverrelativeurl('\" + sourceUrl + \"')/CopyTo\"; //(strnewurl='${destinationUrl}',boverwrite=true)`\r\n        var options = {\r\n            headers: utils_1.default.headers.getAddHeaders(digest)\r\n        };\r\n        var body = {\r\n            strNewUrl: destinationUrl,\r\n            bOverWrite: true\r\n        };\r\n        return this._dao.post(url, body, options);\r\n    };\r\n    // TODO: getFolder\r\n    // TODO: uploadFile\r\n    // TODO: fileAction\r\n    // TODO: deleteFile\r\n    /** Copies a file from one server relative url to another */\r\n    Web.prototype.copyFile = function (sourceUrl, destinationUrl, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest)\r\n            .then(function (digest) { return _this._copyFile(sourceUrl, destinationUrl, digest); });\r\n    };\r\n    return Web;\r\n}());\r\nexports.default = Web;\r\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar searchMappers_1 = __webpack_require__(32);\r\nvar Search = (function () {\r\n    function Search(ctx) {\r\n        this._dao = ctx;\r\n    }\r\n    ;\r\n    Object.defineProperty(Search.prototype, \"defaultQueryOptions\", {\r\n        /** get default/empty QueryOptions */\r\n        get: function () {\r\n            return {\r\n                sourceid: null,\r\n                startrow: null,\r\n                rowlimit: 100,\r\n                selectedproperties: null,\r\n                refiners: null,\r\n                refinementfilters: null,\r\n                hiddencontstraints: null,\r\n                sortlist: null\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    /** Query the SP Search Service */\r\n    Search.prototype.query = function (queryText, queryOptions) {\r\n        if (queryOptions === void 0) { queryOptions = {}; }\r\n        var optionsQueryString = utils_1.default.qs.fromObj(queryOptions, true);\r\n        var url = \"/search/query?querytext='\" + queryText + \"'&\" + optionsQueryString;\r\n        return this._dao.get(url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (resp) {\r\n            if (resp.query)\r\n                return searchMappers_1.mapResponse(resp.query);\r\n            throw new Error(\"Invalid response back from search service\");\r\n        });\r\n    };\r\n    ;\r\n    /** Query for only People results */\r\n    Search.prototype.people = function (queryText, queryOptions) {\r\n        if (queryOptions === void 0) { queryOptions = {}; }\r\n        queryOptions.sourceid = 'b09a7990-05ea-4af9-81ef-edfab16c4e31';\r\n        return this.query(queryText, queryOptions);\r\n    };\r\n    ;\r\n    /** Query for only sites (STS_Web). Optionally pass in a url scope. */\r\n    Search.prototype.sites = function (queryText, urlScope, queryOptions) {\r\n        if (queryText === void 0) { queryText = \"\"; }\r\n        if (urlScope === void 0) { urlScope = \"\"; }\r\n        if (queryOptions === void 0) { queryOptions = {}; }\r\n        urlScope = urlScope ? \"Path:\" + urlScope + \"*\" : \"\";\r\n        var query = (queryText + \" contentclass:STS_Web \" + urlScope).trim();\r\n        queryOptions.rowlimit = queryOptions.rowlimit || 499;\r\n        return this.query(query, queryOptions);\r\n    };\r\n    ;\r\n    return Search;\r\n}());\r\nexports.default = Search;\r\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.mapResponse = function (rawResponse) {\r\n    return {\r\n        elapsedTime: rawResponse.ElapsedTime,\r\n        suggestion: rawResponse.SpellingSuggestion,\r\n        resultsCount: rawResponse.PrimaryQueryResult.RelevantResults.RowCount,\r\n        totalResults: rawResponse.PrimaryQueryResult.RelevantResults.TotalRows,\r\n        totalResultsIncludingDuplicates: rawResponse.PrimaryQueryResult.RelevantResults.TotalRowsIncludingDuplicates,\r\n        items: exports.mapItems(rawResponse.PrimaryQueryResult.RelevantResults.Table.Rows.results),\r\n        refiners: exports.mapRefiners(rawResponse.PrimaryQueryResult.RefinementResults)\r\n    };\r\n};\r\nexports.mapRefiners = function (refinementResults) {\r\n    var refiners = [];\r\n    if (refinementResults && refinementResults.Refiners && refinementResults.Refiners.results) {\r\n        refiners = refinementResults.Refiners.results.map(function (r) {\r\n            return {\r\n                RefinerName: r.Name,\r\n                RefinerOptions: r.Entries.results\r\n            };\r\n        });\r\n    }\r\n    return refiners;\r\n};\r\nexports.mapItems = function (itemRows) {\r\n    var items = [];\r\n    for (var i = 0; i < itemRows.length; i++) {\r\n        var row = itemRows[i], item = {};\r\n        for (var j = 0; j < row.Cells.results.length; j++) {\r\n            item[row.Cells.results[j].Key] = row.Cells.results[j].Value;\r\n        }\r\n        items.push(item);\r\n    }\r\n    return items;\r\n};\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar ICustomActions_1 = __webpack_require__(34);\r\nvar CustomActions = (function () {\r\n    function CustomActions(ctx) {\r\n        this._dao = ctx;\r\n    }\r\n    CustomActions.prototype.getScope = function (scopeId) {\r\n        if (scopeId === 3)\r\n            return ICustomActions_1.scopes.Web;\r\n        if (scopeId === 2)\r\n            return ICustomActions_1.scopes.Site;\r\n        throw new Error(\"Invalid Custom Action Scope\");\r\n    };\r\n    CustomActions.prototype.get = function (name) {\r\n        var _this = this;\r\n        // first get the site scoped ones, then the web scoped ones\r\n        return this._dao.get(ICustomActions_1.scopes.Site.url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (siteCustomActions) {\r\n            return _this._dao.get(ICustomActions_1.scopes.Web.url)\r\n                .then(utils_1.default.validateODataV2)\r\n                .then(function (webCustomActions) { return siteCustomActions.concat(webCustomActions); });\r\n        })\r\n            .then(function (customActions) {\r\n            // if a name was passed filter it otherwise return everything\r\n            if (name) {\r\n                var matches = customActions.filter(function (a) { return a.Name === name; });\r\n                if (matches.length) {\r\n                    return matches[0];\r\n                }\r\n                throw new Error(\"Unable to find Custom Action with name: \" + name);\r\n            }\r\n            else\r\n                return customActions;\r\n        });\r\n    };\r\n    /** Gets the API url of a specific Custom Action */\r\n    CustomActions.prototype._getUrl = function (name) {\r\n        var _this = this;\r\n        return this.get(name)\r\n            .then(function (a) { return _this.getScope(a.Scope).url + \"('\" + a.Id + \"')\"; });\r\n    };\r\n    CustomActions.prototype._getUrlAndDigest = function (name) {\r\n        var _this = this;\r\n        var prep = {};\r\n        return this._getUrl(name)\r\n            .then(function (url) {\r\n            prep.url = url;\r\n            return _this._dao.getRequestDigest();\r\n        })\r\n            .then(function (digest) {\r\n            prep.digest = digest;\r\n            return prep;\r\n        });\r\n    };\r\n    /** Update an existing Custom Action. You must pass a custom action with a 'Name' property */\r\n    CustomActions.prototype.update = function (updates) {\r\n        var _this = this;\r\n        if (!updates || !updates.Name)\r\n            throw new Error(\"You must at least pass a Custom Action 'Name'\");\r\n        return this._getUrlAndDigest(updates.Name)\r\n            .then(function (prep) {\r\n            updates = Object.assign({}, ICustomActions_1.metadata, updates);\r\n            var opts = {\r\n                headers: utils_1.default.headers.getUpdateHeaders(prep.digest)\r\n            };\r\n            return _this._dao.post(prep.url, updates, opts);\r\n        });\r\n    };\r\n    /** Remove an existing Custom Action. Searches both Site and Web scoped */\r\n    CustomActions.prototype.remove = function (name) {\r\n        var _this = this;\r\n        if (!name)\r\n            throw new Error(\"You must at least pass an existing Custom Action name\");\r\n        return this._getUrlAndDigest(name)\r\n            .then(function (prep) {\r\n            var opts = {\r\n                headers: utils_1.default.headers.getDeleteHeaders(prep.digest)\r\n            };\r\n            return _this._dao.post(prep.url, {}, opts);\r\n        });\r\n    };\r\n    /** Adds a new custom action. If the custom action name already exists, it will be deleted first */\r\n    CustomActions.prototype.add = function (customAction) {\r\n        var _this = this;\r\n        if (!customAction || !customAction.Name)\r\n            throw new Error(\"You must at least pass a Custom Action 'Name'\");\r\n        var defaults = {\r\n            Name: customAction.Name,\r\n            Title: customAction.Name,\r\n            Description: customAction.Name,\r\n            Group: customAction.Name,\r\n            Sequence: 100,\r\n            Scope: \"Site\",\r\n            Location: \"ScriptLink\",\r\n        };\r\n        customAction = Object.assign({}, defaults, customAction);\r\n        // if it exists already, delete it\r\n        return this.get()\r\n            .then(function (existingCustomActions) {\r\n            if (existingCustomActions.filter(function (ca) { return ca.Name === customAction.Name; }).length) {\r\n                return _this.remove(customAction.Name);\r\n            }\r\n            return true;\r\n        })\r\n            .then(function () { return _this._dao.getRequestDigest(); })\r\n            .then(function (digest) {\r\n            customAction = Object.assign({}, ICustomActions_1.metadata, customAction);\r\n            var scope = ICustomActions_1.scopes[customAction.Scope];\r\n            customAction.Scope = scope.id;\r\n            var opts = {\r\n                headers: utils_1.default.headers.getAddHeaders(digest)\r\n            };\r\n            return _this._dao.post(scope.url, customAction, opts);\r\n        });\r\n    };\r\n    CustomActions.prototype.addScriptBlock = function (name, block, opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        var customAction = {\r\n            Name: name,\r\n            ScriptBlock: block\r\n        };\r\n        customAction = Object.assign({}, customAction, opts);\r\n        return this.add(customAction);\r\n    };\r\n    /** Injects a CSS file onto your site. Defaults to Site scoped */\r\n    CustomActions.prototype.addCSSLink = function (name, url, opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        var scriptBlockStr = \"\\n\\t\\t(function() {\\n\\t\\t\\tvar head = document.querySelector(\\\"head\\\");\\n\\t\\t\\tvar styleTag = document.createElement(\\\"style\\\");\\n\\t\\t\\tstyleTag.appendChild(document.createTextNode(\\\"body { opacity: 0 }\\\"));\\n\\t\\t\\t\\n\\t\\t\\tvar linkTag = document.createElement(\\\"link\\\");\\n\\t\\t\\tlinkTag.rel = \\\"stylesheet\\\";\\tlinkTag.href = \\\"\" + url + \"\\\"; linkTag.type = \\\"text/css\\\";\\n\\t\\t\\tlinkTag.addEventListener(\\\"load\\\", function() {\\n\\t\\t\\t\\thead.removeChild(styleTag);\\n\\t\\t\\t});\\n\\n\\t\\t\\thead.appendChild(styleTag);\\n\\t\\t\\thead.appendChild(linkTag);\\n\\t\\t})();\";\r\n        return this.addScriptBlock(name, scriptBlockStr, opts);\r\n    };\r\n    CustomActions.prototype.addScriptLink = function (name, url, opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        var scriptBlockStr = \"\\n\\t\\t(function() {\\n\\t\\t\\tvar head = document.querySelector(\\\"head\\\");\\n\\t\\t\\tvar scriptTag = document.createElement(\\\"script\\\");\\n            scriptTag.src = \\\"\" + url + \"\\\";\\n            scriptTag.type = \\\"text/javascript\\\";\\n\\t\\t\\thead.appendChild(scriptTag);\\n\\t\\t})();\";\r\n        return this.addScriptBlock(name, scriptBlockStr, opts);\r\n    };\r\n    return CustomActions;\r\n}());\r\nexports.default = CustomActions;\r\n;\r\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.metadata = {\r\n    __metadata: {\r\n        \"type\": \"SP.UserCustomAction\"\r\n    }\r\n};\r\nexports.scopes = {\r\n    \"Web\": {\r\n        id: 3,\r\n        name: \"Web\",\r\n        url: \"/web/usercustomactions\"\r\n    },\r\n    \"Site\": {\r\n        id: 2,\r\n        name: \"Site\",\r\n        url: \"/site/usercustomactions\"\r\n    }\r\n};\r\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar Profiles = (function () {\r\n    function Profiles(ctx) {\r\n        this._dao = ctx;\r\n        this.baseUrl = \"/SP.UserProfiles.PeopleManager\";\r\n    }\r\n    /** Gets the profile of the current user.  */\r\n    Profiles.prototype.current = function () {\r\n        var url = this.baseUrl + \"/GetMyProperties\";\r\n        return this._dao.get(url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(transformPersonProperties);\r\n    };\r\n    Profiles.prototype.get = function (user) {\r\n        var _this = this;\r\n        if (!user)\r\n            return this.current();\r\n        return this.getUserObj(user).then(function (user) {\r\n            var login = encodeURIComponent(user.LoginName || user.AccountName);\r\n            var url = _this.baseUrl + \"/GetPropertiesFor(accountName=@v)?@v='\" + login + \"'\";\r\n            return _this._dao.get(url)\r\n                .then(utils_1.default.validateODataV2)\r\n                .then(transformPersonProperties);\r\n        });\r\n    };\r\n    Profiles.prototype.getUserObj = function (user) {\r\n        if (!user || typeof user === \"string\") {\r\n            return this._dao.web.getUser(user);\r\n        }\r\n        else if (user.AccountName || user.LoginName) {\r\n            return Promise.resolve(user);\r\n        }\r\n        else\r\n            throw new Error(\"profiles.setProperty Error: Invalid user parameter\");\r\n    };\r\n    Profiles.prototype.setProperty = function (key, value, user) {\r\n        var _this = this;\r\n        return this.getUserObj(user).then(function (user) {\r\n            var args = {\r\n                propertyName: key,\r\n                propertyValue: value,\r\n                accountName: user.LoginName || user.AccountName\r\n            };\r\n            var url = _this.baseUrl + \"/SetSingleValueProfileProperty\";\r\n            return _this._dao.authorizedPost(url, args);\r\n        });\r\n    };\r\n    return Profiles;\r\n}());\r\nexports.default = Profiles;\r\nvar transformPersonProperties = function (profile) {\r\n    console.log(profile);\r\n    profile.UserProfileProperties.results.forEach(function (keyvalue) {\r\n        profile[keyvalue.Key] = keyvalue.Value;\r\n    });\r\n    return profile;\r\n};\r\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar url_1 = __webpack_require__(37);\r\nvar querystring = __webpack_require__(8);\r\nvar request_1 = __webpack_require__(11);\r\nexports.getAppOnlyToken = function (url, clientId, clientSecret) {\r\n    var urlParts = url_1.parse(url);\r\n    return getRealm(url).then(function (authParams) {\r\n        var tokenUrl = \"https://accounts.accesscontrol.windows.net/\" + authParams.realm + \"/tokens/OAuth/2\";\r\n        var client_id = clientId + \"@\" + authParams.realm;\r\n        var resource = authParams.client_id + \"/\" + urlParts.host + \"@\" + authParams.realm;\r\n        var postBody = {\r\n            grant_type: \"client_credentials\",\r\n            client_id: client_id,\r\n            client_secret: clientSecret,\r\n            resource: resource,\r\n            scope: resource\r\n        };\r\n        var bodyStr = querystring.stringify(postBody);\r\n        var opts = {\r\n            method: \"POST\",\r\n            body: bodyStr,\r\n            headers: {\r\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                \"Content-Length\": bodyStr.length\r\n            }\r\n        };\r\n        return request_1.default(tokenUrl, opts).then(function (data) {\r\n            console.log(data);\r\n            return data.access_token;\r\n        });\r\n    });\r\n};\r\nvar getRealm = function (url) {\r\n    var endpointUrl = url + \"/_api/web\";\r\n    var opts = {\r\n        method: \"GET\",\r\n        headers: {\r\n            Authorization: \"Bearer \",\r\n            Accept: \"application/json;odata=verbose\",\r\n            response_type: \"code\"\r\n        }\r\n    };\r\n    return new Promise(function (resolve, reject) {\r\n        fetch(endpointUrl, opts).then(function (res) {\r\n            if (!res.ok) {\r\n                var realm = parseRealm(res.headers[\"www-authenticate\"] ||\r\n                    res.headers._headers[\"www-authenticate\"][0]);\r\n                resolve(realm);\r\n            }\r\n            //this should fail\r\n            reject(\"Get Realm succeeded somehow?!\");\r\n        });\r\n    });\r\n};\r\nvar parseRealm = function (raw) {\r\n    var bearer = \"Bearer realm=\";\r\n    if (raw && raw.startsWith(\"Bearer\")) {\r\n        raw = raw.substr(7);\r\n        var params = raw\r\n            .split(\",\")\r\n            .filter(function (p) { return p.indexOf(\"=\") > -1; })\r\n            .reduce(function (params, piece) {\r\n            var parts = piece.split(\"=\");\r\n            if (parts.length === 2) {\r\n                params[parts[0].trim()] = parts[1]\r\n                    .trim()\r\n                    .replace(/\\\"/g, \"\");\r\n            }\r\n            return params;\r\n        }, {});\r\n        return params;\r\n    }\r\n    return null;\r\n};\r\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar punycode = __webpack_require__(38);\nvar util = __webpack_require__(39);\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = __webpack_require__(8);\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttrue\n\t) {\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\treturn punycode;\n\t\t}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)(module), __webpack_require__(1)))\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar registerField = function (field, renderer, opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    if (!utils_1.default.validateNamespace(\"SPClientTemplates.TemplateManager\")) {\r\n        throw new Error(\"Unable to register CSR template.  SPClientTemplates.TemplateManager does not exist\");\r\n    }\r\n    var renderers = {};\r\n    //View, DisplayForm, EditForm, NewForm\r\n    field.locations.forEach(function (l) { return renderers[l] = renderer; });\r\n    var defaults = {\r\n        Templates: {\r\n            Fields: {}\r\n        }\r\n    };\r\n    var templateOverride = Object.assign({}, defaults, opts);\r\n    templateOverride.Templates.Fields[field.name] = renderers;\r\n    SPClientTemplates.TemplateManager.RegisterTemplateOverrides(templateOverride);\r\n    return field;\r\n};\r\nvar registerDisplayField = function (fieldComponent, opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    var renderer = createDisplayFieldRenderer(fieldComponent);\r\n    fieldComponent.locations = fieldComponent.locations || [\"View\", \"DisplayForm\"];\r\n    return registerField(fieldComponent, renderer, opts);\r\n};\r\nvar registerFormField = function (fieldComponent, opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    var renderer = createFormFieldRenderer(fieldComponent);\r\n    fieldComponent.locations = fieldComponent.locations || [\"NewForm\", \"EditForm\"];\r\n    return registerField(fieldComponent, renderer, opts);\r\n};\r\nfunction createFormFieldRenderer(field) {\r\n    return function (ctx) {\r\n        var formCtx = ctx.FormContext;\r\n        // need to clone ctx, it is getting overwritten so we lost CurrentItem\r\n        var clonedCtx = Object.assign({}, ctx);\r\n        if (field.onReady) {\r\n            if (formCtx) {\r\n                formCtx.registerInitCallback(field.name, field.onReady.bind(null, clonedCtx));\r\n            }\r\n            else {\r\n                setTimeout(field.onReady.bind(null, clonedCtx), 100);\r\n            }\r\n        }\r\n        if (field.getValue && formCtx) {\r\n            formCtx.registerGetValueCallback(field.name, field.getValue.bind(null, clonedCtx));\r\n        }\r\n        // tack on 'setValue' function\r\n        if (formCtx && formCtx.updateControlValue) {\r\n            field.setValue = function (value) {\r\n                formCtx.updateControlValue(field.name, value);\r\n            };\r\n        }\r\n        return field.render(ctx);\r\n    };\r\n}\r\nfunction createDisplayFieldRenderer(field) {\r\n    return function (ctx) {\r\n        var formCtx = ctx.FormContext;\r\n        if (formCtx && formCtx.registerInitCallback && field.onReady) {\r\n            formCtx.registerInitCallback(field.name, field.onReady);\r\n        }\r\n        return field.render(ctx);\r\n    };\r\n}\r\nvar CSR = {\r\n    registerDisplayField: registerDisplayField,\r\n    registerFormField: registerFormField\r\n};\r\nexports.default = CSR;\r\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=spscript.js.map\n\n\n// WEBPACK FOOTER //\n// ./dist/v3/spscript.js","exports.run = function(SPScript, ctx) {\r\n\tconsole.log(\"SPScript Env: \" + SPScript._env);\r\n\tvar should = require(\"chai\").should();\r\n\r\n\tdescribe(\"SPScript Global Namespace\", function() {\r\n\t\tit(\"Should have a 'SPScript.createContext()' method\", function() {\r\n\t\t\tSPScript.should.have.property(\"createContext\");\r\n\t\t\tSPScript.createContext.should.be.a(\"function\");\r\n\t\t});\r\n\t\tit(\"Should have a 'SPScript.utils' namespace\", function() {\r\n\t\t\tSPScript.should.not.be.null;\r\n\t\t\tSPScript.should.have.property(\"utils\");\r\n\t\t});\r\n\t});\r\n\tif (!ctx) require(\"./contextTests\").run(SPScript);\r\n\tctx = ctx || SPScript.createContext();\r\n\r\n\trequire(\"./webTests\").run(ctx);\r\n\trequire(\"./listTests\").run(ctx);\r\n\trequire(\"./searchTests\").run(ctx);\r\n\trequire(\"./customActionTests\").run(ctx);\r\n\trequire(\"./profileTests\").run(ctx);\r\n\trequire(\"./utilsTests\").run(SPScript.utils);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/index.js","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar used = []\n  , exports = module.exports = {};\n\n/*!\n * Chai version\n */\n\nexports.version = '1.10.0';\n\n/*!\n * Assertion Error\n */\n\nexports.AssertionError = require('assertion-error');\n\n/*!\n * Utils for plugins (not exported)\n */\n\nvar util = require('./chai/utils');\n\n/**\n * # .use(function)\n *\n * Provides a way to extend the internals of Chai\n *\n * @param {Function}\n * @returns {this} for chaining\n * @api public\n */\n\nexports.use = function (fn) {\n  if (!~used.indexOf(fn)) {\n    fn(this, util);\n    used.push(fn);\n  }\n\n  return this;\n};\n\n/*!\n * Configuration\n */\n\nvar config = require('./chai/config');\nexports.config = config;\n\n/*!\n * Primary `Assertion` prototype\n */\n\nvar assertion = require('./chai/assertion');\nexports.use(assertion);\n\n/*!\n * Core Assertions\n */\n\nvar core = require('./chai/core/assertions');\nexports.use(core);\n\n/*!\n * Expect interface\n */\n\nvar expect = require('./chai/interface/expect');\nexports.use(expect);\n\n/*!\n * Should interface\n */\n\nvar should = require('./chai/interface/should');\nexports.use(should);\n\n/*!\n * Assert interface\n */\n\nvar assert = require('./chai/interface/assert');\nexports.use(assert);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai.js\n// module id = 44\n// module chunks = 0","/*!\n * assertion-error\n * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>\n * MIT Licensed\n */\n\n/*!\n * Return a function that will copy properties from\n * one object to another excluding any originally\n * listed. Returned function will create a new `{}`.\n *\n * @param {String} excluded properties ...\n * @return {Function}\n */\n\nfunction exclude () {\n  var excludes = [].slice.call(arguments);\n\n  function excludeProps (res, obj) {\n    Object.keys(obj).forEach(function (key) {\n      if (!~excludes.indexOf(key)) res[key] = obj[key];\n    });\n  }\n\n  return function extendExclude () {\n    var args = [].slice.call(arguments)\n      , i = 0\n      , res = {};\n\n    for (; i < args.length; i++) {\n      excludeProps(res, args[i]);\n    }\n\n    return res;\n  };\n};\n\n/*!\n * Primary Exports\n */\n\nmodule.exports = AssertionError;\n\n/**\n * ### AssertionError\n *\n * An extension of the JavaScript `Error` constructor for\n * assertion and validation scenarios.\n *\n * @param {String} message\n * @param {Object} properties to include (optional)\n * @param {callee} start stack function (optional)\n */\n\nfunction AssertionError (message, _props, ssf) {\n  var extend = exclude('name', 'message', 'stack', 'constructor', 'toJSON')\n    , props = extend(_props || {});\n\n  // default values\n  this.message = message || 'Unspecified AssertionError';\n  this.showDiff = false;\n\n  // copy from properties\n  for (var key in props) {\n    this[key] = props[key];\n  }\n\n  // capture stack trace\n  ssf = ssf || arguments.callee;\n  if (ssf && Error.captureStackTrace) {\n    Error.captureStackTrace(this, ssf);\n  }\n}\n\n/*!\n * Inherit from Error.prototype\n */\n\nAssertionError.prototype = Object.create(Error.prototype);\n\n/*!\n * Statically set name\n */\n\nAssertionError.prototype.name = 'AssertionError';\n\n/*!\n * Ensure correct constructor\n */\n\nAssertionError.prototype.constructor = AssertionError;\n\n/**\n * Allow errors to be converted to JSON for static transfer.\n *\n * @param {Boolean} include stack (default: `true`)\n * @return {Object} object that can be `JSON.stringify`\n */\n\nAssertionError.prototype.toJSON = function (stack) {\n  var extend = exclude('constructor', 'toJSON', 'stack')\n    , props = extend({ name: this.name }, this);\n\n  // include stack if exists and not turned off\n  if (false !== stack && this.stack) {\n    props.stack = this.stack;\n  }\n\n  return props;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assertion-error/index.js\n// module id = 45\n// module chunks = 0","/*!\n * chai\n * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Main exports\n */\n\nvar exports = module.exports = {};\n\n/*!\n * test utility\n */\n\nexports.test = require('./test');\n\n/*!\n * type utility\n */\n\nexports.type = require('./type');\n\n/*!\n * message utility\n */\n\nexports.getMessage = require('./getMessage');\n\n/*!\n * actual utility\n */\n\nexports.getActual = require('./getActual');\n\n/*!\n * Inspect util\n */\n\nexports.inspect = require('./inspect');\n\n/*!\n * Object Display util\n */\n\nexports.objDisplay = require('./objDisplay');\n\n/*!\n * Flag utility\n */\n\nexports.flag = require('./flag');\n\n/*!\n * Flag transferring utility\n */\n\nexports.transferFlags = require('./transferFlags');\n\n/*!\n * Deep equal utility\n */\n\nexports.eql = require('deep-eql');\n\n/*!\n * Deep path value\n */\n\nexports.getPathValue = require('./getPathValue');\n\n/*!\n * Function name\n */\n\nexports.getName = require('./getName');\n\n/*!\n * add Property\n */\n\nexports.addProperty = require('./addProperty');\n\n/*!\n * add Method\n */\n\nexports.addMethod = require('./addMethod');\n\n/*!\n * overwrite Property\n */\n\nexports.overwriteProperty = require('./overwriteProperty');\n\n/*!\n * overwrite Method\n */\n\nexports.overwriteMethod = require('./overwriteMethod');\n\n/*!\n * Add a chainable method\n */\n\nexports.addChainableMethod = require('./addChainableMethod');\n\n/*!\n * Overwrite chainable method\n */\n\nexports.overwriteChainableMethod = require('./overwriteChainableMethod');\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/index.js\n// module id = 46\n// module chunks = 0","/*!\n * Chai - test utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependancies\n */\n\nvar flag = require('./flag');\n\n/**\n * # test(object, expression)\n *\n * Test and object for expression.\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n */\n\nmodule.exports = function (obj, args) {\n  var negate = flag(obj, 'negate')\n    , expr = args[0];\n  return negate ? !expr : expr;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/test.js\n// module id = 47\n// module chunks = 0","/*!\n * Chai - type utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Detectable javascript natives\n */\n\nvar natives = {\n    '[object Arguments]': 'arguments'\n  , '[object Array]': 'array'\n  , '[object Date]': 'date'\n  , '[object Function]': 'function'\n  , '[object Number]': 'number'\n  , '[object RegExp]': 'regexp'\n  , '[object String]': 'string'\n};\n\n/**\n * ### type(object)\n *\n * Better implementation of `typeof` detection that can\n * be used cross-browser. Handles the inconsistencies of\n * Array, `null`, and `undefined` detection.\n *\n *     utils.type({}) // 'object'\n *     utils.type(null) // `null'\n *     utils.type(undefined) // `undefined`\n *     utils.type([]) // `array`\n *\n * @param {Mixed} object to detect type of\n * @name type\n * @api private\n */\n\nmodule.exports = function (obj) {\n  var str = Object.prototype.toString.call(obj);\n  if (natives[str]) return natives[str];\n  if (obj === null) return 'null';\n  if (obj === undefined) return 'undefined';\n  if (obj === Object(obj)) return 'object';\n  return typeof obj;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/type.js\n// module id = 48\n// module chunks = 0","/*!\n * Chai - message composition utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependancies\n */\n\nvar flag = require('./flag')\n  , getActual = require('./getActual')\n  , inspect = require('./inspect')\n  , objDisplay = require('./objDisplay');\n\n/**\n * ### .getMessage(object, message, negateMessage)\n *\n * Construct the error message based on flags\n * and template tags. Template tags will return\n * a stringified inspection of the object referenced.\n *\n * Message template tags:\n * - `#{this}` current asserted object\n * - `#{act}` actual value\n * - `#{exp}` expected value\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @name getMessage\n * @api public\n */\n\nmodule.exports = function (obj, args) {\n  var negate = flag(obj, 'negate')\n    , val = flag(obj, 'object')\n    , expected = args[3]\n    , actual = getActual(obj, args)\n    , msg = negate ? args[2] : args[1]\n    , flagMsg = flag(obj, 'message');\n\n  if(typeof msg === \"function\") msg = msg();\n  msg = msg || '';\n  msg = msg\n    .replace(/#{this}/g, objDisplay(val))\n    .replace(/#{act}/g, objDisplay(actual))\n    .replace(/#{exp}/g, objDisplay(expected));\n\n  return flagMsg ? flagMsg + ': ' + msg : msg;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getMessage.js\n// module id = 49\n// module chunks = 0","/*!\n * Chai - getProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getProperties(object)\n *\n * This allows the retrieval of property names of an object, enumerable or not,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @name getProperties\n * @api public\n */\n\nmodule.exports = function getProperties(object) {\n  var result = Object.getOwnPropertyNames(subject);\n\n  function addProperty(property) {\n    if (result.indexOf(property) === -1) {\n      result.push(property);\n    }\n  }\n\n  var proto = Object.getPrototypeOf(subject);\n  while (proto !== null) {\n    Object.getOwnPropertyNames(proto).forEach(addProperty);\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getProperties.js\n// module id = 50\n// module chunks = 0","/*!\n * Chai - getEnumerableProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getEnumerableProperties(object)\n *\n * This allows the retrieval of enumerable property names of an object,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @name getEnumerableProperties\n * @api public\n */\n\nmodule.exports = function getEnumerableProperties(object) {\n  var result = [];\n  for (var name in object) {\n    result.push(name);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getEnumerableProperties.js\n// module id = 51\n// module chunks = 0","module.exports = require('./lib/eql');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/deep-eql/index.js\n// module id = 52\n// module chunks = 0","/*!\n * deep-eql\n * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar type = require('type-detect');\n\n/*!\n * Buffer.isBuffer browser shim\n */\n\nvar Buffer;\ntry { Buffer = require('buffer').Buffer; }\ncatch(ex) {\n  Buffer = {};\n  Buffer.isBuffer = function() { return false; }\n}\n\n/*!\n * Primary Export\n */\n\nmodule.exports = deepEqual;\n\n/**\n * Assert super-strict (egal) equality between\n * two objects of any type.\n *\n * @param {Mixed} a\n * @param {Mixed} b\n * @param {Array} memoised (optional)\n * @return {Boolean} equal match\n */\n\nfunction deepEqual(a, b, m) {\n  if (sameValue(a, b)) {\n    return true;\n  } else if ('date' === type(a)) {\n    return dateEqual(a, b);\n  } else if ('regexp' === type(a)) {\n    return regexpEqual(a, b);\n  } else if (Buffer.isBuffer(a)) {\n    return bufferEqual(a, b);\n  } else if ('arguments' === type(a)) {\n    return argumentsEqual(a, b, m);\n  } else if (!typeEqual(a, b)) {\n    return false;\n  } else if (('object' !== type(a) && 'object' !== type(b))\n  && ('array' !== type(a) && 'array' !== type(b))) {\n    return sameValue(a, b);\n  } else {\n    return objectEqual(a, b, m);\n  }\n}\n\n/*!\n * Strict (egal) equality test. Ensures that NaN always\n * equals NaN and `-0` does not equal `+0`.\n *\n * @param {Mixed} a\n * @param {Mixed} b\n * @return {Boolean} equal match\n */\n\nfunction sameValue(a, b) {\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  return a !== a && b !== b;\n}\n\n/*!\n * Compare the types of two given objects and\n * return if they are equal. Note that an Array\n * has a type of `array` (not `object`) and arguments\n * have a type of `arguments` (not `array`/`object`).\n *\n * @param {Mixed} a\n * @param {Mixed} b\n * @return {Boolean} result\n */\n\nfunction typeEqual(a, b) {\n  return type(a) === type(b);\n}\n\n/*!\n * Compare two Date objects by asserting that\n * the time values are equal using `saveValue`.\n *\n * @param {Date} a\n * @param {Date} b\n * @return {Boolean} result\n */\n\nfunction dateEqual(a, b) {\n  if ('date' !== type(b)) return false;\n  return sameValue(a.getTime(), b.getTime());\n}\n\n/*!\n * Compare two regular expressions by converting them\n * to string and checking for `sameValue`.\n *\n * @param {RegExp} a\n * @param {RegExp} b\n * @return {Boolean} result\n */\n\nfunction regexpEqual(a, b) {\n  if ('regexp' !== type(b)) return false;\n  return sameValue(a.toString(), b.toString());\n}\n\n/*!\n * Assert deep equality of two `arguments` objects.\n * Unfortunately, these must be sliced to arrays\n * prior to test to ensure no bad behavior.\n *\n * @param {Arguments} a\n * @param {Arguments} b\n * @param {Array} memoize (optional)\n * @return {Boolean} result\n */\n\nfunction argumentsEqual(a, b, m) {\n  if ('arguments' !== type(b)) return false;\n  a = [].slice.call(a);\n  b = [].slice.call(b);\n  return deepEqual(a, b, m);\n}\n\n/*!\n * Get enumerable properties of a given object.\n *\n * @param {Object} a\n * @return {Array} property names\n */\n\nfunction enumerable(a) {\n  var res = [];\n  for (var key in a) res.push(key);\n  return res;\n}\n\n/*!\n * Simple equality for flat iterable objects\n * such as Arrays or Node.js buffers.\n *\n * @param {Iterable} a\n * @param {Iterable} b\n * @return {Boolean} result\n */\n\nfunction iterableEqual(a, b) {\n  if (a.length !==  b.length) return false;\n\n  var i = 0;\n  var match = true;\n\n  for (; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      match = false;\n      break;\n    }\n  }\n\n  return match;\n}\n\n/*!\n * Extension to `iterableEqual` specifically\n * for Node.js Buffers.\n *\n * @param {Buffer} a\n * @param {Mixed} b\n * @return {Boolean} result\n */\n\nfunction bufferEqual(a, b) {\n  if (!Buffer.isBuffer(b)) return false;\n  return iterableEqual(a, b);\n}\n\n/*!\n * Block for `objectEqual` ensuring non-existing\n * values don't get in.\n *\n * @param {Mixed} object\n * @return {Boolean} result\n */\n\nfunction isValue(a) {\n  return a !== null && a !== undefined;\n}\n\n/*!\n * Recursively check the equality of two objects.\n * Once basic sameness has been established it will\n * defer to `deepEqual` for each enumerable key\n * in the object.\n *\n * @param {Mixed} a\n * @param {Mixed} b\n * @return {Boolean} result\n */\n\nfunction objectEqual(a, b, m) {\n  if (!isValue(a) || !isValue(b)) {\n    return false;\n  }\n\n  if (a.prototype !== b.prototype) {\n    return false;\n  }\n\n  var i;\n  if (m) {\n    for (i = 0; i < m.length; i++) {\n      if ((m[i][0] === a && m[i][1] === b)\n      ||  (m[i][0] === b && m[i][1] === a)) {\n        return true;\n      }\n    }\n  } else {\n    m = [];\n  }\n\n  try {\n    var ka = enumerable(a);\n    var kb = enumerable(b);\n  } catch (ex) {\n    return false;\n  }\n\n  ka.sort();\n  kb.sort();\n\n  if (!iterableEqual(ka, kb)) {\n    return false;\n  }\n\n  m.push([ a, b ]);\n\n  var key;\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], m)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/deep-eql/lib/eql.js\n// module id = 53\n// module chunks = 0","module.exports = require('./lib/type');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/type-detect/index.js\n// module id = 54\n// module chunks = 0","/*!\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Primary Exports\n */\n\nvar exports = module.exports = getType;\n\n/*!\n * Detectable javascript natives\n */\n\nvar natives = {\n    '[object Array]': 'array'\n  , '[object RegExp]': 'regexp'\n  , '[object Function]': 'function'\n  , '[object Arguments]': 'arguments'\n  , '[object Date]': 'date'\n};\n\n/**\n * ### typeOf (obj)\n *\n * Use several different techniques to determine\n * the type of object being tested.\n *\n *\n * @param {Mixed} object\n * @return {String} object type\n * @api public\n */\n\nfunction getType (obj) {\n  var str = Object.prototype.toString.call(obj);\n  if (natives[str]) return natives[str];\n  if (obj === null) return 'null';\n  if (obj === undefined) return 'undefined';\n  if (obj === Object(obj)) return 'object';\n  return typeof obj;\n}\n\nexports.Library = Library;\n\n/**\n * ### Library\n *\n * Create a repository for custom type detection.\n *\n * ```js\n * var lib = new type.Library;\n * ```\n *\n */\n\nfunction Library () {\n  this.tests = {};\n}\n\n/**\n * #### .of (obj)\n *\n * Expose replacement `typeof` detection to the library.\n *\n * ```js\n * if ('string' === lib.of('hello world')) {\n *   // ...\n * }\n * ```\n *\n * @param {Mixed} object to test\n * @return {String} type\n */\n\nLibrary.prototype.of = getType;\n\n/**\n * #### .define (type, test)\n *\n * Add a test to for the `.test()` assertion.\n *\n * Can be defined as a regular expression:\n *\n * ```js\n * lib.define('int', /^[0-9]+$/);\n * ```\n *\n * ... or as a function:\n *\n * ```js\n * lib.define('bln', function (obj) {\n *   if ('boolean' === lib.of(obj)) return true;\n *   var blns = [ 'yes', 'no', 'true', 'false', 1, 0 ];\n *   if ('string' === lib.of(obj)) obj = obj.toLowerCase();\n *   return !! ~blns.indexOf(obj);\n * });\n * ```\n *\n * @param {String} type\n * @param {RegExp|Function} test\n * @api public\n */\n\nLibrary.prototype.define = function (type, test) {\n  if (arguments.length === 1) return this.tests[type];\n  this.tests[type] = test;\n  return this;\n};\n\n/**\n * #### .test (obj, test)\n *\n * Assert that an object is of type. Will first\n * check natives, and if that does not pass it will\n * use the user defined custom tests.\n *\n * ```js\n * assert(lib.test('1', 'int'));\n * assert(lib.test('yes', 'bln'));\n * ```\n *\n * @param {Mixed} object\n * @param {String} type\n * @return {Boolean} result\n * @api public\n */\n\nLibrary.prototype.test = function (obj, type) {\n  if (type === getType(obj)) return true;\n  var test = this.tests[type];\n\n  if (test && 'regexp' === getType(test)) {\n    return test.test(obj);\n  } else if (test && 'function' === getType(test)) {\n    return test(obj);\n  } else {\n    throw new ReferenceError('Type test \"' + type + '\" not defined or invalid.');\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/type-detect/lib/type.js\n// module id = 55\n// module chunks = 0","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/buffer/index.js\n// module id = 56\n// module chunks = 0","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/base64-js/index.js\n// module id = 57\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ieee754/index.js\n// module id = 58\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isarray/index.js\n// module id = 59\n// module chunks = 0","/*!\n * Chai - getPathValue utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * @see https://github.com/logicalparadox/filtr\n * MIT Licensed\n */\n\n/**\n * ### .getPathValue(path, object)\n *\n * This allows the retrieval of values in an\n * object given a string path.\n *\n *     var obj = {\n *         prop1: {\n *             arr: ['a', 'b', 'c']\n *           , str: 'Hello'\n *         }\n *       , prop2: {\n *             arr: [ { nested: 'Universe' } ]\n *           , str: 'Hello again!'\n *         }\n *     }\n *\n * The following would be the results.\n *\n *     getPathValue('prop1.str', obj); // Hello\n *     getPathValue('prop1.att[2]', obj); // b\n *     getPathValue('prop2.arr[0].nested', obj); // Universe\n *\n * @param {String} path\n * @param {Object} object\n * @returns {Object} value or `undefined`\n * @name getPathValue\n * @api public\n */\n\nvar getPathValue = module.exports = function (path, obj) {\n  var parsed = parsePath(path);\n  return _getPathValue(parsed, obj);\n};\n\n/*!\n * ## parsePath(path)\n *\n * Helper function used to parse string object\n * paths. Use in conjunction with `_getPathValue`.\n *\n *      var parsed = parsePath('myobject.property.subprop');\n *\n * ### Paths:\n *\n * * Can be as near infinitely deep and nested\n * * Arrays are also valid using the formal `myobject.document[3].property`.\n *\n * @param {String} path\n * @returns {Object} parsed\n * @api private\n */\n\nfunction parsePath (path) {\n  var str = path.replace(/\\[/g, '.[')\n    , parts = str.match(/(\\\\\\.|[^.]+?)+/g);\n  return parts.map(function (value) {\n    var re = /\\[(\\d+)\\]$/\n      , mArr = re.exec(value)\n    if (mArr) return { i: parseFloat(mArr[1]) };\n    else return { p: value };\n  });\n};\n\n/*!\n * ## _getPathValue(parsed, obj)\n *\n * Helper companion function for `.parsePath` that returns\n * the value located at the parsed address.\n *\n *      var value = getPathValue(parsed, obj);\n *\n * @param {Object} parsed definition from `parsePath`.\n * @param {Object} object to search against\n * @returns {Object|Undefined} value\n * @api private\n */\n\nfunction _getPathValue (parsed, obj) {\n  var tmp = obj\n    , res;\n  for (var i = 0, l = parsed.length; i < l; i++) {\n    var part = parsed[i];\n    if (tmp) {\n      if ('undefined' !== typeof part.p)\n        tmp = tmp[part.p];\n      else if ('undefined' !== typeof part.i)\n        tmp = tmp[part.i];\n      if (i == (l - 1)) res = tmp;\n    } else {\n      res = undefined;\n    }\n  }\n  return res;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getPathValue.js\n// module id = 60\n// module chunks = 0","/*!\n * Chai - addProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### addProperty (ctx, name, getter)\n *\n * Adds a property to the prototype of an object.\n *\n *     utils.addProperty(chai.Assertion.prototype, 'foo', function () {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.instanceof(Foo);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.foo;\n *\n * @param {Object} ctx object to which the property is added\n * @param {String} name of property to add\n * @param {Function} getter function to be used for name\n * @name addProperty\n * @api public\n */\n\nmodule.exports = function (ctx, name, getter) {\n  Object.defineProperty(ctx, name,\n    { get: function () {\n        var result = getter.call(this);\n        return result === undefined ? this : result;\n      }\n    , configurable: true\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/addProperty.js\n// module id = 61\n// module chunks = 0","/*!\n * Chai - addMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar config = require('../config');\n\n/**\n * ### .addMethod (ctx, name, method)\n *\n * Adds a method to the prototype of an object.\n *\n *     utils.addMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(fooStr).to.be.foo('bar');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for name\n * @name addMethod\n * @api public\n */\nvar flag = require('./flag');\n\nmodule.exports = function (ctx, name, method) {\n  ctx[name] = function () {\n    var old_ssfi = flag(this, 'ssfi');\n    if (old_ssfi && config.includeStack === false)\n      flag(this, 'ssfi', ctx[name]);\n    var result = method.apply(this, arguments);\n    return result === undefined ? this : result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/addMethod.js\n// module id = 62\n// module chunks = 0","/*!\n * Chai - overwriteProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### overwriteProperty (ctx, name, fn)\n *\n * Overwites an already existing property getter and provides\n * access to previous value. Must return function to use as getter.\n *\n *     utils.overwriteProperty(chai.Assertion.prototype, 'ok', function (_super) {\n *       return function () {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.name).to.equal('bar');\n *         } else {\n *           _super.call(this);\n *         }\n *       }\n *     });\n *\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.ok;\n *\n * @param {Object} ctx object whose property is to be overwritten\n * @param {String} name of property to overwrite\n * @param {Function} getter function that returns a getter function to be used for name\n * @name overwriteProperty\n * @api public\n */\n\nmodule.exports = function (ctx, name, getter) {\n  var _get = Object.getOwnPropertyDescriptor(ctx, name)\n    , _super = function () {};\n\n  if (_get && 'function' === typeof _get.get)\n    _super = _get.get\n\n  Object.defineProperty(ctx, name,\n    { get: function () {\n        var result = getter(_super).call(this);\n        return result === undefined ? this : result;\n      }\n    , configurable: true\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/overwriteProperty.js\n// module id = 63\n// module chunks = 0","/*!\n * Chai - overwriteMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### overwriteMethod (ctx, name, fn)\n *\n * Overwites an already existing method and provides\n * access to previous function. Must return function\n * to be used for name.\n *\n *     utils.overwriteMethod(chai.Assertion.prototype, 'equal', function (_super) {\n *       return function (str) {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.value).to.equal(str);\n *         } else {\n *           _super.apply(this, arguments);\n *         }\n *       }\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.equal('bar');\n *\n * @param {Object} ctx object whose method is to be overwritten\n * @param {String} name of method to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @name overwriteMethod\n * @api public\n */\n\nmodule.exports = function (ctx, name, method) {\n  var _method = ctx[name]\n    , _super = function () { return this; };\n\n  if (_method && 'function' === typeof _method)\n    _super = _method;\n\n  ctx[name] = function () {\n    var result = method(_super).apply(this, arguments);\n    return result === undefined ? this : result;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/overwriteMethod.js\n// module id = 64\n// module chunks = 0","/*!\n * Chai - addChainingMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar transferFlags = require('./transferFlags');\nvar flag = require('./flag');\nvar config = require('../config');\n\n/*!\n * Module variables\n */\n\n// Check whether `__proto__` is supported\nvar hasProtoSupport = '__proto__' in Object;\n\n// Without `__proto__` support, this module will need to add properties to a function.\n// However, some Function.prototype methods cannot be overwritten,\n// and there seems no easy cross-platform way to detect them (@see chaijs/chai/issues/69).\nvar excludeNames = /^(?:length|name|arguments|caller)$/;\n\n// Cache `Function` properties\nvar call  = Function.prototype.call,\n    apply = Function.prototype.apply;\n\n/**\n * ### addChainableMethod (ctx, name, method, chainingBehavior)\n *\n * Adds a method to an object, such that the method can also be chained.\n *\n *     utils.addChainableMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addChainableMethod('foo', fn, chainingBehavior);\n *\n * The result can then be used as both a method assertion, executing both `method` and\n * `chainingBehavior`, or as a language chain, which only executes `chainingBehavior`.\n *\n *     expect(fooStr).to.be.foo('bar');\n *     expect(fooStr).to.be.foo.equal('foo');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for `name`, when called\n * @param {Function} chainingBehavior function to be called every time the property is accessed\n * @name addChainableMethod\n * @api public\n */\n\nmodule.exports = function (ctx, name, method, chainingBehavior) {\n  if (typeof chainingBehavior !== 'function') {\n    chainingBehavior = function () { };\n  }\n\n  var chainableBehavior = {\n      method: method\n    , chainingBehavior: chainingBehavior\n  };\n\n  // save the methods so we can overwrite them later, if we need to.\n  if (!ctx.__methods) {\n    ctx.__methods = {};\n  }\n  ctx.__methods[name] = chainableBehavior;\n\n  Object.defineProperty(ctx, name,\n    { get: function () {\n        chainableBehavior.chainingBehavior.call(this);\n\n        var assert = function assert() {\n          var old_ssfi = flag(this, 'ssfi');\n          if (old_ssfi && config.includeStack === false)\n            flag(this, 'ssfi', assert);\n          var result = chainableBehavior.method.apply(this, arguments);\n          return result === undefined ? this : result;\n        };\n\n        // Use `__proto__` if available\n        if (hasProtoSupport) {\n          // Inherit all properties from the object by replacing the `Function` prototype\n          var prototype = assert.__proto__ = Object.create(this);\n          // Restore the `call` and `apply` methods from `Function`\n          prototype.call = call;\n          prototype.apply = apply;\n        }\n        // Otherwise, redefine all properties (slow!)\n        else {\n          var asserterNames = Object.getOwnPropertyNames(ctx);\n          asserterNames.forEach(function (asserterName) {\n            if (!excludeNames.test(asserterName)) {\n              var pd = Object.getOwnPropertyDescriptor(ctx, asserterName);\n              Object.defineProperty(assert, asserterName, pd);\n            }\n          });\n        }\n\n        transferFlags(this, assert);\n        return assert;\n      }\n    , configurable: true\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/addChainableMethod.js\n// module id = 65\n// module chunks = 0","/*!\n * Chai - overwriteChainableMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### overwriteChainableMethod (ctx, name, fn)\n *\n * Overwites an already existing chainable method\n * and provides access to the previous function or\n * property.  Must return functions to be used for\n * name.\n *\n *     utils.overwriteChainableMethod(chai.Assertion.prototype, 'length',\n *       function (_super) {\n *       }\n *     , function (_super) {\n *       }\n *     );\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteChainableMethod('foo', fn, fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.have.length(3);\n *     expect(myFoo).to.have.length.above(3);\n *\n * @param {Object} ctx object whose method / property is to be overwritten\n * @param {String} name of method / property to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @param {Function} chainingBehavior function that returns a function to be used for property\n * @name overwriteChainableMethod\n * @api public\n */\n\nmodule.exports = function (ctx, name, method, chainingBehavior) {\n  var chainableBehavior = ctx.__methods[name];\n\n  var _chainingBehavior = chainableBehavior.chainingBehavior;\n  chainableBehavior.chainingBehavior = function () {\n    var result = chainingBehavior(_chainingBehavior).call(this);\n    return result === undefined ? this : result;\n  };\n\n  var _method = chainableBehavior.method;\n  chainableBehavior.method = function () {\n    var result = method(_method).apply(this, arguments);\n    return result === undefined ? this : result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js\n// module id = 66\n// module chunks = 0","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar config = require('./config');\nvar NOOP = function() { };\n\nmodule.exports = function (_chai, util) {\n  /*!\n   * Module dependencies.\n   */\n\n  var AssertionError = _chai.AssertionError\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  _chai.Assertion = Assertion;\n\n  /*!\n   * Assertion Constructor\n   *\n   * Creates object for chaining.\n   *\n   * @api private\n   */\n\n  function Assertion (obj, msg, stack) {\n    flag(this, 'ssfi', stack || arguments.callee);\n    flag(this, 'object', obj);\n    flag(this, 'message', msg);\n  }\n\n  Object.defineProperty(Assertion, 'includeStack', {\n    get: function() {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      return config.includeStack;\n    },\n    set: function(value) {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      config.includeStack = value;\n    }\n  });\n\n  Object.defineProperty(Assertion, 'showDiff', {\n    get: function() {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      return config.showDiff;\n    },\n    set: function(value) {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      config.showDiff = value;\n    }\n  });\n\n  Assertion.addProperty = function (name, fn) {\n    util.addProperty(this.prototype, name, fn);\n  };\n\n  Assertion.addMethod = function (name, fn) {\n    util.addMethod(this.prototype, name, fn);\n  };\n\n  Assertion.addChainableMethod = function (name, fn, chainingBehavior) {\n    util.addChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  Assertion.addChainableNoop = function(name, fn) {\n    util.addChainableMethod(this.prototype, name, NOOP, fn);\n  };\n\n  Assertion.overwriteProperty = function (name, fn) {\n    util.overwriteProperty(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteMethod = function (name, fn) {\n    util.overwriteMethod(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteChainableMethod = function (name, fn, chainingBehavior) {\n    util.overwriteChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  /*!\n   * ### .assert(expression, message, negateMessage, expected, actual)\n   *\n   * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.\n   *\n   * @name assert\n   * @param {Philosophical} expression to be tested\n   * @param {String or Function} message or function that returns message to display if fails\n   * @param {String or Function} negatedMessage or function that returns negatedMessage to display if negated expression fails\n   * @param {Mixed} expected value (remember to check for negation)\n   * @param {Mixed} actual (optional) will default to `this.obj`\n   * @api private\n   */\n\n  Assertion.prototype.assert = function (expr, msg, negateMsg, expected, _actual, showDiff) {\n    var ok = util.test(this, arguments);\n    if (true !== showDiff) showDiff = false;\n    if (true !== config.showDiff) showDiff = false;\n\n    if (!ok) {\n      var msg = util.getMessage(this, arguments)\n        , actual = util.getActual(this, arguments);\n      throw new AssertionError(msg, {\n          actual: actual\n        , expected: expected\n        , showDiff: showDiff\n      }, (config.includeStack) ? this.assert : flag(this, 'ssfi'));\n    }\n  };\n\n  /*!\n   * ### ._obj\n   *\n   * Quick reference to stored `actual` value for plugin developers.\n   *\n   * @api private\n   */\n\n  Object.defineProperty(Assertion.prototype, '_obj',\n    { get: function () {\n        return flag(this, 'object');\n      }\n    , set: function (val) {\n        flag(this, 'object', val);\n      }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/assertion.js\n// module id = 67\n// module chunks = 0","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, _) {\n  var Assertion = chai.Assertion\n    , toString = Object.prototype.toString\n    , flag = _.flag;\n\n  /**\n   * ### Language Chains\n   *\n   * The following are provided as chainable getters to\n   * improve the readability of your assertions. They\n   * do not provide testing capabilities unless they\n   * have been overwritten by a plugin.\n   *\n   * **Chains**\n   *\n   * - to\n   * - be\n   * - been\n   * - is\n   * - that\n   * - and\n   * - has\n   * - have\n   * - with\n   * - at\n   * - of\n   * - same\n   *\n   * @name language chains\n   * @api public\n   */\n\n  [ 'to', 'be', 'been'\n  , 'is', 'and', 'has', 'have'\n  , 'with', 'that', 'at'\n  , 'of', 'same' ].forEach(function (chain) {\n    Assertion.addProperty(chain, function () {\n      return this;\n    });\n  });\n\n  /**\n   * ### .not\n   *\n   * Negates any of assertions following in the chain.\n   *\n   *     expect(foo).to.not.equal('bar');\n   *     expect(goodFn).to.not.throw(Error);\n   *     expect({ foo: 'baz' }).to.have.property('foo')\n   *       .and.not.equal('bar');\n   *\n   * @name not\n   * @api public\n   */\n\n  Assertion.addProperty('not', function () {\n    flag(this, 'negate', true);\n  });\n\n  /**\n   * ### .deep\n   *\n   * Sets the `deep` flag, later used by the `equal` and\n   * `property` assertions.\n   *\n   *     expect(foo).to.deep.equal({ bar: 'baz' });\n   *     expect({ foo: { bar: { baz: 'quux' } } })\n   *       .to.have.deep.property('foo.bar.baz', 'quux');\n   *\n   * @name deep\n   * @api public\n   */\n\n  Assertion.addProperty('deep', function () {\n    flag(this, 'deep', true);\n  });\n\n  /**\n   * ### .a(type)\n   *\n   * The `a` and `an` assertions are aliases that can be\n   * used either as language chains or to assert a value's\n   * type.\n   *\n   *     // typeof\n   *     expect('test').to.be.a('string');\n   *     expect({ foo: 'bar' }).to.be.an('object');\n   *     expect(null).to.be.a('null');\n   *     expect(undefined).to.be.an('undefined');\n   *\n   *     // language chain\n   *     expect(foo).to.be.an.instanceof(Foo);\n   *\n   * @name a\n   * @alias an\n   * @param {String} type\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function an (type, msg) {\n    if (msg) flag(this, 'message', msg);\n    type = type.toLowerCase();\n    var obj = flag(this, 'object')\n      , article = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(type.charAt(0)) ? 'an ' : 'a ';\n\n    this.assert(\n        type === _.type(obj)\n      , 'expected #{this} to be ' + article + type\n      , 'expected #{this} not to be ' + article + type\n    );\n  }\n\n  Assertion.addChainableMethod('an', an);\n  Assertion.addChainableMethod('a', an);\n\n  /**\n   * ### .include(value)\n   *\n   * The `include` and `contain` assertions can be used as either property\n   * based language chains or as methods to assert the inclusion of an object\n   * in an array or a substring in a string. When used as language chains,\n   * they toggle the `contain` flag for the `keys` assertion.\n   *\n   *     expect([1,2,3]).to.include(2);\n   *     expect('foobar').to.contain('foo');\n   *     expect({ foo: 'bar', hello: 'universe' }).to.include.keys('foo');\n   *\n   * @name include\n   * @alias contain\n   * @param {Object|String|Number} obj\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function includeChainingBehavior () {\n    flag(this, 'contains', true);\n  }\n\n  function include (val, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var expected = false;\n    if (_.type(obj) === 'array' && _.type(val) === 'object') {\n      for (var i in obj) {\n        if (_.eql(obj[i], val)) {\n          expected = true;\n          break;\n        }\n      }\n    } else if (_.type(val) === 'object') {\n      if (!flag(this, 'negate')) {\n        for (var k in val) new Assertion(obj).property(k, val[k]);\n        return;\n      }\n      var subset = {}\n      for (var k in val) subset[k] = obj[k]\n      expected = _.eql(subset, val);\n    } else {\n      expected = obj && ~obj.indexOf(val)\n    }\n    this.assert(\n        expected\n      , 'expected #{this} to include ' + _.inspect(val)\n      , 'expected #{this} to not include ' + _.inspect(val));\n  }\n\n  Assertion.addChainableMethod('include', include, includeChainingBehavior);\n  Assertion.addChainableMethod('contain', include, includeChainingBehavior);\n\n  /**\n   * ### .ok\n   *\n   * Asserts that the target is truthy.\n   *\n   *     expect('everthing').to.be.ok;\n   *     expect(1).to.be.ok;\n   *     expect(false).to.not.be.ok;\n   *     expect(undefined).to.not.be.ok;\n   *     expect(null).to.not.be.ok;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect('everthing').to.be.ok();\n   *     \n   * @name ok\n   * @api public\n   */\n\n  Assertion.addChainableNoop('ok', function () {\n    this.assert(\n        flag(this, 'object')\n      , 'expected #{this} to be truthy'\n      , 'expected #{this} to be falsy');\n  });\n\n  /**\n   * ### .true\n   *\n   * Asserts that the target is `true`.\n   *\n   *     expect(true).to.be.true;\n   *     expect(1).to.not.be.true;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(true).to.be.true();\n   *\n   * @name true\n   * @api public\n   */\n\n  Assertion.addChainableNoop('true', function () {\n    this.assert(\n        true === flag(this, 'object')\n      , 'expected #{this} to be true'\n      , 'expected #{this} to be false'\n      , this.negate ? false : true\n    );\n  });\n\n  /**\n   * ### .false\n   *\n   * Asserts that the target is `false`.\n   *\n   *     expect(false).to.be.false;\n   *     expect(0).to.not.be.false;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(false).to.be.false();\n   *\n   * @name false\n   * @api public\n   */\n\n  Assertion.addChainableNoop('false', function () {\n    this.assert(\n        false === flag(this, 'object')\n      , 'expected #{this} to be false'\n      , 'expected #{this} to be true'\n      , this.negate ? true : false\n    );\n  });\n\n  /**\n   * ### .null\n   *\n   * Asserts that the target is `null`.\n   *\n   *     expect(null).to.be.null;\n   *     expect(undefined).not.to.be.null;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(null).to.be.null();\n   *\n   * @name null\n   * @api public\n   */\n\n  Assertion.addChainableNoop('null', function () {\n    this.assert(\n        null === flag(this, 'object')\n      , 'expected #{this} to be null'\n      , 'expected #{this} not to be null'\n    );\n  });\n\n  /**\n   * ### .undefined\n   *\n   * Asserts that the target is `undefined`.\n   *\n   *     expect(undefined).to.be.undefined;\n   *     expect(null).to.not.be.undefined;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(undefined).to.be.undefined();\n   *\n   * @name undefined\n   * @api public\n   */\n\n  Assertion.addChainableNoop('undefined', function () {\n    this.assert(\n        undefined === flag(this, 'object')\n      , 'expected #{this} to be undefined'\n      , 'expected #{this} not to be undefined'\n    );\n  });\n\n  /**\n   * ### .exist\n   *\n   * Asserts that the target is neither `null` nor `undefined`.\n   *\n   *     var foo = 'hi'\n   *       , bar = null\n   *       , baz;\n   *\n   *     expect(foo).to.exist;\n   *     expect(bar).to.not.exist;\n   *     expect(baz).to.not.exist;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(foo).to.exist();\n   *\n   * @name exist\n   * @api public\n   */\n\n  Assertion.addChainableNoop('exist', function () {\n    this.assert(\n        null != flag(this, 'object')\n      , 'expected #{this} to exist'\n      , 'expected #{this} to not exist'\n    );\n  });\n\n\n  /**\n   * ### .empty\n   *\n   * Asserts that the target's length is `0`. For arrays, it checks\n   * the `length` property. For objects, it gets the count of\n   * enumerable keys.\n   *\n   *     expect([]).to.be.empty;\n   *     expect('').to.be.empty;\n   *     expect({}).to.be.empty;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect([]).to.be.empty();\n   *\n   * @name empty\n   * @api public\n   */\n\n  Assertion.addChainableNoop('empty', function () {\n    var obj = flag(this, 'object')\n      , expected = obj;\n\n    if (Array.isArray(obj) || 'string' === typeof object) {\n      expected = obj.length;\n    } else if (typeof obj === 'object') {\n      expected = Object.keys(obj).length;\n    }\n\n    this.assert(\n        !expected\n      , 'expected #{this} to be empty'\n      , 'expected #{this} not to be empty'\n    );\n  });\n\n  /**\n   * ### .arguments\n   *\n   * Asserts that the target is an arguments object.\n   *\n   *     function test () {\n   *       expect(arguments).to.be.arguments;\n   *     }\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     function test () {\n   *       expect(arguments).to.be.arguments();\n   *     }\n   *\n   * @name arguments\n   * @alias Arguments\n   * @api public\n   */\n\n  function checkArguments () {\n    var obj = flag(this, 'object')\n      , type = Object.prototype.toString.call(obj);\n    this.assert(\n        '[object Arguments]' === type\n      , 'expected #{this} to be arguments but got ' + type\n      , 'expected #{this} to not be arguments'\n    );\n  }\n\n  Assertion.addChainableNoop('arguments', checkArguments);\n  Assertion.addChainableNoop('Arguments', checkArguments);\n\n  /**\n   * ### .equal(value)\n   *\n   * Asserts that the target is strictly equal (`===`) to `value`.\n   * Alternately, if the `deep` flag is set, asserts that\n   * the target is deeply equal to `value`.\n   *\n   *     expect('hello').to.equal('hello');\n   *     expect(42).to.equal(42);\n   *     expect(1).to.not.equal(true);\n   *     expect({ foo: 'bar' }).to.not.equal({ foo: 'bar' });\n   *     expect({ foo: 'bar' }).to.deep.equal({ foo: 'bar' });\n   *\n   * @name equal\n   * @alias equals\n   * @alias eq\n   * @alias deep.equal\n   * @param {Mixed} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertEqual (val, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'deep')) {\n      return this.eql(val);\n    } else {\n      this.assert(\n          val === obj\n        , 'expected #{this} to equal #{exp}'\n        , 'expected #{this} to not equal #{exp}'\n        , val\n        , this._obj\n        , true\n      );\n    }\n  }\n\n  Assertion.addMethod('equal', assertEqual);\n  Assertion.addMethod('equals', assertEqual);\n  Assertion.addMethod('eq', assertEqual);\n\n  /**\n   * ### .eql(value)\n   *\n   * Asserts that the target is deeply equal to `value`.\n   *\n   *     expect({ foo: 'bar' }).to.eql({ foo: 'bar' });\n   *     expect([ 1, 2, 3 ]).to.eql([ 1, 2, 3 ]);\n   *\n   * @name eql\n   * @alias eqls\n   * @param {Mixed} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertEql(obj, msg) {\n    if (msg) flag(this, 'message', msg);\n    this.assert(\n        _.eql(obj, flag(this, 'object'))\n      , 'expected #{this} to deeply equal #{exp}'\n      , 'expected #{this} to not deeply equal #{exp}'\n      , obj\n      , this._obj\n      , true\n    );\n  }\n\n  Assertion.addMethod('eql', assertEql);\n  Assertion.addMethod('eqls', assertEql);\n\n  /**\n   * ### .above(value)\n   *\n   * Asserts that the target is greater than `value`.\n   *\n   *     expect(10).to.be.above(5);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a minimum length. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.above(2);\n   *     expect([ 1, 2, 3 ]).to.have.length.above(2);\n   *\n   * @name above\n   * @alias gt\n   * @alias greaterThan\n   * @param {Number} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertAbove (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len > n\n        , 'expected #{this} to have a length above #{exp} but got #{act}'\n        , 'expected #{this} to not have a length above #{exp}'\n        , n\n        , len\n      );\n    } else {\n      this.assert(\n          obj > n\n        , 'expected #{this} to be above ' + n\n        , 'expected #{this} to be at most ' + n\n      );\n    }\n  }\n\n  Assertion.addMethod('above', assertAbove);\n  Assertion.addMethod('gt', assertAbove);\n  Assertion.addMethod('greaterThan', assertAbove);\n\n  /**\n   * ### .least(value)\n   *\n   * Asserts that the target is greater than or equal to `value`.\n   *\n   *     expect(10).to.be.at.least(10);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a minimum length. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.of.at.least(2);\n   *     expect([ 1, 2, 3 ]).to.have.length.of.at.least(3);\n   *\n   * @name least\n   * @alias gte\n   * @param {Number} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertLeast (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len >= n\n        , 'expected #{this} to have a length at least #{exp} but got #{act}'\n        , 'expected #{this} to have a length below #{exp}'\n        , n\n        , len\n      );\n    } else {\n      this.assert(\n          obj >= n\n        , 'expected #{this} to be at least ' + n\n        , 'expected #{this} to be below ' + n\n      );\n    }\n  }\n\n  Assertion.addMethod('least', assertLeast);\n  Assertion.addMethod('gte', assertLeast);\n\n  /**\n   * ### .below(value)\n   *\n   * Asserts that the target is less than `value`.\n   *\n   *     expect(5).to.be.below(10);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a maximum length. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.below(4);\n   *     expect([ 1, 2, 3 ]).to.have.length.below(4);\n   *\n   * @name below\n   * @alias lt\n   * @alias lessThan\n   * @param {Number} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertBelow (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len < n\n        , 'expected #{this} to have a length below #{exp} but got #{act}'\n        , 'expected #{this} to not have a length below #{exp}'\n        , n\n        , len\n      );\n    } else {\n      this.assert(\n          obj < n\n        , 'expected #{this} to be below ' + n\n        , 'expected #{this} to be at least ' + n\n      );\n    }\n  }\n\n  Assertion.addMethod('below', assertBelow);\n  Assertion.addMethod('lt', assertBelow);\n  Assertion.addMethod('lessThan', assertBelow);\n\n  /**\n   * ### .most(value)\n   *\n   * Asserts that the target is less than or equal to `value`.\n   *\n   *     expect(5).to.be.at.most(5);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a maximum length. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.of.at.most(4);\n   *     expect([ 1, 2, 3 ]).to.have.length.of.at.most(3);\n   *\n   * @name most\n   * @alias lte\n   * @param {Number} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertMost (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len <= n\n        , 'expected #{this} to have a length at most #{exp} but got #{act}'\n        , 'expected #{this} to have a length above #{exp}'\n        , n\n        , len\n      );\n    } else {\n      this.assert(\n          obj <= n\n        , 'expected #{this} to be at most ' + n\n        , 'expected #{this} to be above ' + n\n      );\n    }\n  }\n\n  Assertion.addMethod('most', assertMost);\n  Assertion.addMethod('lte', assertMost);\n\n  /**\n   * ### .within(start, finish)\n   *\n   * Asserts that the target is within a range.\n   *\n   *     expect(7).to.be.within(5,10);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a length range. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.within(2,4);\n   *     expect([ 1, 2, 3 ]).to.have.length.within(2,4);\n   *\n   * @name within\n   * @param {Number} start lowerbound inclusive\n   * @param {Number} finish upperbound inclusive\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('within', function (start, finish, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , range = start + '..' + finish;\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len >= start && len <= finish\n        , 'expected #{this} to have a length within ' + range\n        , 'expected #{this} to not have a length within ' + range\n      );\n    } else {\n      this.assert(\n          obj >= start && obj <= finish\n        , 'expected #{this} to be within ' + range\n        , 'expected #{this} to not be within ' + range\n      );\n    }\n  });\n\n  /**\n   * ### .instanceof(constructor)\n   *\n   * Asserts that the target is an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , Chai = new Tea('chai');\n   *\n   *     expect(Chai).to.be.an.instanceof(Tea);\n   *     expect([ 1, 2, 3 ]).to.be.instanceof(Array);\n   *\n   * @name instanceof\n   * @param {Constructor} constructor\n   * @param {String} message _optional_\n   * @alias instanceOf\n   * @api public\n   */\n\n  function assertInstanceOf (constructor, msg) {\n    if (msg) flag(this, 'message', msg);\n    var name = _.getName(constructor);\n    this.assert(\n        flag(this, 'object') instanceof constructor\n      , 'expected #{this} to be an instance of ' + name\n      , 'expected #{this} to not be an instance of ' + name\n    );\n  };\n\n  Assertion.addMethod('instanceof', assertInstanceOf);\n  Assertion.addMethod('instanceOf', assertInstanceOf);\n\n  /**\n   * ### .property(name, [value])\n   *\n   * Asserts that the target has a property `name`, optionally asserting that\n   * the value of that property is strictly equal to  `value`.\n   * If the `deep` flag is set, you can use dot- and bracket-notation for deep\n   * references into objects and arrays.\n   *\n   *     // simple referencing\n   *     var obj = { foo: 'bar' };\n   *     expect(obj).to.have.property('foo');\n   *     expect(obj).to.have.property('foo', 'bar');\n   *\n   *     // deep referencing\n   *     var deepObj = {\n   *         green: { tea: 'matcha' }\n   *       , teas: [ 'chai', 'matcha', { tea: 'konacha' } ]\n   *     };\n\n   *     expect(deepObj).to.have.deep.property('green.tea', 'matcha');\n   *     expect(deepObj).to.have.deep.property('teas[1]', 'matcha');\n   *     expect(deepObj).to.have.deep.property('teas[2].tea', 'konacha');\n   *\n   * You can also use an array as the starting point of a `deep.property`\n   * assertion, or traverse nested arrays.\n   *\n   *     var arr = [\n   *         [ 'chai', 'matcha', 'konacha' ]\n   *       , [ { tea: 'chai' }\n   *         , { tea: 'matcha' }\n   *         , { tea: 'konacha' } ]\n   *     ];\n   *\n   *     expect(arr).to.have.deep.property('[0][1]', 'matcha');\n   *     expect(arr).to.have.deep.property('[1][2].tea', 'konacha');\n   *\n   * Furthermore, `property` changes the subject of the assertion\n   * to be the value of that property from the original object. This\n   * permits for further chainable assertions on that property.\n   *\n   *     expect(obj).to.have.property('foo')\n   *       .that.is.a('string');\n   *     expect(deepObj).to.have.property('green')\n   *       .that.is.an('object')\n   *       .that.deep.equals({ tea: 'matcha' });\n   *     expect(deepObj).to.have.property('teas')\n   *       .that.is.an('array')\n   *       .with.deep.property('[2]')\n   *         .that.deep.equals({ tea: 'konacha' });\n   *\n   * @name property\n   * @alias deep.property\n   * @param {String} name\n   * @param {Mixed} value (optional)\n   * @param {String} message _optional_\n   * @returns value of property for chaining\n   * @api public\n   */\n\n  Assertion.addMethod('property', function (name, val, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var descriptor = flag(this, 'deep') ? 'deep property ' : 'property '\n      , negate = flag(this, 'negate')\n      , obj = flag(this, 'object')\n      , value = flag(this, 'deep')\n        ? _.getPathValue(name, obj)\n        : obj[name];\n\n    if (negate && undefined !== val) {\n      if (undefined === value) {\n        msg = (msg != null) ? msg + ': ' : '';\n        throw new Error(msg + _.inspect(obj) + ' has no ' + descriptor + _.inspect(name));\n      }\n    } else {\n      this.assert(\n          undefined !== value\n        , 'expected #{this} to have a ' + descriptor + _.inspect(name)\n        , 'expected #{this} to not have ' + descriptor + _.inspect(name));\n    }\n\n    if (undefined !== val) {\n      this.assert(\n          val === value\n        , 'expected #{this} to have a ' + descriptor + _.inspect(name) + ' of #{exp}, but got #{act}'\n        , 'expected #{this} to not have a ' + descriptor + _.inspect(name) + ' of #{act}'\n        , val\n        , value\n      );\n    }\n\n    flag(this, 'object', value);\n  });\n\n\n  /**\n   * ### .ownProperty(name)\n   *\n   * Asserts that the target has an own property `name`.\n   *\n   *     expect('test').to.have.ownProperty('length');\n   *\n   * @name ownProperty\n   * @alias haveOwnProperty\n   * @param {String} name\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertOwnProperty (name, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    this.assert(\n        obj.hasOwnProperty(name)\n      , 'expected #{this} to have own property ' + _.inspect(name)\n      , 'expected #{this} to not have own property ' + _.inspect(name)\n    );\n  }\n\n  Assertion.addMethod('ownProperty', assertOwnProperty);\n  Assertion.addMethod('haveOwnProperty', assertOwnProperty);\n\n  /**\n   * ### .length(value)\n   *\n   * Asserts that the target's `length` property has\n   * the expected value.\n   *\n   *     expect([ 1, 2, 3]).to.have.length(3);\n   *     expect('foobar').to.have.length(6);\n   *\n   * Can also be used as a chain precursor to a value\n   * comparison for the length property.\n   *\n   *     expect('foo').to.have.length.above(2);\n   *     expect([ 1, 2, 3 ]).to.have.length.above(2);\n   *     expect('foo').to.have.length.below(4);\n   *     expect([ 1, 2, 3 ]).to.have.length.below(4);\n   *     expect('foo').to.have.length.within(2,4);\n   *     expect([ 1, 2, 3 ]).to.have.length.within(2,4);\n   *\n   * @name length\n   * @alias lengthOf\n   * @param {Number} length\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertLengthChain () {\n    flag(this, 'doLength', true);\n  }\n\n  function assertLength (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    new Assertion(obj, msg).to.have.property('length');\n    var len = obj.length;\n\n    this.assert(\n        len == n\n      , 'expected #{this} to have a length of #{exp} but got #{act}'\n      , 'expected #{this} to not have a length of #{act}'\n      , n\n      , len\n    );\n  }\n\n  Assertion.addChainableMethod('length', assertLength, assertLengthChain);\n  Assertion.addMethod('lengthOf', assertLength);\n\n  /**\n   * ### .match(regexp)\n   *\n   * Asserts that the target matches a regular expression.\n   *\n   *     expect('foobar').to.match(/^foo/);\n   *\n   * @name match\n   * @param {RegExp} RegularExpression\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('match', function (re, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    this.assert(\n        re.exec(obj)\n      , 'expected #{this} to match ' + re\n      , 'expected #{this} not to match ' + re\n    );\n  });\n\n  /**\n   * ### .string(string)\n   *\n   * Asserts that the string target contains another string.\n   *\n   *     expect('foobar').to.have.string('bar');\n   *\n   * @name string\n   * @param {String} string\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('string', function (str, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    new Assertion(obj, msg).is.a('string');\n\n    this.assert(\n        ~obj.indexOf(str)\n      , 'expected #{this} to contain ' + _.inspect(str)\n      , 'expected #{this} to not contain ' + _.inspect(str)\n    );\n  });\n\n\n  /**\n   * ### .keys(key1, [key2], [...])\n   *\n   * Asserts that the target has exactly the given keys, or\n   * asserts the inclusion of some keys when using the\n   * `include` or `contain` modifiers.\n   *\n   *     expect({ foo: 1, bar: 2 }).to.have.keys(['foo', 'bar']);\n   *     expect({ foo: 1, bar: 2, baz: 3 }).to.contain.keys('foo', 'bar');\n   *\n   * @name keys\n   * @alias key\n   * @param {String...|Array} keys\n   * @api public\n   */\n\n  function assertKeys (keys) {\n    var obj = flag(this, 'object')\n      , str\n      , ok = true;\n\n    keys = keys instanceof Array\n      ? keys\n      : Array.prototype.slice.call(arguments);\n\n    if (!keys.length) throw new Error('keys required');\n\n    var actual = Object.keys(obj)\n      , expected = keys\n      , len = keys.length;\n\n    // Inclusion\n    ok = keys.every(function(key){\n      return ~actual.indexOf(key);\n    });\n\n    // Strict\n    if (!flag(this, 'negate') && !flag(this, 'contains')) {\n      ok = ok && keys.length == actual.length;\n    }\n\n    // Key string\n    if (len > 1) {\n      keys = keys.map(function(key){\n        return _.inspect(key);\n      });\n      var last = keys.pop();\n      str = keys.join(', ') + ', and ' + last;\n    } else {\n      str = _.inspect(keys[0]);\n    }\n\n    // Form\n    str = (len > 1 ? 'keys ' : 'key ') + str;\n\n    // Have / include\n    str = (flag(this, 'contains') ? 'contain ' : 'have ') + str;\n\n    // Assertion\n    this.assert(\n        ok\n      , 'expected #{this} to ' + str\n      , 'expected #{this} to not ' + str\n      , expected.sort()\n      , actual.sort()\n      , true\n    );\n  }\n\n  Assertion.addMethod('keys', assertKeys);\n  Assertion.addMethod('key', assertKeys);\n\n  /**\n   * ### .throw(constructor)\n   *\n   * Asserts that the function target will throw a specific error, or specific type of error\n   * (as determined using `instanceof`), optionally with a RegExp or string inclusion test\n   * for the error's message.\n   *\n   *     var err = new ReferenceError('This is a bad function.');\n   *     var fn = function () { throw err; }\n   *     expect(fn).to.throw(ReferenceError);\n   *     expect(fn).to.throw(Error);\n   *     expect(fn).to.throw(/bad function/);\n   *     expect(fn).to.not.throw('good function');\n   *     expect(fn).to.throw(ReferenceError, /bad function/);\n   *     expect(fn).to.throw(err);\n   *     expect(fn).to.not.throw(new RangeError('Out of range.'));\n   *\n   * Please note that when a throw expectation is negated, it will check each\n   * parameter independently, starting with error constructor type. The appropriate way\n   * to check for the existence of a type of error but for a message that does not match\n   * is to use `and`.\n   *\n   *     expect(fn).to.throw(ReferenceError)\n   *        .and.not.throw(/good function/);\n   *\n   * @name throw\n   * @alias throws\n   * @alias Throw\n   * @param {ErrorConstructor} constructor\n   * @param {String|RegExp} expected error message\n   * @param {String} message _optional_\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @returns error for chaining (null if no error)\n   * @api public\n   */\n\n  function assertThrows (constructor, errMsg, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    new Assertion(obj, msg).is.a('function');\n\n    var thrown = false\n      , desiredError = null\n      , name = null\n      , thrownError = null;\n\n    if (arguments.length === 0) {\n      errMsg = null;\n      constructor = null;\n    } else if (constructor && (constructor instanceof RegExp || 'string' === typeof constructor)) {\n      errMsg = constructor;\n      constructor = null;\n    } else if (constructor && constructor instanceof Error) {\n      desiredError = constructor;\n      constructor = null;\n      errMsg = null;\n    } else if (typeof constructor === 'function') {\n      name = constructor.prototype.name || constructor.name;\n      if (name === 'Error' && constructor !== Error) {\n        name = (new constructor()).name;\n      }\n    } else {\n      constructor = null;\n    }\n\n    try {\n      obj();\n    } catch (err) {\n      // first, check desired error\n      if (desiredError) {\n        this.assert(\n            err === desiredError\n          , 'expected #{this} to throw #{exp} but #{act} was thrown'\n          , 'expected #{this} to not throw #{exp}'\n          , (desiredError instanceof Error ? desiredError.toString() : desiredError)\n          , (err instanceof Error ? err.toString() : err)\n        );\n\n        flag(this, 'object', err);\n        return this;\n      }\n\n      // next, check constructor\n      if (constructor) {\n        this.assert(\n            err instanceof constructor\n          , 'expected #{this} to throw #{exp} but #{act} was thrown'\n          , 'expected #{this} to not throw #{exp} but #{act} was thrown'\n          , name\n          , (err instanceof Error ? err.toString() : err)\n        );\n\n        if (!errMsg) {\n          flag(this, 'object', err);\n          return this;\n        }\n      }\n\n      // next, check message\n      var message = 'object' === _.type(err) && \"message\" in err\n        ? err.message\n        : '' + err;\n\n      if ((message != null) && errMsg && errMsg instanceof RegExp) {\n        this.assert(\n            errMsg.exec(message)\n          , 'expected #{this} to throw error matching #{exp} but got #{act}'\n          , 'expected #{this} to throw error not matching #{exp}'\n          , errMsg\n          , message\n        );\n\n        flag(this, 'object', err);\n        return this;\n      } else if ((message != null) && errMsg && 'string' === typeof errMsg) {\n        this.assert(\n            ~message.indexOf(errMsg)\n          , 'expected #{this} to throw error including #{exp} but got #{act}'\n          , 'expected #{this} to throw error not including #{act}'\n          , errMsg\n          , message\n        );\n\n        flag(this, 'object', err);\n        return this;\n      } else {\n        thrown = true;\n        thrownError = err;\n      }\n    }\n\n    var actuallyGot = ''\n      , expectedThrown = name !== null\n        ? name\n        : desiredError\n          ? '#{exp}' //_.inspect(desiredError)\n          : 'an error';\n\n    if (thrown) {\n      actuallyGot = ' but #{act} was thrown'\n    }\n\n    this.assert(\n        thrown === true\n      , 'expected #{this} to throw ' + expectedThrown + actuallyGot\n      , 'expected #{this} to not throw ' + expectedThrown + actuallyGot\n      , (desiredError instanceof Error ? desiredError.toString() : desiredError)\n      , (thrownError instanceof Error ? thrownError.toString() : thrownError)\n    );\n\n    flag(this, 'object', thrownError);\n  };\n\n  Assertion.addMethod('throw', assertThrows);\n  Assertion.addMethod('throws', assertThrows);\n  Assertion.addMethod('Throw', assertThrows);\n\n  /**\n   * ### .respondTo(method)\n   *\n   * Asserts that the object or class target will respond to a method.\n   *\n   *     Klass.prototype.bar = function(){};\n   *     expect(Klass).to.respondTo('bar');\n   *     expect(obj).to.respondTo('bar');\n   *\n   * To check if a constructor will respond to a static function,\n   * set the `itself` flag.\n   *\n   *     Klass.baz = function(){};\n   *     expect(Klass).itself.to.respondTo('baz');\n   *\n   * @name respondTo\n   * @param {String} method\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('respondTo', function (method, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , itself = flag(this, 'itself')\n      , context = ('function' === _.type(obj) && !itself)\n        ? obj.prototype[method]\n        : obj[method];\n\n    this.assert(\n        'function' === typeof context\n      , 'expected #{this} to respond to ' + _.inspect(method)\n      , 'expected #{this} to not respond to ' + _.inspect(method)\n    );\n  });\n\n  /**\n   * ### .itself\n   *\n   * Sets the `itself` flag, later used by the `respondTo` assertion.\n   *\n   *     function Foo() {}\n   *     Foo.bar = function() {}\n   *     Foo.prototype.baz = function() {}\n   *\n   *     expect(Foo).itself.to.respondTo('bar');\n   *     expect(Foo).itself.not.to.respondTo('baz');\n   *\n   * @name itself\n   * @api public\n   */\n\n  Assertion.addProperty('itself', function () {\n    flag(this, 'itself', true);\n  });\n\n  /**\n   * ### .satisfy(method)\n   *\n   * Asserts that the target passes a given truth test.\n   *\n   *     expect(1).to.satisfy(function(num) { return num > 0; });\n   *\n   * @name satisfy\n   * @param {Function} matcher\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('satisfy', function (matcher, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var result = matcher(obj);\n    this.assert(\n        result\n      , 'expected #{this} to satisfy ' + _.objDisplay(matcher)\n      , 'expected #{this} to not satisfy' + _.objDisplay(matcher)\n      , this.negate ? false : true\n      , result\n    );\n  });\n\n  /**\n   * ### .closeTo(expected, delta)\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     expect(1.5).to.be.closeTo(1, 0.5);\n   *\n   * @name closeTo\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('closeTo', function (expected, delta, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n\n    new Assertion(obj, msg).is.a('number');\n    if (_.type(expected) !== 'number' || _.type(delta) !== 'number') {\n      throw new Error('the arguments to closeTo must be numbers');\n    }\n\n    this.assert(\n        Math.abs(obj - expected) <= delta\n      , 'expected #{this} to be close to ' + expected + ' +/- ' + delta\n      , 'expected #{this} not to be close to ' + expected + ' +/- ' + delta\n    );\n  });\n\n  function isSubsetOf(subset, superset, cmp) {\n    return subset.every(function(elem) {\n      if (!cmp) return superset.indexOf(elem) !== -1;\n\n      return superset.some(function(elem2) {\n        return cmp(elem, elem2);\n      });\n    })\n  }\n\n  /**\n   * ### .members(set)\n   *\n   * Asserts that the target is a superset of `set`,\n   * or that the target and `set` have the same strictly-equal (===) members.\n   * Alternately, if the `deep` flag is set, set members are compared for deep\n   * equality.\n   *\n   *     expect([1, 2, 3]).to.include.members([3, 2]);\n   *     expect([1, 2, 3]).to.not.include.members([3, 2, 8]);\n   *\n   *     expect([4, 2]).to.have.members([2, 4]);\n   *     expect([5, 2]).to.not.have.members([5, 2, 1]);\n   *\n   *     expect([{ id: 1 }]).to.deep.include.members([{ id: 1 }]);\n   *\n   * @name members\n   * @param {Array} set\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('members', function (subset, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n\n    new Assertion(obj).to.be.an('array');\n    new Assertion(subset).to.be.an('array');\n\n    var cmp = flag(this, 'deep') ? _.eql : undefined;\n\n    if (flag(this, 'contains')) {\n      return this.assert(\n          isSubsetOf(subset, obj, cmp)\n        , 'expected #{this} to be a superset of #{act}'\n        , 'expected #{this} to not be a superset of #{act}'\n        , obj\n        , subset\n      );\n    }\n\n    this.assert(\n        isSubsetOf(obj, subset, cmp) && isSubsetOf(subset, obj, cmp)\n        , 'expected #{this} to have the same members as #{act}'\n        , 'expected #{this} to not have the same members as #{act}'\n        , obj\n        , subset\n    );\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/core/assertions.js\n// module id = 68\n// module chunks = 0","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  chai.expect = function (val, message) {\n    return new chai.Assertion(val, message);\n  };\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/interface/expect.js\n// module id = 69\n// module chunks = 0","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  var Assertion = chai.Assertion;\n\n  function loadShould () {\n    // explicitly define this method as function as to have it's name to include as `ssfi`\n    function shouldGetter() {\n      if (this instanceof String || this instanceof Number) {\n        return new Assertion(this.constructor(this), null, shouldGetter);\n      } else if (this instanceof Boolean) {\n        return new Assertion(this == true, null, shouldGetter);\n      }\n      return new Assertion(this, null, shouldGetter);\n    }\n    function shouldSetter(value) {\n      // See https://github.com/chaijs/chai/issues/86: this makes\n      // `whatever.should = someValue` actually set `someValue`, which is\n      // especially useful for `global.should = require('chai').should()`.\n      //\n      // Note that we have to use [[DefineProperty]] instead of [[Put]]\n      // since otherwise we would trigger this very setter!\n      Object.defineProperty(this, 'should', {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    }\n    // modify Object.prototype to have `should`\n    Object.defineProperty(Object.prototype, 'should', {\n      set: shouldSetter\n      , get: shouldGetter\n      , configurable: true\n    });\n\n    var should = {};\n\n    should.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.equal(val2);\n    };\n\n    should.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.Throw(errt, errs);\n    };\n\n    should.exist = function (val, msg) {\n      new Assertion(val, msg).to.exist;\n    }\n\n    // negation\n    should.not = {}\n\n    should.not.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.not.equal(val2);\n    };\n\n    should.not.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.not.Throw(errt, errs);\n    };\n\n    should.not.exist = function (val, msg) {\n      new Assertion(val, msg).to.not.exist;\n    }\n\n    should['throw'] = should['Throw'];\n    should.not['throw'] = should.not['Throw'];\n\n    return should;\n  };\n\n  chai.should = loadShould;\n  chai.Should = loadShould;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/interface/should.js\n// module id = 70\n// module chunks = 0","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n\nmodule.exports = function (chai, util) {\n\n  /*!\n   * Chai dependencies.\n   */\n\n  var Assertion = chai.Assertion\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  /**\n   * ### assert(expression, message)\n   *\n   * Write your own test expressions.\n   *\n   *     assert('foo' !== 'bar', 'foo is not bar');\n   *     assert(Array.isArray([]), 'empty arrays are arrays');\n   *\n   * @param {Mixed} expression to test for truthiness\n   * @param {String} message to display on error\n   * @name assert\n   * @api public\n   */\n\n  var assert = chai.assert = function (express, errmsg) {\n    var test = new Assertion(null, null, chai.assert);\n    test.assert(\n        express\n      , errmsg\n      , '[ negation message unavailable ]'\n    );\n  };\n\n  /**\n   * ### .fail(actual, expected, [message], [operator])\n   *\n   * Throw a failure. Node.js `assert` module-compatible.\n   *\n   * @name fail\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @param {String} operator\n   * @api public\n   */\n\n  assert.fail = function (actual, expected, message, operator) {\n    message = message || 'assert.fail()';\n    throw new chai.AssertionError(message, {\n        actual: actual\n      , expected: expected\n      , operator: operator\n    }, assert.fail);\n  };\n\n  /**\n   * ### .ok(object, [message])\n   *\n   * Asserts that `object` is truthy.\n   *\n   *     assert.ok('everything', 'everything is ok');\n   *     assert.ok(false, 'this will fail');\n   *\n   * @name ok\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @api public\n   */\n\n  assert.ok = function (val, msg) {\n    new Assertion(val, msg).is.ok;\n  };\n\n  /**\n   * ### .notOk(object, [message])\n   *\n   * Asserts that `object` is falsy.\n   *\n   *     assert.notOk('everything', 'this will fail');\n   *     assert.notOk(false, 'this will pass');\n   *\n   * @name notOk\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notOk = function (val, msg) {\n    new Assertion(val, msg).is.not.ok;\n  };\n\n  /**\n   * ### .equal(actual, expected, [message])\n   *\n   * Asserts non-strict equality (`==`) of `actual` and `expected`.\n   *\n   *     assert.equal(3, '3', '== coerces values to strings');\n   *\n   * @name equal\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.equal = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.equal);\n\n    test.assert(\n        exp == flag(test, 'object')\n      , 'expected #{this} to equal #{exp}'\n      , 'expected #{this} to not equal #{act}'\n      , exp\n      , act\n    );\n  };\n\n  /**\n   * ### .notEqual(actual, expected, [message])\n   *\n   * Asserts non-strict inequality (`!=`) of `actual` and `expected`.\n   *\n   *     assert.notEqual(3, 4, 'these numbers are not equal');\n   *\n   * @name notEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notEqual = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.notEqual);\n\n    test.assert(\n        exp != flag(test, 'object')\n      , 'expected #{this} to not equal #{exp}'\n      , 'expected #{this} to equal #{act}'\n      , exp\n      , act\n    );\n  };\n\n  /**\n   * ### .strictEqual(actual, expected, [message])\n   *\n   * Asserts strict equality (`===`) of `actual` and `expected`.\n   *\n   *     assert.strictEqual(true, true, 'these booleans are strictly equal');\n   *\n   * @name strictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.strictEqual = function (act, exp, msg) {\n    new Assertion(act, msg).to.equal(exp);\n  };\n\n  /**\n   * ### .notStrictEqual(actual, expected, [message])\n   *\n   * Asserts strict inequality (`!==`) of `actual` and `expected`.\n   *\n   *     assert.notStrictEqual(3, '3', 'no coercion for strict equality');\n   *\n   * @name notStrictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notStrictEqual = function (act, exp, msg) {\n    new Assertion(act, msg).to.not.equal(exp);\n  };\n\n  /**\n   * ### .deepEqual(actual, expected, [message])\n   *\n   * Asserts that `actual` is deeply equal to `expected`.\n   *\n   *     assert.deepEqual({ tea: 'green' }, { tea: 'green' });\n   *\n   * @name deepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepEqual = function (act, exp, msg) {\n    new Assertion(act, msg).to.eql(exp);\n  };\n\n  /**\n   * ### .notDeepEqual(actual, expected, [message])\n   *\n   * Assert that `actual` is not deeply equal to `expected`.\n   *\n   *     assert.notDeepEqual({ tea: 'green' }, { tea: 'jasmine' });\n   *\n   * @name notDeepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notDeepEqual = function (act, exp, msg) {\n    new Assertion(act, msg).to.not.eql(exp);\n  };\n\n  /**\n   * ### .isTrue(value, [message])\n   *\n   * Asserts that `value` is true.\n   *\n   *     var teaServed = true;\n   *     assert.isTrue(teaServed, 'the tea has been served');\n   *\n   * @name isTrue\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isTrue = function (val, msg) {\n    new Assertion(val, msg).is['true'];\n  };\n\n  /**\n   * ### .isFalse(value, [message])\n   *\n   * Asserts that `value` is false.\n   *\n   *     var teaServed = false;\n   *     assert.isFalse(teaServed, 'no tea yet? hmm...');\n   *\n   * @name isFalse\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isFalse = function (val, msg) {\n    new Assertion(val, msg).is['false'];\n  };\n\n  /**\n   * ### .isNull(value, [message])\n   *\n   * Asserts that `value` is null.\n   *\n   *     assert.isNull(err, 'there was no error');\n   *\n   * @name isNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNull = function (val, msg) {\n    new Assertion(val, msg).to.equal(null);\n  };\n\n  /**\n   * ### .isNotNull(value, [message])\n   *\n   * Asserts that `value` is not null.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotNull(tea, 'great, time for tea!');\n   *\n   * @name isNotNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotNull = function (val, msg) {\n    new Assertion(val, msg).to.not.equal(null);\n  };\n\n  /**\n   * ### .isUndefined(value, [message])\n   *\n   * Asserts that `value` is `undefined`.\n   *\n   *     var tea;\n   *     assert.isUndefined(tea, 'no tea defined');\n   *\n   * @name isUndefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isUndefined = function (val, msg) {\n    new Assertion(val, msg).to.equal(undefined);\n  };\n\n  /**\n   * ### .isDefined(value, [message])\n   *\n   * Asserts that `value` is not `undefined`.\n   *\n   *     var tea = 'cup of chai';\n   *     assert.isDefined(tea, 'tea has been defined');\n   *\n   * @name isDefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isDefined = function (val, msg) {\n    new Assertion(val, msg).to.not.equal(undefined);\n  };\n\n  /**\n   * ### .isFunction(value, [message])\n   *\n   * Asserts that `value` is a function.\n   *\n   *     function serveTea() { return 'cup of tea'; };\n   *     assert.isFunction(serveTea, 'great, we can have tea now');\n   *\n   * @name isFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isFunction = function (val, msg) {\n    new Assertion(val, msg).to.be.a('function');\n  };\n\n  /**\n   * ### .isNotFunction(value, [message])\n   *\n   * Asserts that `value` is _not_ a function.\n   *\n   *     var serveTea = [ 'heat', 'pour', 'sip' ];\n   *     assert.isNotFunction(serveTea, 'great, we have listed the steps');\n   *\n   * @name isNotFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotFunction = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('function');\n  };\n\n  /**\n   * ### .isObject(value, [message])\n   *\n   * Asserts that `value` is an object (as revealed by\n   * `Object.prototype.toString`).\n   *\n   *     var selection = { name: 'Chai', serve: 'with spices' };\n   *     assert.isObject(selection, 'tea selection is an object');\n   *\n   * @name isObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isObject = function (val, msg) {\n    new Assertion(val, msg).to.be.a('object');\n  };\n\n  /**\n   * ### .isNotObject(value, [message])\n   *\n   * Asserts that `value` is _not_ an object.\n   *\n   *     var selection = 'chai'\n   *     assert.isNotObject(selection, 'tea selection is not an object');\n   *     assert.isNotObject(null, 'null is not an object');\n   *\n   * @name isNotObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotObject = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('object');\n  };\n\n  /**\n   * ### .isArray(value, [message])\n   *\n   * Asserts that `value` is an array.\n   *\n   *     var menu = [ 'green', 'chai', 'oolong' ];\n   *     assert.isArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isArray = function (val, msg) {\n    new Assertion(val, msg).to.be.an('array');\n  };\n\n  /**\n   * ### .isNotArray(value, [message])\n   *\n   * Asserts that `value` is _not_ an array.\n   *\n   *     var menu = 'green|chai|oolong';\n   *     assert.isNotArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isNotArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotArray = function (val, msg) {\n    new Assertion(val, msg).to.not.be.an('array');\n  };\n\n  /**\n   * ### .isString(value, [message])\n   *\n   * Asserts that `value` is a string.\n   *\n   *     var teaOrder = 'chai';\n   *     assert.isString(teaOrder, 'order placed');\n   *\n   * @name isString\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isString = function (val, msg) {\n    new Assertion(val, msg).to.be.a('string');\n  };\n\n  /**\n   * ### .isNotString(value, [message])\n   *\n   * Asserts that `value` is _not_ a string.\n   *\n   *     var teaOrder = 4;\n   *     assert.isNotString(teaOrder, 'order placed');\n   *\n   * @name isNotString\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotString = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('string');\n  };\n\n  /**\n   * ### .isNumber(value, [message])\n   *\n   * Asserts that `value` is a number.\n   *\n   *     var cups = 2;\n   *     assert.isNumber(cups, 'how many cups');\n   *\n   * @name isNumber\n   * @param {Number} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNumber = function (val, msg) {\n    new Assertion(val, msg).to.be.a('number');\n  };\n\n  /**\n   * ### .isNotNumber(value, [message])\n   *\n   * Asserts that `value` is _not_ a number.\n   *\n   *     var cups = '2 cups please';\n   *     assert.isNotNumber(cups, 'how many cups');\n   *\n   * @name isNotNumber\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotNumber = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('number');\n  };\n\n  /**\n   * ### .isBoolean(value, [message])\n   *\n   * Asserts that `value` is a boolean.\n   *\n   *     var teaReady = true\n   *       , teaServed = false;\n   *\n   *     assert.isBoolean(teaReady, 'is the tea ready');\n   *     assert.isBoolean(teaServed, 'has tea been served');\n   *\n   * @name isBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isBoolean = function (val, msg) {\n    new Assertion(val, msg).to.be.a('boolean');\n  };\n\n  /**\n   * ### .isNotBoolean(value, [message])\n   *\n   * Asserts that `value` is _not_ a boolean.\n   *\n   *     var teaReady = 'yep'\n   *       , teaServed = 'nope';\n   *\n   *     assert.isNotBoolean(teaReady, 'is the tea ready');\n   *     assert.isNotBoolean(teaServed, 'has tea been served');\n   *\n   * @name isNotBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotBoolean = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('boolean');\n  };\n\n  /**\n   * ### .typeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.typeOf({ tea: 'chai' }, 'object', 'we have an object');\n   *     assert.typeOf(['chai', 'jasmine'], 'array', 'we have an array');\n   *     assert.typeOf('tea', 'string', 'we have a string');\n   *     assert.typeOf(/tea/, 'regexp', 'we have a regular expression');\n   *     assert.typeOf(null, 'null', 'we have a null');\n   *     assert.typeOf(undefined, 'undefined', 'we have an undefined');\n   *\n   * @name typeOf\n   * @param {Mixed} value\n   * @param {String} name\n   * @param {String} message\n   * @api public\n   */\n\n  assert.typeOf = function (val, type, msg) {\n    new Assertion(val, msg).to.be.a(type);\n  };\n\n  /**\n   * ### .notTypeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is _not_ `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.notTypeOf('tea', 'number', 'strings are not numbers');\n   *\n   * @name notTypeOf\n   * @param {Mixed} value\n   * @param {String} typeof name\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notTypeOf = function (val, type, msg) {\n    new Assertion(val, msg).to.not.be.a(type);\n  };\n\n  /**\n   * ### .instanceOf(object, constructor, [message])\n   *\n   * Asserts that `value` is an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new Tea('chai');\n   *\n   *     assert.instanceOf(chai, Tea, 'chai is an instance of tea');\n   *\n   * @name instanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @api public\n   */\n\n  assert.instanceOf = function (val, type, msg) {\n    new Assertion(val, msg).to.be.instanceOf(type);\n  };\n\n  /**\n   * ### .notInstanceOf(object, constructor, [message])\n   *\n   * Asserts `value` is not an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new String('chai');\n   *\n   *     assert.notInstanceOf(chai, Tea, 'chai is not an instance of tea');\n   *\n   * @name notInstanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notInstanceOf = function (val, type, msg) {\n    new Assertion(val, msg).to.not.be.instanceOf(type);\n  };\n\n  /**\n   * ### .include(haystack, needle, [message])\n   *\n   * Asserts that `haystack` includes `needle`. Works\n   * for strings and arrays.\n   *\n   *     assert.include('foobar', 'bar', 'foobar contains string \"bar\"');\n   *     assert.include([ 1, 2, 3 ], 3, 'array contains value');\n   *\n   * @name include\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @api public\n   */\n\n  assert.include = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.include).include(inc);\n  };\n\n  /**\n   * ### .notInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` does not include `needle`. Works\n   * for strings and arrays.\n   *i\n   *     assert.notInclude('foobar', 'baz', 'string not include substring');\n   *     assert.notInclude([ 1, 2, 3 ], 4, 'array not include contain value');\n   *\n   * @name notInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notInclude).not.include(inc);\n  };\n\n  /**\n   * ### .match(value, regexp, [message])\n   *\n   * Asserts that `value` matches the regular expression `regexp`.\n   *\n   *     assert.match('foobar', /^foo/, 'regexp matches');\n   *\n   * @name match\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @api public\n   */\n\n  assert.match = function (exp, re, msg) {\n    new Assertion(exp, msg).to.match(re);\n  };\n\n  /**\n   * ### .notMatch(value, regexp, [message])\n   *\n   * Asserts that `value` does not match the regular expression `regexp`.\n   *\n   *     assert.notMatch('foobar', /^foo/, 'regexp does not match');\n   *\n   * @name notMatch\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notMatch = function (exp, re, msg) {\n    new Assertion(exp, msg).to.not.match(re);\n  };\n\n  /**\n   * ### .property(object, property, [message])\n   *\n   * Asserts that `object` has a property named by `property`.\n   *\n   *     assert.property({ tea: { green: 'matcha' }}, 'tea');\n   *\n   * @name property\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.property = function (obj, prop, msg) {\n    new Assertion(obj, msg).to.have.property(prop);\n  };\n\n  /**\n   * ### .notProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property`.\n   *\n   *     assert.notProperty({ tea: { green: 'matcha' }}, 'coffee');\n   *\n   * @name notProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg).to.not.have.property(prop);\n  };\n\n  /**\n   * ### .deepProperty(object, property, [message])\n   *\n   * Asserts that `object` has a property named by `property`, which can be a\n   * string using dot- and bracket-notation for deep reference.\n   *\n   *     assert.deepProperty({ tea: { green: 'matcha' }}, 'tea.green');\n   *\n   * @name deepProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg).to.have.deep.property(prop);\n  };\n\n  /**\n   * ### .notDeepProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property`, which\n   * can be a string using dot- and bracket-notation for deep reference.\n   *\n   *     assert.notDeepProperty({ tea: { green: 'matcha' }}, 'tea.oolong');\n   *\n   * @name notDeepProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notDeepProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg).to.not.have.deep.property(prop);\n  };\n\n  /**\n   * ### .propertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with value given\n   * by `value`.\n   *\n   *     assert.propertyVal({ tea: 'is good' }, 'tea', 'is good');\n   *\n   * @name propertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.propertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg).to.have.property(prop, val);\n  };\n\n  /**\n   * ### .propertyNotVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property`, but with a value\n   * different from that given by `value`.\n   *\n   *     assert.propertyNotVal({ tea: 'is good' }, 'tea', 'is bad');\n   *\n   * @name propertyNotVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.propertyNotVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg).to.not.have.property(prop, val);\n  };\n\n  /**\n   * ### .deepPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with value given\n   * by `value`. `property` can use dot- and bracket-notation for deep\n   * reference.\n   *\n   *     assert.deepPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'matcha');\n   *\n   * @name deepPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg).to.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .deepPropertyNotVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property`, but with a value\n   * different from that given by `value`. `property` can use dot- and\n   * bracket-notation for deep reference.\n   *\n   *     assert.deepPropertyNotVal({ tea: { green: 'matcha' }}, 'tea.green', 'konacha');\n   *\n   * @name deepPropertyNotVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepPropertyNotVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg).to.not.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .lengthOf(object, length, [message])\n   *\n   * Asserts that `object` has a `length` property with the expected value.\n   *\n   *     assert.lengthOf([1,2,3], 3, 'array has length of 3');\n   *     assert.lengthOf('foobar', 5, 'string has length of 6');\n   *\n   * @name lengthOf\n   * @param {Mixed} object\n   * @param {Number} length\n   * @param {String} message\n   * @api public\n   */\n\n  assert.lengthOf = function (exp, len, msg) {\n    new Assertion(exp, msg).to.have.length(len);\n  };\n\n  /**\n   * ### .throws(function, [constructor/string/regexp], [string/regexp], [message])\n   *\n   * Asserts that `function` will throw an error that is an instance of\n   * `constructor`, or alternately that it will throw an error with message\n   * matching `regexp`.\n   *\n   *     assert.throw(fn, 'function throws a reference error');\n   *     assert.throw(fn, /function throws a reference error/);\n   *     assert.throw(fn, ReferenceError);\n   *     assert.throw(fn, ReferenceError, 'function throws a reference error');\n   *     assert.throw(fn, ReferenceError, /function throws a reference error/);\n   *\n   * @name throws\n   * @alias throw\n   * @alias Throw\n   * @param {Function} function\n   * @param {ErrorConstructor} constructor\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @api public\n   */\n\n  assert.Throw = function (fn, errt, errs, msg) {\n    if ('string' === typeof errt || errt instanceof RegExp) {\n      errs = errt;\n      errt = null;\n    }\n\n    var assertErr = new Assertion(fn, msg).to.Throw(errt, errs);\n    return flag(assertErr, 'object');\n  };\n\n  /**\n   * ### .doesNotThrow(function, [constructor/regexp], [message])\n   *\n   * Asserts that `function` will _not_ throw an error that is an instance of\n   * `constructor`, or alternately that it will not throw an error with message\n   * matching `regexp`.\n   *\n   *     assert.doesNotThrow(fn, Error, 'function does not throw');\n   *\n   * @name doesNotThrow\n   * @param {Function} function\n   * @param {ErrorConstructor} constructor\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @api public\n   */\n\n  assert.doesNotThrow = function (fn, type, msg) {\n    if ('string' === typeof type) {\n      msg = type;\n      type = null;\n    }\n\n    new Assertion(fn, msg).to.not.Throw(type);\n  };\n\n  /**\n   * ### .operator(val1, operator, val2, [message])\n   *\n   * Compares two values using `operator`.\n   *\n   *     assert.operator(1, '<', 2, 'everything is ok');\n   *     assert.operator(1, '>', 2, 'this will fail');\n   *\n   * @name operator\n   * @param {Mixed} val1\n   * @param {String} operator\n   * @param {Mixed} val2\n   * @param {String} message\n   * @api public\n   */\n\n  assert.operator = function (val, operator, val2, msg) {\n    if (!~['==', '===', '>', '>=', '<', '<=', '!=', '!=='].indexOf(operator)) {\n      throw new Error('Invalid operator \"' + operator + '\"');\n    }\n    var test = new Assertion(eval(val + operator + val2), msg);\n    test.assert(\n        true === flag(test, 'object')\n      , 'expected ' + util.inspect(val) + ' to be ' + operator + ' ' + util.inspect(val2)\n      , 'expected ' + util.inspect(val) + ' to not be ' + operator + ' ' + util.inspect(val2) );\n  };\n\n  /**\n   * ### .closeTo(actual, expected, delta, [message])\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     assert.closeTo(1.5, 1, 0.5, 'numbers are close');\n   *\n   * @name closeTo\n   * @param {Number} actual\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message\n   * @api public\n   */\n\n  assert.closeTo = function (act, exp, delta, msg) {\n    new Assertion(act, msg).to.be.closeTo(exp, delta);\n  };\n\n  /**\n   * ### .sameMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members.\n   * Order is not taken into account.\n   *\n   *     assert.sameMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'same members');\n   *\n   * @name sameMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @api public\n   */\n\n  assert.sameMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg).to.have.same.members(set2);\n  }\n\n  /**\n   * ### .includeMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset`.\n   * Order is not taken into account.\n   *\n   *     assert.includeMembers([ 1, 2, 3 ], [ 2, 1 ], 'include members');\n   *\n   * @name includeMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @api public\n   */\n\n  assert.includeMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg).to.include.members(subset);\n  }\n\n  /*!\n   * Undocumented / untested\n   */\n\n  assert.ifError = function (val, msg) {\n    new Assertion(val, msg).to.not.be.ok;\n  };\n\n  /*!\n   * Aliases.\n   */\n\n  (function alias(name, as){\n    assert[as] = assert[name];\n    return alias;\n  })\n  ('Throw', 'throw')\n  ('Throw', 'throws');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/interface/assert.js\n// module id = 71\n// module chunks = 0","var should = require(\"chai\").should();\r\n\r\nexports.run = function(SPScript) {\r\n\tdescribe(\"SPScript Context\", function() {\r\n\t\tvar ctx = SPScript.createContext();\r\n\t\tdescribe(\"var ctx = SPScript.createContext(url)\", function() {\r\n\t\t\tit(\"Should create the primary object you use to interact with the site\", function() {\r\n\t\t\t\tif (!ctx) throw new Error(\"Context is null\");\r\n\t\t\t\tctx.should.have.property(\"webUrl\");\r\n\t\t\t\tctx.should.have.property(\"executeRequest\");\r\n\t\t\t\tctx.should.have.property(\"get\");\r\n\t\t\t\tctx.should.have.property(\"post\");\r\n\t\t\t\tctx.should.have.property(\"authorizedPost\");\r\n\t\t\t\tctx.should.have.property(\"lists\");\r\n\t\t\t});\r\n\t\t\tit(\"Should allow a url to be passed in\", function() {\r\n\t\t\t\tvar url = \"http://blah.sharepoint.com\";\r\n\t\t\t\tvar context = SPScript.createContext(url);\r\n\t\t\t\tcontext.webUrl.should.equal(url);\r\n\t\t\t});\r\n\t\t\tit(\"Should default to the current web if no url is passed\", function() {\r\n\t\t\t\tvar context = SPScript.createContext();\r\n\t\t\t\tcontext.webUrl.should.equal(_spPageContextInfo.webAbsoluteUrl);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"Namespaces\", function() {\r\n\t\t\tdescribe(\"ctx.web\", function() {\r\n\t\t\t\tit(\"Should have an SPScript Web object with site methods (getUser, getSubsites etc...)\", function() {\r\n\t\t\t\t\tctx.should.have.property(\"web\");\r\n\t\t\t\t\tctx.web.should.have.property(\"getUser\");\r\n\t\t\t\t\tctx.web.should.have.property(\"getSubsites\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.search\", function() {\r\n\t\t\t\tit(\"Should have an SPScript Search object with search methods (query, people, sites etc...)\", function() {\r\n\t\t\t\t\tctx.search.should.have.property(\"query\");\r\n\t\t\t\t\tctx.search.should.have.property(\"people\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.profiles\", function() {\r\n\t\t\t\tit(\"Should have an SPScript Profiles object with methods to hit the Profile Service (current, setProperty etc...)\", function() {\r\n\t\t\t\t\tctx.should.have.property(\"profiles\");\r\n\t\t\t\t\tctx.profiles.should.have.property(\"get\");\r\n\t\t\t\t\tctx.profiles.should.have.property(\"setProperty\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"Methods\", function() {\r\n\t\t\tdescribe(\"ctx.list(name)\", function() {\r\n\t\t\t\tit(\"Should return an SPScript List instance\", function() {\r\n\t\t\t\t\tvar list = ctx.lists(\"My List\");\r\n\t\t\t\t\tlist.should.have.property(\"listName\");\r\n\t\t\t\t\tlist.should.have.property(\"getInfo\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tdescribe(\"ctx.get(url, [opts])\", function() {\r\n\t\t\t\tvar promise;\r\n\t\t\t\tbefore(function() {\r\n\t\t\t\t\tpromise = ctx.get(\"/lists?$select=Title\");\r\n\t\t\t\t});\r\n\t\t\t\tit(\"Should return a Promise\", function() {\r\n\t\t\t\t\tif (!promise) throw new Error(\"Promise is null\");\r\n\t\t\t\t\tpromise.should.have.property(\"then\");\r\n\t\t\t\t});\r\n\t\t\t\tit(\"Should resolve to a JS object, not a JSON string\", function(\r\n\t\t\t\t\tdone\r\n\t\t\t\t) {\r\n\t\t\t\t\tpromise\r\n\t\t\t\t\t\t.then(function(data) {\r\n\t\t\t\t\t\t\tdata.should.have.property(\"d\");\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => done(err));\r\n\t\t\t\t});\r\n\t\t\t\tit(\"Should return valid API results: ctx.get('/lists')\", function(\r\n\t\t\t\t\tdone\r\n\t\t\t\t) {\r\n\t\t\t\t\tpromise\r\n\t\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\t\tdata.should.have.property(\"d\");\r\n\t\t\t\t\t\t\tdata.d.should.have.property(\"results\");\r\n\t\t\t\t\t\t\tdata.d.results.should.be.an(\"array\");\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => done(err));\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.post(url, [body], [opts]\", function() {\r\n\t\t\t\tit(\"Should return a Promise\");\r\n\t\t\t\tit(\"Should resolve to a JS object, not a JSON string\");\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.authorizedPost(url, [body], [opts]\", function() {\r\n\t\t\t\tit(\"Should include a request digest in the headers\");\r\n\t\t\t\tit(\"Should return a Promise\");\r\n\t\t\t\tit(\"Should resolve to a JS object, not a JSON string\");\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.getRequestDigest()\", function() {\r\n\t\t\t\tit(\"Should resolve to a string request digest\", function(done) {\r\n\t\t\t\t\tctx.getRequestDigest().then(function(digest) {\r\n\t\t\t\t\t\tdigest.should.be.a(\"string\");\r\n\t\t\t\t\t\tdigest.should.not.be.empty;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/contextTests.js","var permissionsTests = require(\"./permissionTests.js\");\r\nvar should = require(\"chai\").should();\r\n\r\nexports.run = function(dao) {\r\n    describe(\"var web = ctx.web\", function() {\r\n        this.timeout(5000);\r\n        describe(\"ctx.web.getInfo()\", function() {\r\n            it(\"Should return a promise that resolves to web info\", function(done) {\r\n                dao.web.getInfo().then(function(webInfo) {\r\n                    webInfo.should.have.property(\"Url\");\r\n                    webInfo.should.have.property(\"Title\");\r\n                    done();\r\n                })\r\n                .catch(function(err) {\r\n                    console.log(err)\r\n                });\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.web.getSubsites()\", function() {\r\n            it(\"Should return a promise that resolves to an array of subsite web infos.\", function(done) {\r\n                dao.web.getSubsites().then(function(subsites) {\r\n                    subsites.should.be.an(\"array\");\r\n                    if (subsites.length) {\r\n                        subsites[0].should.have.property(\"Title\");\r\n                        subsites[0].should.have.property(\"ServerRelativeUrl\");\r\n                    }\r\n                    done();\r\n                });\r\n            });\r\n        });\r\n\r\n        // var folderPath = \"/shared documents\";\r\n        // describe(\"web.getFolder(serverRelativeUrl)\", function() {\r\n        //     var folder = null;\r\n        //     before(function(done) {\r\n        //         dao.web.getFolder(folderPath).then(function(result) {\r\n        //             folder = result;\r\n        //             done();\r\n        //         });\r\n        //     });\r\n        //     it(\"Should return a promise that resolves to a folder with files and folders\", function() {\r\n        //         folder.should.be.an(\"object\");\r\n        //         folder.should.have.property(\"name\");\r\n        //         folder.should.have.property(\"serverRelativeUrl\");\r\n        //         folder.should.have.property(\"files\");\r\n        //         folder.files.should.be.an(\"array\");\r\n        //         folder.should.have.property(\"folders\");\r\n        //         folder.folders.should.be.an(\"array\");\r\n        //     });\r\n        // });\r\n\r\n        describe(\"ctx.web.getUser()\", function() {\r\n            var user = null;\r\n            before(function(done){\r\n                dao.web.getUser().then(function(result){\r\n                    user = result;\r\n                    done();\r\n                })\r\n            })\r\n            it(\"Should return a promise that resolves to a user object\", function(){\r\n                user.should.not.be.null;\r\n                user.should.have.property(\"Id\");\r\n                user.should.have.property(\"LoginName\");\r\n                user.should.have.property(\"Email\");\r\n            })\r\n            it(\"Should return the current user\", function() {\r\n                user.should.have.property(\"Id\");\r\n                user.Id.should.equal(_spPageContextInfo.userId);\r\n            })\r\n        })\r\n\r\n        describe(\"ctx.web.getUser(email)\", function() {\r\n            var email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n            var user = null;\r\n            before(function(done){\r\n                dao.web.getUser(email).then(function(result){\r\n                    user = result;\r\n                    done();\r\n                })\r\n            })\r\n\r\n            it(\"Should return a promise that resolves to a user object\", function(){\r\n                user.should.not.be.null;\r\n                user.should.have.property(\"Id\");\r\n                user.should.have.property(\"LoginName\");\r\n                user.should.have.property(\"Email\");\r\n            })\r\n            it(\"Should return a user whose email matches the specified email\", function() {\r\n                user.should.have.property(\"Email\");\r\n                user.Email.should.equal(email);\r\n            })\r\n        })\r\n        var folderUrl = \"/spscript/Shared Documents\";\r\n        var filename = \"testfile.txt\";\r\n        var fileUrl = folderUrl + \"/\" + filename;\r\n\r\n        // describe(\"web.uploadFile(fileContent, serverRelativeFolderUrl)\", function() {\r\n        //     var fileContent = \"file content\";\r\n        //     var fileTitle = \"test title\";\r\n        //     var response = null;\r\n        //     before(function(done){\r\n        //         dao.web.uploadFile(fileContent, folderUrl, { name: filename, Title: fileTitle})\r\n        //             .then(function(data){\r\n        //                 response = data;\r\n        //                 done();\r\n        //             })\r\n        //     })\r\n        //     it(\"Should return a promise that resolves to an object with file and item\", function() {\r\n        //         response.should.not.be.null;\r\n        //         response.should.have.property(\"file\");\r\n        //         response.should.have.property(\"item\");\r\n        //         response.file.should.have.property(\"ServerRelativeUrl\");\r\n        //     });\r\n        //     it(\"Should return an item that has the parent list expanded\", function() {\r\n        //         response.item.should.have.property(\"Id\");\r\n        //         response.item.should.have.property(\"ParentList\");\r\n        //         response.item.ParentList.should.have.property(\"Title\");\r\n        //     })\r\n        //     it(\"Should save the file to the right location\", function() {\r\n        //         response.file.ServerRelativeUrl.toLowerCase().should.equal(fileUrl.toLowerCase());\r\n        //     });\r\n        //     it(\"Should allow setting fields after the upload completes\", function(done) {\r\n        //         dao.lists(response.item.ParentList.Title).getItemById(response.item.Id).then(function(retrievedItem){\r\n        //             retrievedItem.should.have.property(\"Title\");\r\n        //             retrievedItem.Title.should.equal(fileTitle);\r\n        //             done();\r\n        //         })\r\n        //     })\r\n        // })\r\n\r\n        describe(\"ctx.web.getFile(serverRelativeFileUrl)\", function() {\r\n            var file = null;\r\n            before(function(done){\r\n                dao.web.getFile(fileUrl).then(function(result) {\r\n                    file = result;\r\n                    done();\r\n                })\r\n            })\r\n            it(\"Should return a promise that resolves to a file object\", function() {\r\n                file.should.not.be.null;\r\n                file.should.property(\"CheckOutType\");\r\n                file.should.property(\"ETag\");\r\n                file.should.property(\"Exists\");\r\n                file.should.property(\"TimeLastModified\");\r\n                file.should.property(\"Name\");\r\n                file.should.property(\"UIVersionLabel\");\r\n            })\r\n        });\r\n\r\n        var destinationUrl = \"/spscript/Shared%20Documents/testfile2.txt\";\r\n        describe(\"ctx.web.copyFile(serverRelativeSourceUrl, serverRelativeDestUrl)\", function() {\r\n            var startTestTime = new Date();\r\n            var file = null;\r\n            before(function(done){\r\n                dao.web.copyFile(fileUrl, destinationUrl)\r\n                .then(function(){\r\n                    return dao.web.getFile(destinationUrl);\r\n                })\r\n                .then(function(result) {\r\n                    file = result;\r\n                    done();\r\n                }).catch(function(resp) {\r\n                    (\"one\").should.equal(\"two\", \"Error in CopyFile requst\");\r\n                    done();\r\n                })\r\n            })\r\n            it(\"Should return a promise, and once resolved, the new (copied) file should be retrievable.\", function() {\r\n                file.should.not.be.null;\r\n                file.should.property(\"CheckOutType\");\r\n                file.should.property(\"ETag\");\r\n                file.should.property(\"Exists\");\r\n                file.should.property(\"TimeLastModified\");\r\n                file.should.property(\"Name\");\r\n                file.should.property(\"UIVersionLabel\");\r\n                // var modified = new Date(file[\"TimeLastModified\"])\r\n                // modified.should.be.above(startTestTime);\r\n            })\r\n        })\r\n\r\n        // describe(\"web.deleteFile(serverRelativeFileUrl)\", function() {\r\n        //     var file = null;\r\n        //     it(\"Ensure there is a file to delete.\", function(done){\r\n        //         dao.web.getFile(destinationUrl).then(function(result){\r\n        //             result.should.not.be.null;\r\n        //             result.should.have.property(\"Name\");\r\n        //             done();\r\n        //         });\r\n        //     })\r\n\r\n        //     it(\"Should return a promise, and once resolved, the file should NOT be retrievable\", function(done){\r\n        //         dao.web.deleteFile(destinationUrl).then(function(result){\r\n        //             dao.web.getFile(destinationUrl)\r\n        //                 .then(function(){\r\n        //                     // the call to get file succeeded so for a a failure\r\n        //                     (\"one\").should.equal(\"two\");\r\n        //                     done();\r\n        //                 })\r\n        //                 .catch(function(){\r\n        //                     done();\r\n        //                     // call to get file failed as expected because file is gone\r\n        //                 })\r\n        //         })\r\n        //     })\r\n        // }); \r\n\r\n        describe(\"ctx.web.permissions.getRoleAssignments()\", permissionsTests.create(dao.web));\r\n        \r\n        if (isBrowser()) {\r\n            describe(\"ctx.web.permissions.check()\", permissionsTests.create(dao.web, \"check\"));\r\n        }\r\n\r\n        describe(\"ctx.web.permissions.check(email)\", permissionsTests.create(dao.web, \"check\", \"andrew@andrewpetersen.onmicrosoft.com\"))\r\n    });\r\n};\r\n\r\nfunction isBrowser() {\r\n    return (!(typeof window === 'undefined'));\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/webTests.js","var permissionsTests = require(\"./permissionTests.js\");\r\nvar should = require(\"chai\").should();\r\n\r\nexports.run = function(dao) {\r\n\tdescribe(\"var list = ctx.lists(listname)\", function() {\r\n\t\tthis.timeout(4000);\r\n\t\tvar list = dao.lists(\"TestList\");\r\n\t\tdescribe(\"list.info()\", function() {\r\n\t\t\tvar listInfo = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.getInfo().then(function(info) {\r\n\t\t\t\t\tlistInfo = info;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to list info\", function() {\r\n\t\t\t\tlistInfo.should.be.an(\"object\");\r\n\t\t\t});\r\n\t\t\tit(\"Should bring back list info like Title, ItemCount, and ListItemEntityTypeFullName\", function() {\r\n\t\t\t\tlistInfo.should.have.property(\"Title\");\r\n\t\t\t\tlistInfo.should.have.property(\"ItemCount\");\r\n\t\t\t\tlistInfo.should.have.property(\"ListItemEntityTypeFullName\");\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.getItems()\", function() {\r\n\t\t\tvar items = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.getItems().then(function(results) {\r\n\t\t\t\t\titems = results;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return a promise that resolves to an array of items\", function() {\r\n\t\t\t\titems.should.be.an(\"array\");\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return all the items in the list\", function(done) {\r\n\t\t\t\tlist.getInfo().then(function(listInfo) {\r\n\t\t\t\t\titems.length.should.equal(listInfo.ItemCount);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.getItems(odata)\", function() {\r\n\t\t\t//Get items where BoolColumn == TRUE\r\n\t\t\tvar odata = \"$filter=MyStatus eq 'Green'\";\r\n\t\t\tvar items = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.getItems(odata).then(function(results) {\r\n\t\t\t\t\titems = results;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to an array of items\", function() {\r\n\t\t\t\titems.should.be.an(\"array\");\r\n\t\t\t});\r\n\t\t\tit(\"Should return only items that match the OData params\", function() {\r\n\t\t\t\titems.forEach(function(item) {\r\n\t\t\t\t\titem.should.have.property(\"MyStatus\");\r\n\t\t\t\t\titem.MyStatus.should.equal(\"Green\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.getItemById(id)\", function() {\r\n\t\t\tvar item = null;\r\n\t\t\tvar validId = -1;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.getItems()\r\n\t\t\t\t\t.then(function(allItems) {\r\n\t\t\t\t\t\tvalidId = allItems[0].Id;\r\n\t\t\t\t\t\treturn validId;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(id) {\r\n\t\t\t\t\t\treturn list.getItemById(id);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\titem = result;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to a single item\", function() {\r\n\t\t\t\titem.should.be.an(\"object\");\r\n\t\t\t\titem.should.have.property(\"Title\");\r\n\t\t\t});\r\n\t\t\tit(\"Should resolve an item with a matching ID\", function() {\r\n\t\t\t\titem.should.have.property(\"Id\");\r\n\t\t\t\titem.Id.should.equal(validId);\r\n\t\t\t});\r\n\t\t\tit(\"Should be able to return attachments using the optional odata query\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tlist.getItemById(validId, \"$expand=AttachmentFiles\").then(function(item) {\r\n\t\t\t\t\titem.should.have.property(\"AttachmentFiles\");\r\n\t\t\t\t\titem.AttachmentFiles.should.have.property(\"results\");\r\n\t\t\t\t\titem.AttachmentFiles.results.should.be.an(\"Array\");\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.findItems(key, value)\", function() {\r\n\t\t\tvar matches = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.findItems(\"MyStatus\", \"Green\").then(function(results) {\r\n\t\t\t\t\tmatches = results;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to an array of list items\", function() {\r\n\t\t\t\tmatches.should.be.an(\"array\");\r\n\t\t\t\tmatches.should.not.be.empty;\r\n\t\t\t});\r\n\t\t\tit(\"Should only bring back items the match the key value query\", function() {\r\n\t\t\t\tmatches.forEach(function(item) {\r\n\t\t\t\t\titem.should.have.property(\"MyStatus\");\r\n\t\t\t\t\titem.MyStatus.should.equal(\"Green\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t\tdescribe(\"list.findItem(key, value)\", function() {\r\n\t\t\tvar match = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.findItem(\"MyStatus\", \"Green\").then(function(result) {\r\n\t\t\t\t\tmatch = result;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should resolve to one list item\", function() {\r\n\t\t\t\tmatch.should.be.an(\"object\");\r\n\t\t\t});\r\n\t\t\tit(\"Should only bring back an item if it matches the key value query\", function() {\r\n\t\t\t\tmatch.should.have.property(\"MyStatus\");\r\n\t\t\t\tmatch.MyStatus.should.equal(\"Green\");\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.addItem()\", function() {\r\n\t\t\tvar newItem = {\r\n\t\t\t\tTitle: \"Test Created Item\",\r\n\t\t\t\tMyStatus: \"Red\"\r\n\t\t\t};\r\n\t\t\tvar insertedItem = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.addItem(newItem)\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\tinsertedItem = result;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves with the new list item\", function() {\r\n\t\t\t\tinsertedItem.should.not.be.null;\r\n\t\t\t\tinsertedItem.should.be.an(\"object\");\r\n\t\t\t\tinsertedItem.should.have.property(\"Id\");\r\n\t\t\t});\r\n\t\t\tit(\"Should save the item right away so it can be queried.\", function() {\r\n\t\t\t\tlist.getItemById(insertedItem.Id).then(function(foundItem) {\r\n\t\t\t\t\tfoundItem.should.not.be.null;\r\n\t\t\t\t\tfoundItem.should.have.property(\"Title\");\r\n\t\t\t\t\tfoundItem.Title.should.equal(newItem.Title);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should throw an error if a invalid field is set\", function(done) {\r\n\t\t\t\tnewItem.InvalidColumn = \"test\";\r\n\t\t\t\tlist\r\n\t\t\t\t\t.addItem(newItem)\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\t//supposed to fail\r\n\t\t\t\t\t\t\"one\".should.equal(\"two\");\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(xhr, status, msg) {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// var itemIdWithAttachment = null;\r\n\t\t// var attachmentFilename = \"testAttachment.txt\";\r\n\t\t// var attachmentContent = \"test content\";\r\n\r\n\t\t// describe(\"list.addAttachment(id, filename, content)\", function() {\r\n\r\n\t\t//     before(function(done) {\r\n\t\t//         list.getItems(\"$orderby=Id\").then(function(items) {\r\n\t\t//             itemIdWithAttachment = items[items.length - 1].Id;\r\n\t\t//             return list.addAttachment(itemIdWithAttachment, attachmentFilename, attachmentContent);\r\n\t\t//         }).then(function() {\r\n\t\t//             done();\r\n\t\t//         });\r\n\t\t//     });\r\n\t\t//     it(\"Should add an attachment file to the list item\", function(done) {\r\n\t\t//         list.getItemById(itemIdWithAttachment, \"$expand=AttachmentFiles\").then(function(item){\r\n\t\t//             item.should.have.property('AttachmentFiles');\r\n\t\t//             item.AttachmentFiles.should.have.property('results');\r\n\t\t//             item.AttachmentFiles.results.should.be.an('Array');\r\n\t\t//             item.AttachmentFiles.results.should.not.be.empty;\r\n\t\t//             done();\r\n\t\t//         });\r\n\t\t//     })\r\n\t\t// });\r\n\r\n\t\t// describe(\"list.deleteAttachment(id, filename)\", function() {\r\n\t\t//     var getAttachment = function(id, filename) {\r\n\t\t//         return list.getItemById(itemIdWithAttachment, \"$expand=AttachmentFiles\").then(function(item){\r\n\t\t//             var attachments = item.AttachmentFiles.results;\r\n\t\t//             return attachments.find(function(a) { return a.FileName === attachmentFilename});\r\n\t\t//         });\r\n\t\t//     };\r\n\t\t//     before(function(done) {\r\n\t\t//         getAttachment(itemIdWithAttachment, attachmentFilename).then(function(attachment) {\r\n\t\t//             if (attachment) {\r\n\t\t//                 return list.deleteAttachment(itemIdWithAttachment, attachmentFilename);\r\n\t\t//             }\r\n\t\t//             return false;\r\n\t\t//         }).then(function(){\r\n\t\t//             done();\r\n\t\t//         }).catch(function(res) {\r\n\t\t//             done();\r\n\t\t//             console.log(\"REQUEST ERROR\")\r\n\t\t//         });\r\n\t\t//     });\r\n\t\t//     it(\"Should delete the attachment\", function(done) {\r\n\t\t//         getAttachment(itemIdWithAttachment, attachmentFilename).then(function(attachment) {\r\n\t\t//             if (attachment) (\"attachment\").should.equal(\"null\");\r\n\t\t//             done();\r\n\t\t//         });\r\n\t\t//     })\r\n\t\t// });\r\n\r\n\t\tdescribe(\"list.deleteItem(id)\", function() {\r\n\t\t\tvar itemToDelete = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.getItems(\"$orderby=Id\")\r\n\t\t\t\t\t.then(function(items) {\r\n\t\t\t\t\t\tconsole.log(items);\r\n\t\t\t\t\t\titemToDelete = items[items.length - 1];\r\n\t\t\t\t\t\treturn list.deleteItem(itemToDelete.Id);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should delete that item\", function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.getItemById(itemToDelete.Id)\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\tthrow \"Should have failed because item has been deleted\";\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function() {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should reject the promise if the item id can not be found\", function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.deleteItem(99999999)\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\tthrow \"Should have failed because id doesnt exist\";\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function() {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.updateItem()\", function() {\r\n\t\t\tvar itemToUpdate = null;\r\n\t\t\tvar updates = {\r\n\t\t\t\tTitle: \"Updated Title\"\r\n\t\t\t};\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.getItems(\"$orderby=Id desc\").then(function(items) {\r\n\t\t\t\t\titemToUpdate = items[items.length - 1];\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise\", function(done) {\r\n\t\t\t\tlist.updateItem(itemToUpdate.Id, updates).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should update only the properties that were passed\", function(done) {\r\n\t\t\t\tlist.getItemById(itemToUpdate.Id).then(function(item) {\r\n\t\t\t\t\titem.should.have.property(\"Title\");\r\n\t\t\t\t\titem.Title.should.equal(updates.Title);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.permissions.getRoleAssignments()\", permissionsTests.create(list));\r\n\r\n\t\tif (isBrowser()) {\r\n\t\t\tdescribe(\"list.permissions.check()\", permissionsTests.create(list, \"check\"));\r\n\t\t}\r\n\r\n\t\tdescribe(\r\n\t\t\t\"list.permissions.check(email)\",\r\n\t\t\tpermissionsTests.create(list, \"check\", \"andrew@andrewpetersen.onmicrosoft.com\")\r\n\t\t);\r\n\t});\r\n};\r\n\r\nfunction isBrowser() {\r\n\treturn !(typeof window === \"undefined\");\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/listTests.js","var should = require(\"chai\").should();\r\n\r\nexports.run = function(utils) {\r\n\tdescribe(\"var utils = SPScript.utils\", function() {\r\n        describe(\"utils.parseJSON(data)\", function() {\r\n            it(\"Should exist on the utils object\", function() {\r\n                utils.should.have.property(\"parseJSON\");\r\n                utils.parseJSON.should.be.a(\"function\");\r\n            })\r\n            it(\"Should take a string or an object and return an object\", function() {\r\n                var obj = { one: \"value of one\", two: \"value of two\" };\r\n                var jsonStr = JSON.stringify(obj);\r\n\r\n                var res1 = utils.parseJSON(obj);\r\n                res1.should.not.be.null;\r\n                res1.should.have.property(\"one\");\r\n                res1.one.should.equal(obj.one);\r\n\r\n                var res2 = utils.parseJSON(jsonStr);\r\n                res2.should.not.be.null;\r\n                res2.should.have.property(\"one\");\r\n                res2.one.should.equal(obj.one);\r\n            })\r\n        })\r\n\r\n        describe(\"Query String\", function() {\r\n            describe(\"utils.qs.toObj(str)\", function() {\r\n                it(\"Should take in a string in the form of key=value&key2=value and return an Object\", function() {\r\n                    var str1 = \"key1=value1\";\r\n                    var str2 = \"key1=value1&key2=value2\";\r\n                    var obj1 = utils.qs.toObj(str1)\r\n                    obj1.should.have.property(\"key1\");\r\n                    obj1.key1.should.equal(\"value1\");\r\n\r\n                    var obj2 = utils.qs.toObj(str2);\r\n                    obj2.should.have.property(\"key1\");\r\n                    obj2.should.have.property(\"key2\");\r\n                    obj2.key2.should.equal(\"value2\");\r\n                })\r\n                it(\"Should support an optional leading '?' \", function() {\r\n                    var str1 = \"?key1=value1\";\r\n                    var obj1 = utils.qs.toObj(str1)\r\n                    obj1.should.have.property(\"key1\");\r\n                    obj1.key1.should.equal(\"value1\");\r\n                });\r\n                it(\"Should default to 'window.location.search' if no value is passed\")\r\n            })\r\n\r\n            describe(\"utils.qs.fromObj(obj, quoteValues?)\", function() {\r\n                it(\"Should turn { key1: 'value1', key2: 'value2' } into 'key1=value1&key2=value2'\", function() {\r\n                    var obj = { key1: \"value1\", key2: \"value2\" }\r\n                    var str = utils.qs.fromObj(obj);\r\n                    str.should.equal(\"key1=value1&key2=value2\");\r\n                })\r\n                it(\"Should put single quotes around words with spaces\", function() {\r\n                    var obj = { key1: \"my value\" }\r\n                    var str = utils.qs.fromObj(obj);\r\n                    str.should.equal(\"key1='my value'\");\r\n                })\r\n                it(\"Should put single quotes around every value is an optional 'quoteValues' param is set to true\", function() {\r\n                    var obj = { key1: \"value1\", key2: \"value2\" }\r\n                    var str = utils.qs.fromObj(obj, true);\r\n                    str.should.equal(\"key1='value1'&key2='value2'\");\r\n                })\r\n            });\r\n        })\r\n\r\n        describe(\"Headers\", function() {\r\n\r\n            describe(\"utils.headers.getStandardHeaders(digest?)\", function() {\r\n                var jsonMimeType = \"application/json;odata=verbose\";\r\n                it(\"Should set the Accept header\", function() {\r\n                    var headers = utils.headers.getStandardHeaders();\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                })\r\n                it(\"Should set the Request Digest if a digest is passed\", function() {\r\n                    var digest = \"123Fake\"\r\n                    var headers = utils.headers.getStandardHeaders(digest);\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                    headers.should.have.property(\"X-RequestDigest\");\r\n                    headers[\"X-RequestDigest\"].should.equal(digest);\r\n                })\r\n            })\r\n\r\n            describe(\"utils.headers.getAddHeaders(digest)\", function() {\r\n                var jsonMimeType = \"application/json;odata=verbose\";\r\n                it(\"Should set the Request Digest if a digest is passed\", function() {\r\n                    var digest = \"123Fake\"\r\n                    var headers = utils.headers.getAddHeaders(digest);\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                    headers.should.have.property(\"X-RequestDigest\");\r\n                    headers[\"X-RequestDigest\"].should.equal(digest);\r\n                })\r\n            })\r\n\r\n            describe(\"utils.headers.getUpdateHeaders(digest)\", function() {\r\n                var jsonMimeType = \"application/json;odata=verbose\";\r\n                it(\"Should set X-HTTP-Method to MERGE and include X-RequestDigest\", function() {\r\n                    var digest = \"123Fake\"\r\n                    var headers = utils.headers.getUpdateHeaders(digest);\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                    headers.should.have.property(\"X-RequestDigest\");\r\n                    headers[\"X-RequestDigest\"].should.equal(digest);\r\n                    headers.should.have.property(\"X-HTTP-Method\");\r\n                    headers[\"X-HTTP-Method\"].should.equal(\"MERGE\");\r\n                })\r\n            })\r\n\r\n            describe(\"utils.headers.getDeleteHeaders(digest)\", function() {\r\n                var jsonMimeType = \"application/json;odata=verbose\";\r\n                it(\"Should set X-HTTP-Method to DELETE and include X-RequestDigest\", function() {\r\n                    var digest = \"123Fake\"\r\n                    var headers = utils.headers.getDeleteHeaders(digest);\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                    headers.should.have.property(\"X-RequestDigest\");\r\n                    headers[\"X-RequestDigest\"].should.equal(digest);\r\n                    headers.should.have.property(\"X-HTTP-Method\");\r\n                    headers[\"X-HTTP-Method\"].should.equal(\"DELETE\");\r\n                })\r\n            })\r\n        })\r\n\r\n        describe(\"Dependency Management\", function() {\r\n            describe(\"utils.validateNamespace(namespace)\", function() {\r\n                it(\"Should return false if that namespace is not on global window\")\r\n                it(\"Should return true if that namespace is on global window\")\r\n            })\r\n\r\n            describe(\"utils.waitForLibrary(namespace)\", function() {\r\n                it(\"Should return a promise that resolves when that namespace is on the global\")\r\n            })\r\n\r\n            describe(\"utils.waitForLibraries(namespaces)\", function() {\r\n                it(\"Should return a promise that resolves when all the namespacea are on the global\")\r\n            })\r\n\r\n            describe(\"utils.waitForElement(selector)\", function() {\r\n                it(\"Should return a promise that resolves an element that matches the selector is on the page\");\r\n                it(\"Should eventually time out\")\r\n            })\r\n        })\r\n\t})\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/utilsTests.js","var should = require(\"chai\").should();\r\n\r\nexports.run = function(dao) {\r\n    describe(\"var search = ctx.search;\", function() {\r\n        this.timeout(5000);\r\n        describe(\"ctx.search.query(queryText)\", function() {\r\n            it(\"Should return promise that resolves to a SearchResults object\", function(done) {\r\n                var queryText = \"andrew\";\r\n                dao.search.query(queryText).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"resultsCount\");\r\n                    searchResults.should.have.property(\"totalResults\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.should.have.property(\"refiners\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty;\r\n                    done();\r\n                });\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.search.query(queryText, queryOptions)\", function() {\r\n            it(\"Should obey the extra query options that were passed\", function(done) {\r\n                var queryText = \"andrew\";\r\n                var options = {\r\n                    rowLimit: 1\r\n                };\r\n                dao.search.query(queryText, options).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"resultsCount\");\r\n                    searchResults.should.have.property(\"totalResults\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.should.have.property(\"refiners\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty;\r\n                    searchResults.items.length.should.equal(1);\r\n                    done();\r\n                });\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.search.query(queryText, queryOptions) - w/ Refiners\", function() {\r\n            it(\"Should return SearchResults that include a refiners array\", function(done) {\r\n                var refinerName = \"FileType\";\r\n                var queryText = \"andrew\";\r\n                var options = {\r\n                    refiners: refinerName\r\n                };\r\n                dao.search.query(queryText, options).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"refiners\");\r\n                    searchResults.refiners.should.not.be.empty;\r\n                    var firstRefiner = searchResults.refiners[0];\r\n                    firstRefiner.should.have.property(\"RefinerName\");\r\n                    firstRefiner.should.have.property(\"RefinerOptions\");\r\n                    firstRefiner.RefinerName.should.equal(refinerName);\r\n                    firstRefiner.RefinerOptions.should.be.an(\"array\");\r\n                    done();\r\n                });\r\n            });\r\n        });\r\n        describe(\"ctx.search.people(queryText)\", function() {\r\n            it(\"Should only return search results that are people\", function(done) {\r\n                var queryText = \"andrew\";\r\n                dao.search.people(queryText).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty;\r\n\r\n                    var person = searchResults.items[0];\r\n                    person.should.have.property(\"AccountName\")\r\n                    person.should.have.property(\"PreferredName\")\r\n                    person.should.have.property(\"AboutMe\")\r\n                    person.should.have.property(\"WorkEmail\")\r\n                    person.should.have.property(\"PictureURL\")\r\n                    done();\r\n                })\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.search.sites(queryText, scope)\", function() {\r\n            it(\"Should only return search results that are sites\", function(done) {\r\n                var queryText = \"\";\r\n                dao.search.sites(queryText).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty();\r\n                    \r\n                    var site;\r\n                    for(var i = 0; i < searchResults.items.length; i++) {\r\n                        site = searchResults.items[i];\r\n                        site.should.have.property(\"Path\");\r\n                        site.should.have.property(\"contentclass\");\r\n                        site.contentclass.should.equal(\"STS_Web\");\r\n                    }\r\n\r\n                    done();\r\n                })\r\n            });\r\n\r\n            it(\"Should only return sites underneath the specified scope\", function(done){\r\n                var scope = \"https://andrewpetersen.sharepoint.com/sites/ep\";\r\n                dao.search.sites(\"\", scope).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty();\r\n                    \r\n                    var site;\r\n                    for(var i = 0; i < searchResults.items.length; i++) {\r\n                        site = searchResults.items[i];\r\n                        site.should.have.property(\"Path\");\r\n                        site.Path.indexOf(scope).should.equal(0);\r\n                        site.should.have.property(\"contentclass\");\r\n                        site.contentclass.should.equal(\"STS_Web\");\r\n                    }\r\n\r\n                    done();\r\n                })\r\n            })\r\n        });\r\n    })\r\n\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/searchTests.js","exports.run = function(dao) {\r\n\tdescribe(\"ctx.customActions\", function() {\r\n\t\tthis.timeout(10000);\r\n\r\n\t\tvar customAction = {\r\n\t\t\tName: \"spscript-test\",\r\n\t\t\tLocation: \"ScriptLink\",\r\n\t\t\tScriptBlock: \"console.log('deployed from spscript-mocha test');\"\r\n\t\t};\r\n\t\tdescribe(\"ctx.customActions.add(customAction)\", function() {\r\n\t\t\tvar beforeCount = 0;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.get().then(function(all) {\r\n\t\t\t\t\tbeforeCount = all.length;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a Custom Action with the given name\", function(done) {\r\n\t\t\t\tdao.customActions.add(customAction).then(function() {\r\n\t\t\t\t\tdao.customActions.get().then(function(all) {\r\n\t\t\t\t\t\tall.length.should.equal(beforeCount + 1);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should not add duplicate Custom Action names. It should remove old one first.\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.add(customAction).then(function() {\r\n\t\t\t\t\tdao.customActions.get().then(function(all) {\r\n\t\t\t\t\t\tall.length.should.equal(beforeCount + 1);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.get()\", function() {\r\n\t\t\tvar results = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.get().then(function(data) {\r\n\t\t\t\t\tresults = data;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return a promise that resolves to an array of custom actions\", function() {\r\n\t\t\t\tresults.should.be.an(\"array\");\r\n\t\t\t\tresults.should.not.be.empty;\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should bring back properties like Name, Url, and Location\", function() {\r\n\t\t\t\tvar firstItem = results[0];\r\n\t\t\t\tfirstItem.should.have.property(\"Name\");\r\n\t\t\t\tfirstItem.should.have.property(\"Url\");\r\n\t\t\t\tfirstItem.should.have.property(\"Location\");\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.get(name)\", function() {\r\n\t\t\tvar result = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.get().then(function(allCustomActions) {\r\n\t\t\t\t\tdao.customActions.get(allCustomActions[0].Name).then(function(res) {\r\n\t\t\t\t\t\tresult = res;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return one object w/ properties like Name, Location, Url, Id\", function() {\r\n\t\t\t\tresult.should.not.be.null;\r\n\t\t\t\tresult.should.have.property(\"Name\");\r\n\t\t\t\tresult.should.have.property(\"Location\");\r\n\t\t\t\tresult.should.have.property(\"Id\");\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should reject the promise with a decent error if the Custom Action name is not found\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions\r\n\t\t\t\t\t.get(\"INVALID-NAME\")\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\t\"one\".should.equal(\"two\");\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.update(updates)\", function() {\r\n\t\t\tvar result = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.get(customAction.Name).then(function(ca) {\r\n\t\t\t\t\tresult = ca;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tvar newTitle = \"updated title - \" + Date.now();\r\n\t\t\tit(\"Should update the property\", function(done) {\r\n\t\t\t\tdao.customActions.update({ Name: result.Name, Title: newTitle }).then(function() {\r\n\t\t\t\t\tdao.customActions.get(result.Name).then(function(i) {\r\n\t\t\t\t\t\ti.Title.should.equal(newTitle);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"dao.customActions.remove(name)\", function() {\r\n\t\t\tvar beforeCount = 0;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions\r\n\t\t\t\t\t.get()\r\n\t\t\t\t\t.then(function(all) {\r\n\t\t\t\t\t\tbeforeCount = all.filter(function(a) {\r\n\t\t\t\t\t\t\treturn a.Name === customAction.Name;\r\n\t\t\t\t\t\t}).length;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should remove all custom actions with that name\", function(done) {\r\n\t\t\t\tdao.customActions.remove(customAction.Name).then(function() {\r\n\t\t\t\t\tdao.customActions.get().then(function(all) {\r\n\t\t\t\t\t\tvar matches = all.filter(function(a) {\r\n\t\t\t\t\t\t\treturn a.Name === customAction.Name;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tmatches.should.be.empty();\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.addScriptLink(name, url)\", function() {\r\n\t\t\tvar jsUrl = \"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js\";\r\n\t\t\tvar caName = \"SPScriptJSTest-Web\";\r\n\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.addScriptLink(caName, jsUrl).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a custom action with that name and ScriptBlock with specified URL\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.get(caName).then(function(ca) {\r\n\t\t\t\t\tca.should.have.property(\"Name\");\r\n\t\t\t\t\tca.Name.should.equal(caName);\r\n\t\t\t\t\tca.should.have.property(\"ScriptBlock\");\r\n\t\t\t\t\tca.ScriptBlock.should.contain(jsUrl);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tafter(function(done) {\r\n\t\t\t\tdao.customActions.remove(caName).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.addScriptLink(name, url, opts)\", function() {\r\n\t\t\tvar jsUrl = \"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js\";\r\n\t\t\tvar caName = \"SPScriptJSTest-Site\";\r\n\t\t\tvar opts = { Sequence: 25, Group: \"Custom Group\" };\r\n\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.addScriptLink(caName, jsUrl, opts).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a custom action with that name and ScriptBlock with specified URL\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.get(caName).then(function(ca) {\r\n\t\t\t\t\tca.should.have.property(\"Name\");\r\n\t\t\t\t\tca.Name.should.equal(caName);\r\n\t\t\t\t\tca.should.have.property(\"ScriptBlock\");\r\n\t\t\t\t\tca.ScriptBlock.should.contain(jsUrl);\r\n\t\t\t\t\tca.should.have.property(\"Group\");\r\n\t\t\t\t\tca.Group.should.equal(opts.Group);\r\n\t\t\t\t\tca.should.have.property(\"Sequence\");\r\n\t\t\t\t\tca.Sequence.should.equal(25);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tafter(function(done) {\r\n\t\t\t\tdao.customActions.remove(caName).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.addCSSLink(name, url)\", function() {\r\n\t\t\tvar cssUrl = \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\";\r\n\t\t\tvar caName = \"SPScriptCSSTest-Web\";\r\n\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.addCSSLink(caName, cssUrl).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a custom action with that name and ScriptBlock containing specified URL\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.get(caName).then(function(ca) {\r\n\t\t\t\t\tca.should.have.property(\"Name\");\r\n\t\t\t\t\tca.Name.should.equal(caName);\r\n\t\t\t\t\tca.should.have.property(\"ScriptBlock\");\r\n\t\t\t\t\tca.ScriptBlock.should.contain(cssUrl);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tafter(function(done) {\r\n\t\t\t\tdao.customActions.remove(caName).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.addCSSLink(name, url, opts)\", function() {\r\n\t\t\tvar cssUrl = \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\";\r\n\t\t\tvar caName = \"SPScriptCSSTest-Site\";\r\n\t\t\tvar opts = { Sequence: 50, Group: \"Custom Group\" };\r\n\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.addCSSLink(caName, cssUrl, opts).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a custom action with that name and ScriptBlock containing specified URL with Site scope\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.get(caName).then(function(ca) {\r\n\t\t\t\t\tca.should.have.property(\"Name\");\r\n\t\t\t\t\tca.Name.should.equal(caName);\r\n\t\t\t\t\tca.should.have.property(\"ScriptBlock\");\r\n\t\t\t\t\tca.ScriptBlock.should.contain(cssUrl);\r\n\t\t\t\t\tca.should.have.property(\"Group\");\r\n\t\t\t\t\tca.Group.should.equal(opts.Group);\r\n\t\t\t\t\tca.should.have.property(\"Sequence\");\r\n\t\t\t\t\tca.Sequence.should.equal(50);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tafter(function(done) {\r\n\t\t\t\tdao.customActions.remove(caName).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/customActionTests.js","var should = require(\"chai\").should();\r\n\r\nexports.run = function(dao) {\r\n    console.log(\"HERE I AM\");\r\n    describe(\"var profiles = ctx.profiles\", function() {\r\n        this.timeout(5000);\r\n\r\n        describe(\"ctx.profiles.current()\", function() {\r\n            var profile = null;\r\n            before(function(done) {\r\n                dao.profiles.current().then(function(result) {\r\n                    profile = result;\r\n                    console.log(profile);\r\n                    done();\r\n                });\r\n            });\r\n\r\n            it(\"Should return a promise that resolves to a profile properties object\", function() {\r\n                profile.should.be.an(\"object\");\r\n                profile.should.have.property(\"AccountName\");\r\n                profile.should.have.property(\"Email\");\r\n                profile.should.have.property(\"PreferredName\");\r\n            });\r\n            it(\"Should return the profile of the current user\", function() {\r\n                profile.should.have.property(\"Email\");\r\n                profile.Email.should.equal(_spPageContextInfo.userEmail);\r\n            })\r\n        });\r\n\r\n        describe(\"ctx.profiles.get()\", function() {\r\n            var profile = null;\r\n            before(function(done) {\r\n                dao.profiles.get().then(function(result) {\r\n                    profile = result;\r\n                    done();\r\n                });\r\n            });\r\n            it(\"Should return a promise that resolves to a profile properties object\", function() {\r\n                profile.should.be.an(\"object\");\r\n                profile.should.have.property(\"AccountName\");\r\n                profile.should.have.property(\"Email\");\r\n                profile.should.have.property(\"PreferredName\");\r\n            });\r\n\r\n            it(\"Should return the profile of the current user\", function() {\r\n                profile.should.have.property(\"Email\");\r\n                profile.Email.should.equal(_spPageContextInfo.userEmail);\r\n            })\r\n        });\r\n\r\n        describe(\"ctx.profiles.get(email)\", function() {\r\n            var email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n            var profile = null;\r\n            before(function(done) {\r\n                dao.profiles.get(email)\r\n                    .then(function(result) {\r\n                        profile = result;\r\n                        done();\r\n                    }).catch(function(err) {\r\n                        done(err);\r\n                    });\r\n            });\r\n            it(\"Should return a promise that resolves to a profile properties object\", function() {\r\n                profile.should.be.an(\"object\");\r\n                profile.should.have.property(\"AccountName\");\r\n                profile.should.have.property(\"Email\");\r\n                profile.should.have.property(\"PreferredName\");\r\n            });\r\n\r\n            it(\"Should give you the matching person\", function() {\r\n                profile.should.have.property(\"Email\");\r\n                profile.Email.should.equal(email);\r\n            });\r\n\r\n            it(\"Should reject the promise for an invalid email\", function(done) {\r\n                dao.profiles.get(\"invalid@invalid123.com\")\r\n                    .then(function(result) {\r\n                        done(\"The request should have failed.\");\r\n                    })\r\n                    .catch(function() {\r\n                        done();\r\n                    });\r\n            });\r\n        });\r\n\r\n\r\n        describe(\"ctx.profiles.get({ AccountName })\", function() {\r\n            var email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n            var accountName = \"i:0#.f|membership|andrew@andrewpetersen.onmicrosoft.com\";\r\n            var profile = null;\r\n            before(function(done) {\r\n                dao.profiles.get({ AccountName: accountName })\r\n                    .then(function(result) {\r\n                        profile = result;\r\n                        done();\r\n                    }).catch(function(err) {\r\n                        done(err);\r\n                    });\r\n            });\r\n            it(\"Should return a promise that resolves to a profile properties object\", function() {\r\n                profile.should.be.an(\"object\");\r\n                profile.should.have.property(\"AccountName\");\r\n                profile.should.have.property(\"Email\");\r\n                profile.should.have.property(\"PreferredName\");\r\n            });\r\n\r\n            it(\"Should give you the matching person\", function() {\r\n                profile.should.have.property(\"Email\");\r\n                profile.Email.should.equal(email);\r\n            });\r\n\r\n            it(\"Should reject the promise for an invalid account name\", function(done) {\r\n                dao.profiles.get({ AccountName: \"Invalid\" })\r\n                    .then(function(result) {\r\n                        done(\"The request should have failed.\");\r\n                    })\r\n                    .catch(function() {\r\n                        done();\r\n                    });\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.profiles.get({ LoginName })\", function() {\r\n            var email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n            var accountName = \"i:0#.f|membership|andrew@andrewpetersen.onmicrosoft.com\";\r\n            var profile = null;\r\n            before(function(done) {\r\n                dao.profiles.get({ LoginName: accountName })\r\n                    .then(function(result) {\r\n                        profile = result;\r\n                        done();\r\n                    }).catch(function(err) {\r\n                        done(err);\r\n                    });\r\n            });\r\n            it(\"Should return a promise that resolves to a profile properties object\", function() {\r\n                profile.should.be.an(\"object\");\r\n                profile.should.have.property(\"AccountName\");\r\n                profile.should.have.property(\"Email\");\r\n                profile.should.have.property(\"PreferredName\");\r\n            });\r\n\r\n            it(\"Should give you the matching person\", function() {\r\n                profile.should.have.property(\"Email\");\r\n                profile.Email.should.equal(email);\r\n            });\r\n\r\n            it(\"Should reject the promise for an invalid account name\", function(done) {\r\n                dao.profiles.get({ LoginName: \"Invalid\" })\r\n                    .then(function(result) {\r\n                        done(\"The request should have failed.\");\r\n                    })\r\n                    .catch(function() {\r\n                        done();\r\n                    });\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.profiles.setProperty(propertyName, propertyValue)\", function() {\r\n            it(\"Should update the About Me profile property of the current user\", function(done) {\r\n                var aboutMeValue = \"Hi there. I was updated with SPScript 1\";\r\n                dao.profiles.setProperty(\"AboutMe\", aboutMeValue)\r\n                    .then(function() {\r\n                        return dao.profiles.current();\r\n                    })\r\n                    .then(function(profile) {\r\n                        profile.should.have.property(\"AboutMe\");\r\n                        profile.AboutMe.should.equal(aboutMeValue);\r\n                        done();\r\n                    })\r\n                    .catch(function(err) {\r\n                        done(err);\r\n                    });\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.profiles.setProperty(propertyName, propertyValue, email)\", function() {\r\n            var email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n            it(\"Should update the About Me profile property based on the specified email\", function(done) {\r\n                var aboutMeValue = \"Hi there. I was updated with SPScript 2\";\r\n                dao.profiles.setProperty(\"AboutMe\", aboutMeValue, email)\r\n                    .then(function() {\r\n                        return dao.profiles.get(email);\r\n                    })\r\n                    .then(function(profile) {\r\n                        profile.should.have.property(\"AboutMe\");\r\n                        profile.AboutMe.should.equal(aboutMeValue);\r\n                        done();\r\n                    })\r\n                    .catch(function(err) {\r\n                        done(err);\r\n                    });\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.profiles.setProperty(propertyName, propertyValue, { AccountName|LoginName })\", function() {\r\n            var accountName = \"i:0#.f|membership|andrew@andrewpetersen.onmicrosoft.com\";\r\n            var email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n            it(\"Should update the About Me profile property of the passed in User object\", function(done) {\r\n                var aboutMeValue = \"Hi there. I was updated with SPScript 3\";\r\n                dao.profiles.setProperty(\"AboutMe\", aboutMeValue, { AccountName: accountName })\r\n                    .then(function() {\r\n                        return dao.profiles.get({ AccountName: accountName });\r\n                    })\r\n                    .then(function(profile) {\r\n                        profile.should.have.property(\"AboutMe\");\r\n                        profile.AboutMe.should.equal(aboutMeValue);\r\n                        done();\r\n                    })\r\n                    .catch(function(err) {\r\n                        done(err);\r\n                    });\r\n            });\r\n        });\r\n    });\r\n\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/profileTests.js"],"sourceRoot":""}