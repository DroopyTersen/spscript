{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b3d4a2033c4e3077f6be","webpack:///./node_modules/chai/index.js","webpack:///./node_modules/chai/lib/chai/utils/flag.js","webpack:///./node_modules/chai/lib/chai/config.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/chai/lib/chai/utils/inspect.js","webpack:///./node_modules/chai/lib/chai/utils/getActual.js","webpack:///./node_modules/chai/lib/chai/utils/getName.js","webpack:///./node_modules/chai/lib/chai/utils/objDisplay.js","webpack:///./node_modules/chai/lib/chai/utils/transferFlags.js","webpack:///./src/test/tests/permissionTests.js","webpack:///./src/test/test.browser.js","webpack:///./dist/v3/spscript.js","webpack:///./src/test/tests/index.js","webpack:///./node_modules/chai/lib/chai.js","webpack:///./node_modules/assertion-error/index.js","webpack:///./node_modules/chai/lib/chai/utils/index.js","webpack:///./node_modules/chai/lib/chai/utils/test.js","webpack:///./node_modules/chai/lib/chai/utils/type.js","webpack:///./node_modules/chai/lib/chai/utils/getMessage.js","webpack:///./node_modules/chai/lib/chai/utils/getProperties.js","webpack:///./node_modules/chai/lib/chai/utils/getEnumerableProperties.js","webpack:///./node_modules/deep-eql/index.js","webpack:///./node_modules/deep-eql/lib/eql.js","webpack:///./node_modules/type-detect/index.js","webpack:///./node_modules/type-detect/lib/type.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/chai/lib/chai/utils/getPathValue.js","webpack:///./node_modules/chai/lib/chai/utils/addProperty.js","webpack:///./node_modules/chai/lib/chai/utils/addMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteProperty.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteMethod.js","webpack:///./node_modules/chai/lib/chai/utils/addChainableMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js","webpack:///./node_modules/chai/lib/chai/assertion.js","webpack:///./node_modules/chai/lib/chai/core/assertions.js","webpack:///./node_modules/chai/lib/chai/interface/expect.js","webpack:///./node_modules/chai/lib/chai/interface/should.js","webpack:///./node_modules/chai/lib/chai/interface/assert.js","webpack:///./src/test/tests/contextTests.js","webpack:///./src/test/tests/webTests.js","webpack:///./src/test/tests/listTests.js","webpack:///./src/test/tests/customActionTests.js","webpack:///./src/test/tests/searchTests.js","webpack:///./src/test/tests/profileTests.js","webpack:///./src/test/tests/utilsTests.js"],"names":["should","require","create","exports","securable","action","email","permissions","before","done","check","then","privs","catch","err","it","be","an","not","empty","equal","error","getRoleAssignments","forEach","permission","have","property","roles","member","role","mocha","setup","chai","SPScript","run","webpackUniversalModuleDefinition","root","factory","module","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","prototype","hasOwnProperty","p","s","value","queryString_1","headers_1","loaders_1","dependencyManagement_1","isBrowser","window","parseJSON","data","JSON","parse","e","getArrayBuffer","file","File","Promise","resolve","reject","reader","FileReader","onload","target","result","readAsArrayBuffer","validateODataV2","results","length","openModal","url","modalOptions","ensureModalLibrary","defaults","title","options","SP","UI","ModalDialog","showModalDialog","validateNamespace","loadScript","utils","headers","default","qs","toObj","fromObj","loadScripts","loadCSS","waitForLibraries","waitForLibrary","waitForElement","g","Function","eval","decode","encode","stringify","webpackPolyfill","deprecate","paths","children","webpackMissingModule","Error","code","utils_1","method","credentials","redirect","request","opts","fetch","resp","succeeded","ok","text","IPermissions_1","Securable","baseUrl","ctx","_dao","map","transformRoleAssignment","checkPrivs","user","login","encodeURIComponent","LoginName","_this","req","_spPageContextInfo","userId","web","getUser","permissionMaskToStrings","GetUserEffectivePermissions","Low","High","raw","Member","Title","id","Id","RoleDefinitionBindings","roleDef","Name","description","Description","basePermissions","BasePermissions","lowMask","highMask","basePermission","low","high","push","SPScript_1","global","Context_1","csr_1","spscript","CSR","createContext","webAbsoluteUrl","ex","message","obj","quoteValues","writeParam","key","trim","indexOf","str","keys","join","undefined","location","search","substr","prop","sep","eq","regexp","split","maxKeys","len","x","replace","idx","kstr","vstr","k","v","decodeURIComponent","isArray","Array","xs","toString","stringifyPrimitive","isFinite","objectKeys","ks","f","res","jsonMimeType","getStandardHeaders","digest","getAddHeaders","getFilestreamHeaders","getActionHeaders","verb","decorateETag","etag","getUpdateHeaders","getDeleteHeaders","headerUtils","link","document","createElement","setAttribute","querySelector","appendChild","scriptTag","firstScriptTag","getElementsByTagName","async","parentNode","insertBefore","onreadystatechange","arg","isAbort","readyState","test","src","urls","all","namespace","scope","sections","sectionsLength","_waitForLibraries","namespaces","missing","filter","setTimeout","selector","timeout","counter","INTERVAL","MAX_ATTEMPTS","_waitForElement","elem","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","apply","__generator","body","_","label","sent","t","trys","ops","y","Symbol","iterator","op","TypeError","pop","request_1","List_1","Web_1","Search_1","CustomActions_1","Profiles_1","tokenHelper_1","Context","webUrl","clientId","clientSecret","ensureToken","getAppOnlyToken","token","accessToken","customActions","profiles","executeRequest","fullUrl","defaultOptions","requestOptions","_a","Accept","post","_packagePostBody","authorizedPost","getRequestDigest","_ensureRequestDigest","GetContextWebInformation","FormDigestValue","lists","Securable_1","List","listName","getItems","odata","appendOData","getItemById","getItemsByView","viewName","viewUrl","view","queryUrl","postBody","query","type","ViewXml","ViewQuery","findItems","filterValue","findItem","items","getInfo","addItem","item","ListItemEntityTypeFullName","customOptions","updateItem","itemId","updates","uri","deleteItem","prefix","Web","getSubsites","ensureUser","getFile","_copyFile","sourceUrl","destinationUrl","strNewUrl","bOverWrite","copyFile","searchMappers_1","Search","sourceid","startrow","rowlimit","selectedproperties","refiners","refinementfilters","hiddencontstraints","sortlist","queryText","queryOptions","optionsQueryString","mapResponse","people","sites","urlScope","rawResponse","elapsedTime","ElapsedTime","suggestion","SpellingSuggestion","resultsCount","PrimaryQueryResult","RelevantResults","RowCount","totalResults","TotalRows","totalResultsIncludingDuplicates","TotalRowsIncludingDuplicates","mapItems","Table","Rows","mapRefiners","RefinementResults","refinementResults","Refiners","r","RefinerName","RefinerOptions","Entries","itemRows","row","j","Cells","Key","Value","ICustomActions_1","CustomActions","getScope","scopeId","scopes","Site","siteCustomActions","webCustomActions","concat","matches","a","_getUrl","Scope","_getUrlAndDigest","prep","update","metadata","remove","add","customAction","Group","Sequence","Location","existingCustomActions","ca","addScriptBlock","block","ScriptBlock","addCSSLink","scriptBlockStr","addScriptLink","__metadata","Profiles","current","transformPersonProperties","getUserObj","AccountName","setProperty","args","propertyName","propertyValue","accountName","profile","UserProfileProperties","keyvalue","url_1","querystring","urlParts","getRealm","authParams","tokenUrl","realm","client_id","resource","host","grant_type","client_secret","bodyStr","access_token","endpointUrl","Authorization","response_type","console","log","parseRealm","getWWWAuthenticate","_headers","bearer","startsWith","params","reduce","piece","parts","punycode","util","urlParse","urlResolve","resolveObject","urlResolveObject","format","urlFormat","Url","protocol","slashes","auth","port","hostname","hash","pathname","path","href","protocolPattern","portPattern","simplePathPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","parseQueryString","slashesDenoteHost","isObject","u","isString","queryIndex","splitter","uSplit","slashRegex","rest","simplePath","exec","proto","lowerProto","toLowerCase","match","hostEnd","hec","atSign","lastIndexOf","slice","parseHost","ipv6Hostname","hostparts","part","newpart","charCodeAt","validParts","notHost","bit","unshift","toASCII","h","ae","esc","escape","qm","charAt","source","relative","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","splice","isAbsolute","__WEBPACK_AMD_DEFINE_RESULT__","freeExports","nodeType","freeModule","freeGlobal","self","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","Math","stringFromCharCode","String","fromCharCode","RangeError","array","fn","mapDomain","string","labels","encoded","ucs2decode","output","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","input","inputLength","out","bias","basic","index","oldi","w","baseMinusT","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","registerField","field","renderer","renderers","locations","Templates","Fields","templateOverride","SPClientTemplates","TemplateManager","RegisterTemplateOverrides","registerDisplayField","fieldComponent","createDisplayFieldRenderer","registerFormField","createFormFieldRenderer","formCtx","FormContext","clonedCtx","onReady","registerInitCallback","bind","getValue","registerGetValueCallback","updateControlValue","setValue","render","isServer","describe","null","context","list","promise","permissionsTests","dao","webInfo","subsites","Email","folderUrl","filename","fileUrl","startTestTime","Date","listInfo","info","ItemCount","MyStatus","validId","allItems","AttachmentFiles","newItem","insertedItem","foundItem","InvalidColumn","xhr","status","msg","itemToDelete","itemToUpdate","beforeCount","firstItem","allCustomActions","newTitle","now","jsUrl","caName","contain","after","cssUrl","searchResults","rowLimit","refinerName","firstRefiner","person","site","contentclass","Path","userEmail","aboutMeValue","AboutMe","one","two","jsonStr","res1","res2","str1","str2","obj1","key1","obj2","key2"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,+BAA+B;AAC/B;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;AC/BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;;;;;;;ACjDA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,YAAY;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AC5UA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;;AAEA;AACA;AACA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;AChDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,OAAO,6CAA6C;AAC/D,WAAW,QAAQ;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC3CA,IAAIA,SAAS,mBAAAC,CAAQ,CAAR,EAAgBD,MAAhB,EAAb;AACA,IAA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C,GAAzB,CAA6B8G,GAA7B;AACA/I,EAAA,mBAAAA,CAAQ,EAAR,EAA0BiC,GAA1B,CAA8B8G,GAA9B;AACA;AACD/I,CAAA,mBAAAA,CAAQ,EAAR,EAAwBiC,GAAxB,CAA4BD,SAASyE,KAArC;AACA,CA5BD,C;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,aAAa,KAAK;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;ACtFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA,UAAU,iBAAiB;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB;;AAEA;AACA;AACA,sBAAsB,kBAAkB;;AAExC;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC7GA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;;AChHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,KAAK;AACb,QAAQ,IAAI;AACZ,QAAQ,IAAI;AACZ;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,KAAK;AACrB,gBAAgB,IAAI;AACpB,gBAAgB,IAAI;;AAEpB;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AClCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxBA;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK,yCAAmC;AACxC;AACA;AACA,gCAAgC,cAAc;AAC9C;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;;AAEA;AACA;;AAEA;AACA;;AAEA,QAAQ,cAAc;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AChQA;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;;;;;;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AC5vDA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,UAAU;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,QAAQ,WAAW;;AAEnB;AACA;AACA,QAAQ,UAAU;;AAElB;AACA;;;;;;;ACnFA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,yCAAyC;AACzC,gDAAgD;AAChD;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,iBAAiB;AACjB,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,iBAAiB;AAC9B;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;ACrGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACvCA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACrDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,aAAa;;AAEzC;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AClDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;AC9GA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;;AAEvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,mBAAmB;AAChC,aAAa,mBAAmB;AAChC,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACtIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD,iBAAiB,OAAO,OAAO,cAAc,EAAE,EAAE;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gCAAgC;AACjD;AACA;AACA;AACA,aAAa,qBAAqB;AAClC,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa,gBAAgB,aAAa;AAC3D,iBAAiB,aAAa,iBAAiB,aAAa;AAC5D;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK,YAAY,IAAI;AAC3C,sBAAsB,KAAK,gBAAgB,IAAI;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa,UAAU,aAAa;AACrD;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,KAAK,mBAAmB,IAAI;AAChD,oBAAoB,KAAK,uBAAuB,IAAI;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK,0BAA0B,IAAI,WAAW,IAAI;AACxE,sBAAsB,KAAK,8BAA8B,IAAI;AAC7D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK,6BAA6B,IAAI,WAAW,IAAI;AAC3E,sBAAsB,KAAK,0BAA0B,IAAI;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK,0BAA0B,IAAI,WAAW,IAAI;AACxE,sBAAsB,KAAK,8BAA8B,IAAI;AAC7D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK,4BAA4B,IAAI,WAAW,IAAI;AAC1E,sBAAsB,KAAK,0BAA0B,IAAI;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,wCAAwC,iBAAiB;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,gBAAgB;AAC9C;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,KAAK;AAC3B,sBAAsB,KAAK;AAC3B;;AAEA;AACA;AACA;AACA,sBAAsB,KAAK,qDAAqD,IAAI,YAAY,IAAI;AACpG,sBAAsB,KAAK,yDAAyD,IAAI;AACxF;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK,uBAAuB,IAAI,WAAW,IAAI;AACnE,oBAAoB,KAAK,2BAA2B,IAAI;AACxD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,wBAAwB,KAAK,YAAY,IAAI,OAAO,IAAI;AACxD,wBAAwB,KAAK,gBAAgB,IAAI;AACjD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,KAAK,YAAY,IAAI,OAAO,IAAI;AACxD,wBAAwB,KAAK,gBAAgB,IAAI,OAAO,IAAI;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,KAAK,2BAA2B,IAAI,WAAW,IAAI;AAC3E,wBAAwB,KAAK,+BAA+B,IAAI;AAChE;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,wBAAwB,KAAK,4BAA4B,IAAI,WAAW,IAAI;AAC5E,wBAAwB,KAAK,gCAAgC,IAAI;AACjE;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB;;AAEA;AACA,4BAA4B,IAAI;AAChC;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB,EAAE;AAC/D;AACA;AACA,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB,oBAAoB,KAAK;AACzB;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ,6BAA6B,QAAQ;AAC/D;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,sBAAsB,KAAK,uBAAuB,IAAI;AACtD,sBAAsB,KAAK,2BAA2B,IAAI;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,KAAK,+BAA+B,IAAI;AAC9D,sBAAsB,KAAK,mCAAmC,IAAI;AAClE;AACA;AACA;AACA,GAAG;AACH;;;;;;;AC90CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;AC7EA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK,YAAY,IAAI;AACzC,oBAAoB,KAAK,gBAAgB,IAAI;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK,gBAAgB,IAAI;AAC7C,oBAAoB,KAAK,YAAY,IAAI;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe,GAAG,eAAe;AAC5D;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B,eAAe,GAAG,iBAAiB;AACjE;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO,mBAAmB;AACpD;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B,OAAO,mBAAmB;AACvD;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,OAAO,mBAAmB;AACxD;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO,mBAAmB;AAC3D;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;AAC9C;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO,mBAAmB;AAC3D;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,OAAO,mBAAmB;AAC9D;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,iBAAiB;AAC9B,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,iBAAiB;AAC9B,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa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","file":"tests.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SPScript\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SPScript\"] = factory();\n\telse\n\t\troot[\"SPScript\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 37);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b3d4a2033c4e3077f6be","module.exports = require('./lib/chai');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/index.js\n// module id = 1\n// module chunks = 0","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### flag(object ,key, [value])\n *\n * Get or set a flag value on an object. If a\n * value is provided it will be set, else it will\n * return the currently set value or `undefined` if\n * the value is not set.\n *\n *     utils.flag(this, 'foo', 'bar'); // setter\n *     utils.flag(this, 'foo'); // getter, returns `bar`\n *\n * @param {Object} object (constructed Assertion\n * @param {String} key\n * @param {Mixed} value (optional)\n * @name flag\n * @api private\n */\n\nmodule.exports = function (obj, key, value) {\n  var flags = obj.__flags || (obj.__flags = Object.create(null));\n  if (arguments.length === 3) {\n    flags[key] = value;\n  } else {\n    return flags[key];\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/flag.js\n// module id = 2\n// module chunks = 0","module.exports = {\n\n  /**\n   * ### config.includeStack\n   *\n   * User configurable property, influences whether stack trace\n   * is included in Assertion error message. Default of false\n   * suppresses stack trace in the error message.\n   *\n   *     chai.config.includeStack = true;  // enable stack on error\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n   includeStack: false,\n\n  /**\n   * ### config.showDiff\n   *\n   * User configurable property, influences whether or not\n   * the `showDiff` flag should be included in the thrown\n   * AssertionErrors. `false` will always be `false`; `true`\n   * will be true when the assertion has requested a diff\n   * be shown.\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  showDiff: true,\n\n  /**\n   * ### config.truncateThreshold\n   *\n   * User configurable property, sets length threshold for actual and\n   * expected values in assertion errors. If this threshold is exceeded,\n   * the value is truncated.\n   *\n   * Set it to zero if you want to disable truncating altogether.\n   *\n   *     chai.config.truncateThreshold = 0;  // disable truncating\n   *\n   * @param {Number}\n   * @api public\n   */\n\n  truncateThreshold: 40\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/config.js\n// module id = 3\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 4\n// module chunks = 0 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 6\n// module chunks = 0 1","// This is (almost) directly from Node.js utils\n// https://github.com/joyent/node/blob/f8c335d0caf47f16d31413f89aa28eda3878e3aa/lib/util.js\n\nvar getName = require('./getName');\nvar getProperties = require('./getProperties');\nvar getEnumerableProperties = require('./getEnumerableProperties');\n\nmodule.exports = inspect;\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Boolean} showHidden Flag that shows hidden (not enumerable)\n *    properties of objects.\n * @param {Number} depth Depth in which to descend in object. Default is 2.\n * @param {Boolean} colors Flag to turn on ANSI escape codes to color the\n *    output. Default is false (no coloring).\n */\nfunction inspect(obj, showHidden, depth, colors) {\n  var ctx = {\n    showHidden: showHidden,\n    seen: [],\n    stylize: function (str) { return str; }\n  };\n  return formatValue(ctx, obj, (typeof depth === 'undefined' ? 2 : depth));\n}\n\n// Returns true if object is a DOM element.\nvar isDOMElement = function (object) {\n  if (typeof HTMLElement === 'object') {\n    return object instanceof HTMLElement;\n  } else {\n    return object &&\n      typeof object === 'object' &&\n      object.nodeType === 1 &&\n      typeof object.nodeName === 'string';\n  }\n};\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (value && typeof value.inspect === 'function' &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes);\n    if (typeof ret !== 'string') {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // If this is a DOM element, try to get the outer HTML.\n  if (isDOMElement(value)) {\n    if ('outerHTML' in value) {\n      return value.outerHTML;\n      // This value does not have an outerHTML attribute,\n      //   it could still be an XML element\n    } else {\n      // Attempt to serialize it\n      try {\n        if (document.xmlVersion) {\n          var xmlSerializer = new XMLSerializer();\n          return xmlSerializer.serializeToString(value);\n        } else {\n          // Firefox 11- do not support outerHTML\n          //   It does, however, support innerHTML\n          //   Use the following to render the element\n          var ns = \"http://www.w3.org/1999/xhtml\";\n          var container = document.createElementNS(ns, '_');\n\n          container.appendChild(value.cloneNode(false));\n          html = container.innerHTML\n            .replace('><', '>' + value.innerHTML + '<');\n          container.innerHTML = '';\n          return html;\n        }\n      } catch (err) {\n        // This could be a non-native DOM implementation,\n        //   continue with the normal flow:\n        //   printing the element as if it is an object.\n      }\n    }\n  }\n\n  // Look up the keys of the object.\n  var visibleKeys = getEnumerableProperties(value);\n  var keys = ctx.showHidden ? getProperties(value) : visibleKeys;\n\n  // Some type of object without properties can be shortcutted.\n  // In IE, errors have a single `stack` property, or if they are vanilla `Error`,\n  // a `stack` plus `description` property; ignore those for consistency.\n  if (keys.length === 0 || (isError(value) && (\n      (keys.length === 1 && keys[0] === 'stack') ||\n      (keys.length === 2 && keys[0] === 'description' && keys[1] === 'stack')\n     ))) {\n    if (typeof value === 'function') {\n      var name = getName(value);\n      var nameSuffix = name ? ': ' + name : '';\n      return ctx.stylize('[Function' + nameSuffix + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toUTCString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (typeof value === 'function') {\n    var name = getName(value);\n    var nameSuffix = name ? ': ' + name : '';\n    base = ' [Function' + nameSuffix + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    return formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  switch (typeof value) {\n    case 'undefined':\n      return ctx.stylize('undefined', 'undefined');\n\n    case 'string':\n      var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                               .replace(/'/g, \"\\\\'\")\n                                               .replace(/\\\\\"/g, '\"') + '\\'';\n      return ctx.stylize(simple, 'string');\n\n    case 'number':\n      if (value === 0 && (1/value) === -Infinity) {\n        return ctx.stylize('-0', 'number');\n      }\n      return ctx.stylize('' + value, 'number');\n\n    case 'boolean':\n      return ctx.stylize('' + value, 'boolean');\n  }\n  // For some reason typeof null is \"object\", so special case here.\n  if (value === null) {\n    return ctx.stylize('null', 'null');\n  }\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (Object.prototype.hasOwnProperty.call(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str;\n  if (value.__lookupGetter__) {\n    if (value.__lookupGetter__(key)) {\n      if (value.__lookupSetter__(key)) {\n        str = ctx.stylize('[Getter/Setter]', 'special');\n      } else {\n        str = ctx.stylize('[Getter]', 'special');\n      }\n    } else {\n      if (value.__lookupSetter__(key)) {\n        str = ctx.stylize('[Setter]', 'special');\n      }\n    }\n  }\n  if (visibleKeys.indexOf(key) < 0) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(value[key]) < 0) {\n      if (recurseTimes === null) {\n        str = formatValue(ctx, value[key], null);\n      } else {\n        str = formatValue(ctx, value[key], recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (typeof name === 'undefined') {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\nfunction isArray(ar) {\n  return Array.isArray(ar) ||\n         (typeof ar === 'object' && objectToString(ar) === '[object Array]');\n}\n\nfunction isRegExp(re) {\n  return typeof re === 'object' && objectToString(re) === '[object RegExp]';\n}\n\nfunction isDate(d) {\n  return typeof d === 'object' && objectToString(d) === '[object Date]';\n}\n\nfunction isError(e) {\n  return typeof e === 'object' && objectToString(e) === '[object Error]';\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/inspect.js\n// module id = 7\n// module chunks = 0","/*!\n * Chai - getActual utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * # getActual(object, [actual])\n *\n * Returns the `actual` value for an Assertion\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n */\n\nmodule.exports = function (obj, args) {\n  return args.length > 4 ? args[4] : obj._obj;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getActual.js\n// module id = 10\n// module chunks = 0","/*!\n * Chai - getName utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * # getName(func)\n *\n * Gets the name of a function, in a cross-browser way.\n *\n * @param {Function} a function (usually a constructor)\n */\n\nmodule.exports = function (func) {\n  if (func.name) return func.name;\n\n  var match = /^\\s?function ([^(]*)\\(/.exec(func);\n  return match && match[1] ? match[1] : \"\";\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getName.js\n// module id = 11\n// module chunks = 0","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependancies\n */\n\nvar inspect = require('./inspect');\nvar config = require('../config');\n\n/**\n * ### .objDisplay (object)\n *\n * Determines if an object or an array matches\n * criteria to be inspected in-line for error\n * messages or should be truncated.\n *\n * @param {Mixed} javascript object to inspect\n * @name objDisplay\n * @api public\n */\n\nmodule.exports = function (obj) {\n  var str = inspect(obj)\n    , type = Object.prototype.toString.call(obj);\n\n  if (config.truncateThreshold && str.length >= config.truncateThreshold) {\n    if (type === '[object Function]') {\n      return !obj.name || obj.name === ''\n        ? '[Function]'\n        : '[Function: ' + obj.name + ']';\n    } else if (type === '[object Array]') {\n      return '[ Array(' + obj.length + ') ]';\n    } else if (type === '[object Object]') {\n      var keys = Object.keys(obj)\n        , kstr = keys.length > 2\n          ? keys.splice(0, 2).join(', ') + ', ...'\n          : keys.join(', ');\n      return '{ Object (' + kstr + ') }';\n    } else {\n      return str;\n    }\n  } else {\n    return str;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/objDisplay.js\n// module id = 12\n// module chunks = 0","/*!\n * Chai - transferFlags utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### transferFlags(assertion, object, includeAll = true)\n *\n * Transfer all the flags for `assertion` to `object`. If\n * `includeAll` is set to `false`, then the base Chai\n * assertion flags (namely `object`, `ssfi`, and `message`)\n * will not be transferred.\n *\n *\n *     var newAssertion = new Assertion();\n *     utils.transferFlags(assertion, newAssertion);\n *\n *     var anotherAsseriton = new Assertion(myObj);\n *     utils.transferFlags(assertion, anotherAssertion, false);\n *\n * @param {Assertion} assertion the assertion to transfer the flags from\n * @param {Object} object the object to transfer the flags too; usually a new assertion\n * @param {Boolean} includeAll\n * @name getAllFlags\n * @api private\n */\n\nmodule.exports = function (assertion, object, includeAll) {\n  var flags = assertion.__flags || (assertion.__flags = Object.create(null));\n\n  if (!object.__flags) {\n    object.__flags = Object.create(null);\n  }\n\n  includeAll = arguments.length === 3 ? includeAll : true;\n\n  for (var flag in flags) {\n    if (includeAll ||\n        (flag !== 'object' && flag !== 'ssfi' && flag != 'message')) {\n      object.__flags[flag] = flags[flag];\n    }\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/transferFlags.js\n// module id = 13\n// module chunks = 0","var should = require(\"chai\").should();\r\nvar create = (exports.create = function(securable, action, email) {\r\n\tif (action === \"check\") {\r\n\t\treturn function() {\r\n\t\t\tvar permissions = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tsecurable.permissions\r\n\t\t\t\t\t.check(email)\r\n\t\t\t\t\t.then(function(privs) {\r\n\t\t\t\t\t\tpermissions = privs;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return a promise that resolves to an array of base permission strings\", function() {\r\n\t\t\t\tpermissions.should.be.an(\"array\");\r\n\t\t\t\tpermissions.should.not.be.empty;\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should reject the promise for an invalid email\", function(done) {\r\n\t\t\t\tsecurable.permissions\r\n\t\t\t\t\t.check(\"invalid@invalid123.com\")\r\n\t\t\t\t\t.then(function(privs) {\r\n\t\t\t\t\t\t\"one\".should.equal(\"two\");\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t} else {\r\n\t\treturn function() {\r\n\t\t\tvar permissions = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tsecurable.permissions.getRoleAssignments().then(function(privs) {\r\n\t\t\t\t\tpermissions = privs;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to an array of objects\", function() {\r\n\t\t\t\tpermissions.should.be.an(\"array\");\r\n\t\t\t\tpermissions.should.not.be.empty;\r\n\t\t\t});\r\n\t\t\tit(\"Should return objects that each have a member and a roles array\", function() {\r\n\t\t\t\tpermissions.forEach(function(permission) {\r\n\t\t\t\t\tpermission.should.have.property(\"member\");\r\n\t\t\t\t\tpermission.should.have.property(\"roles\");\r\n\t\t\t\t\tpermission.roles.should.be.an(\"array\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return permission objects that contain member.name, member.login, and member.id\", function() {\r\n\t\t\t\tpermissions.forEach(function(permission) {\r\n\t\t\t\t\tpermission.member.should.have.property(\"name\");\r\n\t\t\t\t\tpermission.member.should.have.property(\"login\");\r\n\t\t\t\t\tpermission.member.should.have.property(\"id\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return permission objects, each with a roles array that has a name and description\", function() {\r\n\t\t\t\tpermissions.forEach(function(permission) {\r\n\t\t\t\t\tpermission.roles.forEach(function(role) {\r\n\t\t\t\t\t\trole.should.have.property(\"name\");\r\n\t\t\t\t\t\trole.should.have.property(\"description\");\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/permissionTests.js","// var promisePolyfill = require(\"promise-polyfill\");\r\n// if (!global.Promise) {\r\n// \tglobal.Promise = promisePolyfill;\r\n// }\r\n\r\nmocha.setup(\"bdd\");\r\nchai.should();\r\nvar SPScript = require(\"../../dist/v3/spscript\");\r\nrequire(\"./tests\").run(SPScript);\r\n\r\nmocha.run();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/test.browser.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SPScript\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SPScript\"] = factory();\n\telse\n\t\troot[\"SPScript\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 15);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar queryString_1 = __webpack_require__(17);\r\nvar headers_1 = __webpack_require__(20);\r\nvar loaders_1 = __webpack_require__(21);\r\nvar dependencyManagement_1 = __webpack_require__(22);\r\nfunction isBrowser() {\r\n    return !(typeof window === \"undefined\");\r\n}\r\nfunction parseJSON(data) {\r\n    if (typeof data === \"string\") {\r\n        try {\r\n            data = JSON.parse(data);\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n    return data;\r\n}\r\nvar getArrayBuffer = function (file) {\r\n    if (file && file instanceof File) {\r\n        return new Promise(function (resolve, reject) {\r\n            var reader = new FileReader();\r\n            reader.onload = function (e) {\r\n                resolve(e.target.result);\r\n            };\r\n            reader.readAsArrayBuffer(file);\r\n        });\r\n    }\r\n    else {\r\n        throw \"SPScript.utils.getArrayBuffer: Cant get ArrayBuffer if you don't pass in a file\";\r\n    }\r\n};\r\nfunction validateODataV2(data) {\r\n    data = parseJSON(data);\r\n    var results = null;\r\n    if (data.d && data.d.results && data.d.results.length != null) {\r\n        results = data.d.results;\r\n    }\r\n    else if (data.d) {\r\n        results = data.d;\r\n    }\r\n    return results || data;\r\n}\r\nfunction openModal(url, modalOptions) {\r\n    ensureModalLibrary().then(function () {\r\n        var defaults = {\r\n            title: \" \"\r\n        };\r\n        var options = Object.assign({}, defaults, modalOptions, { url: url });\r\n        return SP.UI.ModalDialog.showModalDialog(options);\r\n    });\r\n}\r\nvar ensureModalLibrary = function () {\r\n    if (!dependencyManagement_1.validateNamespace(\"SP.UI.ModalDialog\")) {\r\n        return loaders_1.loadScript(\"/_layouts/15/1033/sp.res.js\").then(function () {\r\n            return loaders_1.loadScript(\"/_layouts/15/sp.ui.dialog.js\");\r\n        });\r\n    }\r\n    return Promise.resolve(true);\r\n};\r\nvar utils = {\r\n    isBrowser: isBrowser,\r\n    headers: headers_1.default,\r\n    parseJSON: parseJSON,\r\n    validateODataV2: validateODataV2,\r\n    qs: { toObj: queryString_1.toObj, fromObj: queryString_1.fromObj },\r\n    loadScript: loaders_1.loadScript,\r\n    loadScripts: loaders_1.loadScripts,\r\n    loadCSS: loaders_1.loadCSS,\r\n    getArrayBuffer: getArrayBuffer,\r\n    waitForLibraries: dependencyManagement_1.waitForLibraries,\r\n    waitForLibrary: dependencyManagement_1.waitForLibrary,\r\n    validateNamespace: dependencyManagement_1.validateNamespace,\r\n    waitForElement: dependencyManagement_1.waitForElement,\r\n    openModal: openModal\r\n};\r\nexports.default = utils;\r\n\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.decode = exports.parse = __webpack_require__(18);\nexports.encode = exports.stringify = __webpack_require__(19);\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n/***/ }),\n/* 7 */,\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// if (typeof process !== 'undefined') {\r\n//     require('isomorphic-fetch');\r\n// }\r\n__webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"fetch-everywhere\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\r\nvar utils_1 = __webpack_require__(0);\r\nvar defaults = {\r\n    method: \"GET\",\r\n    credentials: \"include\",\r\n    redirect: \"follow\"\r\n};\r\nvar request = function (url, options) {\r\n    var opts = Object.assign({}, defaults, options);\r\n    return fetch(url, opts).then(function (resp) {\r\n        var succeeded = resp.ok;\r\n        if (!resp.ok) {\r\n            return resp.text().then(function (err) {\r\n                throw new Error(err);\r\n            });\r\n        }\r\n        return resp.text().then(function (text) {\r\n            return utils_1.default.parseJSON(text) || text;\r\n        });\r\n    });\r\n};\r\nexports.default = request;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar IPermissions_1 = __webpack_require__(25);\r\n/** Allows you to check the permissions of a securable (list or site) */\r\nvar Securable = (function () {\r\n    function Securable(baseUrl, ctx) {\r\n        this.baseUrl = baseUrl;\r\n        this._dao = ctx;\r\n    }\r\n    /** Gets all the role assignments on that securable  */\r\n    Securable.prototype.getRoleAssignments = function () {\r\n        var url = this.baseUrl + \"/RoleAssignments?$expand=Member,RoleDefinitionBindings\";\r\n        return this._dao.get(url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (results) { return results.map(transformRoleAssignment); });\r\n    };\r\n    Securable.prototype.checkPrivs = function (user) {\r\n        var login = encodeURIComponent(user.LoginName);\r\n        var url = this.baseUrl + \"/getusereffectivepermissions(@v)?@v='\" + login + \"'\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Gets all the role assignments on that securable. If you don't pass an email, it will use the current user. */\r\n    Securable.prototype.check = function (email) {\r\n        var _this = this;\r\n        if (!email && !utils_1.default.isBrowser()) {\r\n            return Promise.reject(\"Can't check permissions. No email passed and no current user\");\r\n        }\r\n        // If no email is passed, then get current user, else get user by email\r\n        var req = !email\r\n            ? this._dao.get('/web/getuserbyid(' + _spPageContextInfo.userId + ')').then(function (data) { return data.d; })\r\n            : this._dao.web.getUser(email);\r\n        return req.then(function (user) { return _this.checkPrivs(user); })\r\n            .then(function (privs) { return permissionMaskToStrings(privs.GetUserEffectivePermissions.Low, privs.GetUserEffectivePermissions.High); });\r\n    };\r\n    return Securable;\r\n}());\r\nexports.default = Securable;\r\nvar transformRoleAssignment = function (raw) {\r\n    var member = {\r\n        login: raw.Member.LoginName,\r\n        name: raw.Member.Title,\r\n        id: raw.Member.Id\r\n    };\r\n    var roles = raw.RoleDefinitionBindings.results.map(function (roleDef) {\r\n        return {\r\n            name: roleDef.Name,\r\n            description: roleDef.Description,\r\n            basePermissions: permissionMaskToStrings(roleDef.BasePermissions.Low, roleDef.BasePermissions.High)\r\n        };\r\n    });\r\n    return { member: member, roles: roles };\r\n};\r\nvar permissionMaskToStrings = function (lowMask, highMask) {\r\n    var permissions = [];\r\n    IPermissions_1.basePermissions.forEach(function (basePermission) {\r\n        if ((basePermission.low & lowMask) > 0 || (basePermission.high & highMask) > 0) {\r\n            permissions.push(basePermission.name);\r\n        }\r\n    });\r\n    return permissions;\r\n};\r\n\n\n/***/ }),\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar SPScript_1 = __webpack_require__(16);\r\nmodule.exports = SPScript_1.default;\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar Context_1 = __webpack_require__(23);\r\nvar csr_1 = __webpack_require__(36);\r\nvar spscript = {\r\n    utils: utils_1.default,\r\n    CSR: csr_1.default,\r\n    createContext: function (url, options) {\r\n        try {\r\n            if (!url && global._spPageContextInfo) {\r\n                url = global._spPageContextInfo.webAbsoluteUrl;\r\n            }\r\n            return new Context_1.default(url, options);\r\n        }\r\n        catch (ex) {\r\n            throw new Error(\"Unable to create SPScript Context: \" + ex.message);\r\n        }\r\n    }\r\n};\r\nexports.default = spscript;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar qs = __webpack_require__(5);\r\nfunction fromObj(obj, quoteValues) {\r\n    var writeParam = function (key) {\r\n        var value = (obj[key] + \"\").trim();\r\n        // if there is a space, wrap in single quotes\r\n        if (value.indexOf(\" \") > -1 || quoteValues)\r\n            value = \"'\" + value + \"'\";\r\n        return key + \"=\" + value;\r\n    };\r\n    var str = Object.keys(obj)\r\n        .map(writeParam)\r\n        .join(\"&\");\r\n    return str;\r\n}\r\nexports.fromObj = fromObj;\r\nfunction toObj(str) {\r\n    //if no string is passed use window.location.search\r\n    if (str === undefined && window && window.location && window.location.search) {\r\n        str = window.location.search;\r\n    }\r\n    if (!str)\r\n        return {};\r\n    //trim off the leading '?' if its there\r\n    if (str[0] === \"?\")\r\n        str = str.substr(1);\r\n    return qs.parse(str);\r\n}\r\nexports.toObj = toObj;\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n;\r\nvar jsonMimeType = \"application/json;odata=verbose\";\r\nfunction getStandardHeaders(digest) {\r\n    var headers = {\r\n        \"Accept\": jsonMimeType,\r\n        \"Content-Type\": jsonMimeType\r\n    };\r\n    if (digest)\r\n        headers[\"X-RequestDigest\"] = digest;\r\n    return headers;\r\n}\r\nvar getAddHeaders = getStandardHeaders;\r\nvar getFilestreamHeaders = function (digest) {\r\n    return {\r\n        'Accept': jsonMimeType,\r\n        'X-RequestDigest': digest,\r\n        'Content-Type': \"application/octet-stream\",\r\n        'binaryStringRequestBody': \"true\"\r\n    };\r\n};\r\nvar getActionHeaders = function (verb, digest) {\r\n    return Object.assign({}, getStandardHeaders(digest), {\r\n        \"X-HTTP-Method\": verb\r\n    });\r\n};\r\nvar decorateETag = function (headers, etag) {\r\n    if (etag)\r\n        headers[\"If-Match\"] = etag;\r\n    return headers;\r\n};\r\nvar getUpdateHeaders = function (digest, etag) { return decorateETag(getActionHeaders(\"MERGE\", digest), etag); };\r\nvar getDeleteHeaders = function (digest, etag) { return decorateETag(getActionHeaders(\"DELETE\", digest), etag); };\r\nvar headerUtils = {\r\n    getStandardHeaders: getStandardHeaders,\r\n    getAddHeaders: getAddHeaders,\r\n    getFilestreamHeaders: getFilestreamHeaders,\r\n    getUpdateHeaders: getUpdateHeaders,\r\n    getDeleteHeaders: getDeleteHeaders,\r\n    getActionHeaders: getActionHeaders\r\n};\r\nexports.default = headerUtils;\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.loadCSS = function (url) {\r\n    var link = document.createElement(\"link\");\r\n    link.setAttribute(\"rel\", \"stylesheet\");\r\n    link.setAttribute(\"type\", \"text/css\");\r\n    link.setAttribute(\"href\", url);\r\n    document.querySelector(\"head\").appendChild(link);\r\n};\r\nexports.loadScript = function (url) {\r\n    return new Promise(function (resolve, reject) {\r\n        var scriptTag = window.document.createElement(\"script\");\r\n        var firstScriptTag = document.getElementsByTagName('script')[0];\r\n        scriptTag.async = true;\r\n        firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);\r\n        scriptTag.onload = scriptTag.onreadystatechange = function (arg, isAbort) {\r\n            // if its been aborted, readyState is gone, or readyState is in a 'done' status\r\n            if (isAbort || !scriptTag.readyState || /loaded|complete/.test(scriptTag.readyState)) {\r\n                //clean up\r\n                scriptTag.onload = scriptTag.onreadystatechange = null;\r\n                scriptTag = undefined;\r\n                // resolve/reject the promise\r\n                if (!isAbort)\r\n                    resolve();\r\n                else\r\n                    reject;\r\n            }\r\n        };\r\n        scriptTag.src = url;\r\n    });\r\n};\r\nexports.loadScripts = function (urls) {\r\n    return Promise.all(urls.map(exports.loadScript));\r\n};\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.validateNamespace = function (namespace) {\r\n    var scope = window;\r\n    var sections = namespace.split(\".\");\r\n    var sectionsLength = sections.length;\r\n    for (var i = 0; i < sectionsLength; i++) {\r\n        var prop = sections[i];\r\n        if (prop in scope) {\r\n            scope = scope[prop];\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\nvar _waitForLibraries = function (namespaces, resolve) {\r\n    var missing = namespaces.filter(function (namespace) { return !exports.validateNamespace(namespace); });\r\n    if (missing.length === 0)\r\n        resolve();\r\n    else\r\n        setTimeout(function () { return _waitForLibraries(namespaces, resolve); }, 25);\r\n};\r\nexports.waitForLibraries = function (namespaces) {\r\n    return new Promise(function (resolve, reject) { return _waitForLibraries(namespaces, resolve); });\r\n};\r\nexports.waitForLibrary = function (namespace) {\r\n    return exports.waitForLibraries([namespace]);\r\n};\r\nexports.waitForElement = function (selector, timeout) {\r\n    if (timeout === void 0) { timeout = 5000; }\r\n    var counter = 0;\r\n    var INTERVAL = 25; //milliseconds\r\n    var MAX_ATTEMPTS = timeout / INTERVAL; // eventually give up\r\n    return new Promise(function (resolve, reject) {\r\n        var _waitForElement = function () {\r\n            if (counter > MAX_ATTEMPTS)\r\n                reject(\"Unable to find element: \" + selector);\r\n            var elem = document.querySelector(selector);\r\n            if (!elem) {\r\n                counter++;\r\n                setTimeout(_waitForElement, INTERVAL);\r\n            }\r\n            else\r\n                resolve(elem);\r\n        };\r\n        _waitForElement();\r\n    });\r\n};\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar request_1 = __webpack_require__(8);\r\nvar utils_1 = __webpack_require__(0);\r\nvar List_1 = __webpack_require__(24);\r\nvar Web_1 = __webpack_require__(26);\r\nvar Search_1 = __webpack_require__(27);\r\nvar CustomActions_1 = __webpack_require__(29);\r\nvar Profiles_1 = __webpack_require__(31);\r\nvar tokenHelper_1 = __webpack_require__(32);\r\nvar Context = (function () {\r\n    function Context(url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        this.webUrl = url;\r\n        this.clientId = options.clientId;\r\n        this.clientSecret = options.clientSecret;\r\n        // TODO serverside: replace with tokenHelper.getAppOnlyToken(this.webUrl, this.clientKey, this.clientSecret).then(token => this.accessToken = token);\r\n        this.ensureToken = !options.clientId\r\n            ? Promise.resolve(true)\r\n            : tokenHelper_1.getAppOnlyToken(url, options.clientId, options.clientSecret).then(function (token) { return (_this.accessToken = token); });\r\n        this.search = new Search_1.default(this);\r\n        this.customActions = new CustomActions_1.default(this);\r\n        this.web = new Web_1.default(this);\r\n        this.profiles = new Profiles_1.default(this);\r\n    }\r\n    Context.prototype.executeRequest = function (url, opts) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fullUrl, defaultOptions, requestOptions;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.ensureToken];\r\n                    case 1:\r\n                        _a.sent();\r\n                        fullUrl = /^http/i.test(url) ? url : this.webUrl + \"/_api\" + url;\r\n                        defaultOptions = {\r\n                            method: \"GET\",\r\n                            headers: {\r\n                                Accept: \"application/json; odata=verbose\",\r\n                                \"Content-Type\": \"application/json; odata=verbose\"\r\n                            }\r\n                        };\r\n                        requestOptions = Object.assign({}, defaultOptions, opts);\r\n                        if (this.accessToken) {\r\n                            requestOptions.headers[\"Authorization\"] =\r\n                                \"Bearer \" + this.accessToken;\r\n                        }\r\n                        return [2 /*return*/, request_1.default(fullUrl, requestOptions)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /** Make a 'GET' request to the '<site>/_api' relative url. */\r\n    Context.prototype.get = function (url, opts) {\r\n        var options = Object.assign({}, { method: \"GET\" }, opts);\r\n        return this.executeRequest(url, options).then(utils_1.default.parseJSON);\r\n    };\r\n    /** Make a 'POST' request to the '<site>/_api' relative url. */\r\n    Context.prototype.post = function (url, body, opts) {\r\n        body = this._packagePostBody(body, opts);\r\n        var options = {\r\n            method: \"POST\",\r\n            body: body\r\n        };\r\n        options = Object.assign({}, options, opts);\r\n        return this.executeRequest(url, options).then(utils_1.default.parseJSON);\r\n    };\r\n    /** Make a 'POST' request to the '<site>/_api' relative url. SPScript will handle authorizing the request for you.*/\r\n    Context.prototype.authorizedPost = function (url, body, verb) {\r\n        var _this = this;\r\n        return this.getRequestDigest()\r\n            .then(function (digest) { return utils_1.default.headers.getActionHeaders(verb, digest); })\r\n            .then(function (headers) { return _this.post(url, body, { headers: headers }); });\r\n    };\r\n    Context.prototype._ensureRequestDigest = function (digest) {\r\n        return digest ? Promise.resolve(digest) : this.getRequestDigest();\r\n    };\r\n    /** Get a Request Digest token to authorize a request */\r\n    Context.prototype.getRequestDigest = function () {\r\n        return this.post(\"/contextInfo\", {}).then(function (data) { return data[\"d\"].GetContextWebInformation.FormDigestValue; });\r\n    };\r\n    /** Get an SPScript List instance */\r\n    Context.prototype.lists = function (name) {\r\n        return new List_1.default(name, this);\r\n    };\r\n    Context.prototype._packagePostBody = function (body, opts) {\r\n        // if its already a string just return\r\n        if (typeof body === \"string\")\r\n            return body;\r\n        // if it has an explicit content-type, asssume the body is already that type\r\n        if (opts &&\r\n            opts.headers &&\r\n            opts.headers[\"Content-Type\"] &&\r\n            opts.headers[\"Content-Type\"].indexOf(\"json\") === -1) {\r\n            return body;\r\n        }\r\n        //others stringify\r\n        return JSON.stringify(body);\r\n    };\r\n    return Context;\r\n}());\r\nexports.default = Context;\r\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar Securable_1 = __webpack_require__(9);\r\nvar List = (function () {\r\n    function List(name, ctx) {\r\n        this.listName = name;\r\n        this.baseUrl = \"/web/lists/getbytitle('\" + this.listName + \"')\";\r\n        this._dao = ctx;\r\n        this.permissions = new Securable_1.default(this.baseUrl, ctx);\r\n    }\r\n    /** Get items from the list. Will return all items if no OData is passed. */\r\n    List.prototype.getItems = function (odata) {\r\n        return this._dao\r\n            .get(this.baseUrl + \"/items\" + appendOData(odata))\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Get a specific item by SharePoint ID */\r\n    List.prototype.getItemById = function (id, odata) {\r\n        var url = this.baseUrl + \"/items(\" + id + \")\" + appendOData(odata);\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Gets the items returned by the specified View name */\r\n    List.prototype.getItemsByView = function (viewName) {\r\n        var _this = this;\r\n        var viewUrl = this.baseUrl + \"/Views/getByTitle('\" + viewName + \"')/ViewQuery\";\r\n        // 1. Get the targeted view on the targeted list so we can pull out the ViewXml\r\n        return this._dao.get(viewUrl)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (view) {\r\n            // Now that we found the view, craft a POST request the the /GetItems endpoint\r\n            var queryUrl = _this.baseUrl + \"/GetItems\";\r\n            var postBody = {\r\n                query: {\r\n                    \"__metadata\": {\r\n                        type: \"SP.CamlQuery\"\r\n                    },\r\n                    ViewXml: view.ViewQuery\r\n                }\r\n            };\r\n            return _this._dao.authorizedPost(queryUrl, postBody);\r\n        })\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Gets you all items whose field(key) matches the value. Currently only text and number columns are supported. */\r\n    List.prototype.findItems = function (key, value, odata) {\r\n        var filterValue = typeof value === \"string\" ? \"'\" + value + \"'\" : value;\r\n        odata = \"$filter=\" + key + \" eq \" + filterValue + appendOData(odata, \"&\");\r\n        return this.getItems(odata);\r\n    };\r\n    /** Get the item whose field(key) matches the value. If multiple matches are found, the first is returned. Currently only text and number columns are supported. */\r\n    List.prototype.findItem = function (key, value, odata) {\r\n        return this.findItems(key, value, odata)\r\n            .then(function (items) {\r\n            if (items && items.length && items.length > 0)\r\n                return items[0];\r\n            return null;\r\n        });\r\n    };\r\n    /** Get all the properties of the List */\r\n    List.prototype.getInfo = function () {\r\n        return this._dao.get(this.baseUrl).then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Insert a List Item */\r\n    List.prototype.addItem = function (item, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest).then(function (digest) {\r\n            return _this._dao.get(_this.baseUrl)\r\n                .then(function (data) {\r\n                //decorate the item with the 'type' metadata\r\n                item = Object.assign({}, {\r\n                    \"__metadata\": {\r\n                        \"type\": data[\"d\"].ListItemEntityTypeFullName\r\n                    }\r\n                }, item);\r\n                var customOptions = {\r\n                    headers: utils_1.default.headers.getAddHeaders(digest)\r\n                };\r\n                return _this._dao.post(_this.baseUrl + \"/items\", item, customOptions);\r\n            })\r\n                .then(utils_1.default.validateODataV2);\r\n        });\r\n    };\r\n    /** Takes a SharePoint Id, and updates that item ONLY with properties that are found in the passed in updates object. */\r\n    List.prototype.updateItem = function (itemId, updates, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest).then(function (digest) {\r\n            return _this.getItemById(itemId).then(function (item) {\r\n                //decorate the item with the 'type' metadata\r\n                updates = Object.assign({}, {\r\n                    \"__metadata\": {\r\n                        \"type\": item[\"__metadata\"].type\r\n                    }\r\n                }, updates);\r\n                var customOptions = {\r\n                    headers: utils_1.default.headers.getUpdateHeaders(digest, item[\"__metadata\"].etag)\r\n                };\r\n                return _this._dao.post(item[\"__metadata\"].uri, updates, customOptions);\r\n            });\r\n        });\r\n    };\r\n    /** deletes the item with the specified SharePoint Id */\r\n    List.prototype.deleteItem = function (itemId, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest).then(function (digest) {\r\n            return _this.getItemById(itemId).then(function (item) {\r\n                var customOptions = {\r\n                    headers: utils_1.default.headers.getDeleteHeaders(digest, item[\"__metadata\"].etag)\r\n                };\r\n                return _this._dao.post(item[\"__metadata\"].uri, \"\", customOptions);\r\n            });\r\n        });\r\n    };\r\n    return List;\r\n}());\r\nexports.default = List;\r\nvar appendOData = function (odata, prefix) {\r\n    prefix = prefix || \"?\";\r\n    if (odata)\r\n        return prefix + odata;\r\n    return \"\";\r\n};\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.basePermissions = [{\r\n        \"name\": \"emptyMask\",\r\n        \"low\": 0,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewListItems\",\r\n        \"low\": 1,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"addListItems\",\r\n        \"low\": 2,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"editListItems\",\r\n        \"low\": 4,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"deleteListItems\",\r\n        \"low\": 8,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"approveItems\",\r\n        \"low\": 16,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"openItems\",\r\n        \"low\": 32,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewVersions\",\r\n        \"low\": 64,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"deleteVersions\",\r\n        \"low\": 128,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"cancelCheckout\",\r\n        \"low\": 256,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"managePersonalViews\",\r\n        \"low\": 512,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"manageLists\",\r\n        \"low\": 2048,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewFormPages\",\r\n        \"low\": 4096,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"anonymousSearchAccessList\",\r\n        \"low\": 8192,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"open\",\r\n        \"low\": 65536,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewPages\",\r\n        \"low\": 131072,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"addAndCustomizePages\",\r\n        \"low\": 262144,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"applyThemeAndBorder\",\r\n        \"low\": 524288,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"applyStyleSheets\",\r\n        \"low\": 1048576,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewUsageData\",\r\n        \"low\": 2097152,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"createSSCSite\",\r\n        \"low\": 4194304,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"manageSubwebs\",\r\n        \"low\": 8388608,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"createGroups\",\r\n        \"low\": 16777216,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"managePermissions\",\r\n        \"low\": 33554432,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"browseDirectories\",\r\n        \"low\": 67108864,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"browseUserInfo\",\r\n        \"low\": 134217728,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"addDelPrivateWebParts\",\r\n        \"low\": 268435456,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"updatePersonalWebParts\",\r\n        \"low\": 536870912,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"manageWeb\",\r\n        \"low\": 1073741824,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"anonymousSearchAccessWebLists\",\r\n        \"low\": -2147483648,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"useClientIntegration\",\r\n        \"low\": 0,\r\n        \"high\": 16\r\n    }, {\r\n        \"name\": \"useRemoteAPIs\",\r\n        \"low\": 0,\r\n        \"high\": 32\r\n    }, {\r\n        \"name\": \"manageAlerts\",\r\n        \"low\": 0,\r\n        \"high\": 64\r\n    }, {\r\n        \"name\": \"createAlerts\",\r\n        \"low\": 0,\r\n        \"high\": 128\r\n    }, {\r\n        \"name\": \"editMyUserInfo\",\r\n        \"low\": 0,\r\n        \"high\": 256\r\n    }, {\r\n        \"name\": \"enumeratePermissions\",\r\n        \"low\": 0,\r\n        \"high\": 1073741824\r\n    }];\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar Securable_1 = __webpack_require__(9);\r\nvar Web = (function () {\r\n    function Web(ctx) {\r\n        this.baseUrl = \"/web\";\r\n        this._dao = ctx;\r\n        this.permissions = new Securable_1.default(this.baseUrl, ctx);\r\n    }\r\n    /** Retrieves basic information about the site */\r\n    Web.prototype.getInfo = function () {\r\n        return this._dao\r\n            .get(this.baseUrl)\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Retrieves all of the subsites */\r\n    Web.prototype.getSubsites = function () {\r\n        return this._dao\r\n            .get(this.baseUrl + \"/webinfos\")\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    Web.prototype.getUser = function (email) {\r\n        var url = email ? this.baseUrl + \"/SiteUsers/GetByEmail('\" + email + \"')\" : this.baseUrl + \"/CurrentUser\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    Web.prototype.ensureUser = function (login) {\r\n        return this._dao.post(\"/web/ensureUser('\" + login + \"')\").then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Retrieves a file by server relative url */\r\n    Web.prototype.getFile = function (url) {\r\n        var url = \"/web/getfilebyserverrelativeurl('\" + url + \"')\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    Web.prototype._copyFile = function (sourceUrl, destinationUrl, digest) {\r\n        var url = \"/web/getfilebyserverrelativeurl('\" + sourceUrl + \"')/CopyTo\"; //(strnewurl='${destinationUrl}',boverwrite=true)`\r\n        var options = {\r\n            headers: utils_1.default.headers.getAddHeaders(digest)\r\n        };\r\n        var body = {\r\n            strNewUrl: destinationUrl,\r\n            bOverWrite: true\r\n        };\r\n        return this._dao.post(url, body, options);\r\n    };\r\n    // TODO: getFolder\r\n    // TODO: uploadFile\r\n    // TODO: fileAction\r\n    // TODO: deleteFile\r\n    /** Copies a file from one server relative url to another */\r\n    Web.prototype.copyFile = function (sourceUrl, destinationUrl, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest)\r\n            .then(function (digest) { return _this._copyFile(sourceUrl, destinationUrl, digest); });\r\n    };\r\n    return Web;\r\n}());\r\nexports.default = Web;\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar searchMappers_1 = __webpack_require__(28);\r\nvar Search = (function () {\r\n    function Search(ctx) {\r\n        this._dao = ctx;\r\n    }\r\n    ;\r\n    Object.defineProperty(Search.prototype, \"defaultQueryOptions\", {\r\n        /** get default/empty QueryOptions */\r\n        get: function () {\r\n            return {\r\n                sourceid: null,\r\n                startrow: null,\r\n                rowlimit: 100,\r\n                selectedproperties: null,\r\n                refiners: null,\r\n                refinementfilters: null,\r\n                hiddencontstraints: null,\r\n                sortlist: null\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    /** Query the SP Search Service */\r\n    Search.prototype.query = function (queryText, queryOptions) {\r\n        if (queryOptions === void 0) { queryOptions = {}; }\r\n        var optionsQueryString = utils_1.default.qs.fromObj(queryOptions, true);\r\n        var url = \"/search/query?querytext='\" + queryText + \"'&\" + optionsQueryString;\r\n        return this._dao.get(url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (resp) {\r\n            if (resp.query)\r\n                return searchMappers_1.mapResponse(resp.query);\r\n            throw new Error(\"Invalid response back from search service\");\r\n        });\r\n    };\r\n    ;\r\n    /** Query for only People results */\r\n    Search.prototype.people = function (queryText, queryOptions) {\r\n        if (queryOptions === void 0) { queryOptions = {}; }\r\n        queryOptions.sourceid = 'b09a7990-05ea-4af9-81ef-edfab16c4e31';\r\n        return this.query(queryText, queryOptions);\r\n    };\r\n    ;\r\n    /** Query for only sites (STS_Web). Optionally pass in a url scope. */\r\n    Search.prototype.sites = function (queryText, urlScope, queryOptions) {\r\n        if (queryText === void 0) { queryText = \"\"; }\r\n        if (urlScope === void 0) { urlScope = \"\"; }\r\n        if (queryOptions === void 0) { queryOptions = {}; }\r\n        urlScope = urlScope ? \"Path:\" + urlScope + \"*\" : \"\";\r\n        var query = (queryText + \" contentclass:STS_Web \" + urlScope).trim();\r\n        queryOptions.rowlimit = queryOptions.rowlimit || 499;\r\n        return this.query(query, queryOptions);\r\n    };\r\n    ;\r\n    return Search;\r\n}());\r\nexports.default = Search;\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.mapResponse = function (rawResponse) {\r\n    return {\r\n        elapsedTime: rawResponse.ElapsedTime,\r\n        suggestion: rawResponse.SpellingSuggestion,\r\n        resultsCount: rawResponse.PrimaryQueryResult.RelevantResults.RowCount,\r\n        totalResults: rawResponse.PrimaryQueryResult.RelevantResults.TotalRows,\r\n        totalResultsIncludingDuplicates: rawResponse.PrimaryQueryResult.RelevantResults.TotalRowsIncludingDuplicates,\r\n        items: exports.mapItems(rawResponse.PrimaryQueryResult.RelevantResults.Table.Rows.results),\r\n        refiners: exports.mapRefiners(rawResponse.PrimaryQueryResult.RefinementResults)\r\n    };\r\n};\r\nexports.mapRefiners = function (refinementResults) {\r\n    var refiners = [];\r\n    if (refinementResults && refinementResults.Refiners && refinementResults.Refiners.results) {\r\n        refiners = refinementResults.Refiners.results.map(function (r) {\r\n            return {\r\n                RefinerName: r.Name,\r\n                RefinerOptions: r.Entries.results\r\n            };\r\n        });\r\n    }\r\n    return refiners;\r\n};\r\nexports.mapItems = function (itemRows) {\r\n    var items = [];\r\n    for (var i = 0; i < itemRows.length; i++) {\r\n        var row = itemRows[i], item = {};\r\n        for (var j = 0; j < row.Cells.results.length; j++) {\r\n            item[row.Cells.results[j].Key] = row.Cells.results[j].Value;\r\n        }\r\n        items.push(item);\r\n    }\r\n    return items;\r\n};\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar ICustomActions_1 = __webpack_require__(30);\r\nvar CustomActions = (function () {\r\n    function CustomActions(ctx) {\r\n        this._dao = ctx;\r\n    }\r\n    CustomActions.prototype.getScope = function (scopeId) {\r\n        if (scopeId === 3)\r\n            return ICustomActions_1.scopes.Web;\r\n        if (scopeId === 2)\r\n            return ICustomActions_1.scopes.Site;\r\n        throw new Error(\"Invalid Custom Action Scope\");\r\n    };\r\n    CustomActions.prototype.get = function (name) {\r\n        var _this = this;\r\n        // first get the site scoped ones, then the web scoped ones\r\n        return this._dao.get(ICustomActions_1.scopes.Site.url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (siteCustomActions) {\r\n            return _this._dao.get(ICustomActions_1.scopes.Web.url)\r\n                .then(utils_1.default.validateODataV2)\r\n                .then(function (webCustomActions) { return siteCustomActions.concat(webCustomActions); });\r\n        })\r\n            .then(function (customActions) {\r\n            // if a name was passed filter it otherwise return everything\r\n            if (name) {\r\n                var matches = customActions.filter(function (a) { return a.Name === name; });\r\n                if (matches.length) {\r\n                    return matches[0];\r\n                }\r\n                throw new Error(\"Unable to find Custom Action with name: \" + name);\r\n            }\r\n            else\r\n                return customActions;\r\n        });\r\n    };\r\n    /** Gets the API url of a specific Custom Action */\r\n    CustomActions.prototype._getUrl = function (name) {\r\n        var _this = this;\r\n        return this.get(name)\r\n            .then(function (a) { return _this.getScope(a.Scope).url + \"('\" + a.Id + \"')\"; });\r\n    };\r\n    CustomActions.prototype._getUrlAndDigest = function (name) {\r\n        var _this = this;\r\n        var prep = {};\r\n        return this._getUrl(name)\r\n            .then(function (url) {\r\n            prep.url = url;\r\n            return _this._dao.getRequestDigest();\r\n        })\r\n            .then(function (digest) {\r\n            prep.digest = digest;\r\n            return prep;\r\n        });\r\n    };\r\n    /** Update an existing Custom Action. You must pass a custom action with a 'Name' property */\r\n    CustomActions.prototype.update = function (updates) {\r\n        var _this = this;\r\n        if (!updates || !updates.Name)\r\n            throw new Error(\"You must at least pass a Custom Action 'Name'\");\r\n        return this._getUrlAndDigest(updates.Name)\r\n            .then(function (prep) {\r\n            updates = Object.assign({}, ICustomActions_1.metadata, updates);\r\n            var opts = {\r\n                headers: utils_1.default.headers.getUpdateHeaders(prep.digest)\r\n            };\r\n            return _this._dao.post(prep.url, updates, opts);\r\n        });\r\n    };\r\n    /** Remove an existing Custom Action. Searches both Site and Web scoped */\r\n    CustomActions.prototype.remove = function (name) {\r\n        var _this = this;\r\n        if (!name)\r\n            throw new Error(\"You must at least pass an existing Custom Action name\");\r\n        return this._getUrlAndDigest(name)\r\n            .then(function (prep) {\r\n            var opts = {\r\n                headers: utils_1.default.headers.getDeleteHeaders(prep.digest)\r\n            };\r\n            return _this._dao.post(prep.url, {}, opts);\r\n        });\r\n    };\r\n    /** Adds a new custom action. If the custom action name already exists, it will be deleted first */\r\n    CustomActions.prototype.add = function (customAction) {\r\n        var _this = this;\r\n        if (!customAction || !customAction.Name)\r\n            throw new Error(\"You must at least pass a Custom Action 'Name'\");\r\n        var defaults = {\r\n            Name: customAction.Name,\r\n            Title: customAction.Name,\r\n            Description: customAction.Name,\r\n            Group: customAction.Name,\r\n            Sequence: 100,\r\n            Scope: \"Site\",\r\n            Location: \"ScriptLink\",\r\n        };\r\n        customAction = Object.assign({}, defaults, customAction);\r\n        // if it exists already, delete it\r\n        return this.get()\r\n            .then(function (existingCustomActions) {\r\n            if (existingCustomActions.filter(function (ca) { return ca.Name === customAction.Name; }).length) {\r\n                return _this.remove(customAction.Name);\r\n            }\r\n            return true;\r\n        })\r\n            .then(function () { return _this._dao.getRequestDigest(); })\r\n            .then(function (digest) {\r\n            customAction = Object.assign({}, ICustomActions_1.metadata, customAction);\r\n            var scope = ICustomActions_1.scopes[customAction.Scope];\r\n            customAction.Scope = scope.id;\r\n            var opts = {\r\n                headers: utils_1.default.headers.getAddHeaders(digest)\r\n            };\r\n            return _this._dao.post(scope.url, customAction, opts);\r\n        });\r\n    };\r\n    CustomActions.prototype.addScriptBlock = function (name, block, opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        var customAction = {\r\n            Name: name,\r\n            ScriptBlock: block\r\n        };\r\n        customAction = Object.assign({}, customAction, opts);\r\n        return this.add(customAction);\r\n    };\r\n    /** Injects a CSS file onto your site. Defaults to Site scoped */\r\n    CustomActions.prototype.addCSSLink = function (name, url, opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        var scriptBlockStr = \"\\n\\t\\t(function() {\\n\\t\\t\\tvar head = document.querySelector(\\\"head\\\");\\n\\t\\t\\tvar styleTag = document.createElement(\\\"style\\\");\\n\\t\\t\\tstyleTag.appendChild(document.createTextNode(\\\"body { opacity: 0 }\\\"));\\n\\t\\t\\t\\n\\t\\t\\tvar linkTag = document.createElement(\\\"link\\\");\\n\\t\\t\\tlinkTag.rel = \\\"stylesheet\\\";\\tlinkTag.href = \\\"\" + url + \"\\\"; linkTag.type = \\\"text/css\\\";\\n\\t\\t\\tlinkTag.addEventListener(\\\"load\\\", function() {\\n\\t\\t\\t\\thead.removeChild(styleTag);\\n\\t\\t\\t});\\n\\n\\t\\t\\thead.appendChild(styleTag);\\n\\t\\t\\thead.appendChild(linkTag);\\n\\t\\t})();\";\r\n        return this.addScriptBlock(name, scriptBlockStr, opts);\r\n    };\r\n    CustomActions.prototype.addScriptLink = function (name, url, opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        var scriptBlockStr = \"\\n\\t\\t(function() {\\n\\t\\t\\tvar head = document.querySelector(\\\"head\\\");\\n\\t\\t\\tvar scriptTag = document.createElement(\\\"script\\\");\\n            scriptTag.src = \\\"\" + url + \"\\\";\\n            scriptTag.type = \\\"text/javascript\\\";\\n\\t\\t\\thead.appendChild(scriptTag);\\n\\t\\t})();\";\r\n        return this.addScriptBlock(name, scriptBlockStr, opts);\r\n    };\r\n    return CustomActions;\r\n}());\r\nexports.default = CustomActions;\r\n;\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.metadata = {\r\n    __metadata: {\r\n        \"type\": \"SP.UserCustomAction\"\r\n    }\r\n};\r\nexports.scopes = {\r\n    \"Web\": {\r\n        id: 3,\r\n        name: \"Web\",\r\n        url: \"/web/usercustomactions\"\r\n    },\r\n    \"Site\": {\r\n        id: 2,\r\n        name: \"Site\",\r\n        url: \"/site/usercustomactions\"\r\n    }\r\n};\r\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar Profiles = (function () {\r\n    function Profiles(ctx) {\r\n        this._dao = ctx;\r\n        this.baseUrl = \"/SP.UserProfiles.PeopleManager\";\r\n    }\r\n    /** Gets the profile of the current user.  */\r\n    Profiles.prototype.current = function () {\r\n        var url = this.baseUrl + \"/GetMyProperties\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2).then(transformPersonProperties);\r\n    };\r\n    Profiles.prototype.get = function (user) {\r\n        var _this = this;\r\n        if (!user)\r\n            return this.current();\r\n        return this.getUserObj(user).then(function (user) {\r\n            var login = encodeURIComponent(user.LoginName || user.AccountName);\r\n            var url = _this.baseUrl + \"/GetPropertiesFor(accountName=@v)?@v='\" + login + \"'\";\r\n            return _this._dao.get(url).then(utils_1.default.validateODataV2).then(transformPersonProperties);\r\n        });\r\n    };\r\n    Profiles.prototype.getUserObj = function (user) {\r\n        if (!user || typeof user === \"string\") {\r\n            return this._dao.web.getUser(user);\r\n        }\r\n        else if (user.AccountName || user.LoginName) {\r\n            return Promise.resolve(user);\r\n        }\r\n        else\r\n            throw new Error(\"profiles.setProperty Error: Invalid user parameter\");\r\n    };\r\n    Profiles.prototype.setProperty = function (key, value, user) {\r\n        var _this = this;\r\n        return this.getUserObj(user).then(function (user) {\r\n            var args = {\r\n                propertyName: key,\r\n                propertyValue: value,\r\n                accountName: user.LoginName || user.AccountName\r\n            };\r\n            var url = _this.baseUrl + \"/SetSingleValueProfileProperty\";\r\n            return _this._dao.authorizedPost(url, args);\r\n        });\r\n    };\r\n    return Profiles;\r\n}());\r\nexports.default = Profiles;\r\nvar transformPersonProperties = function (profile) {\r\n    profile.UserProfileProperties.results.forEach(function (keyvalue) {\r\n        profile[keyvalue.Key] = keyvalue.Value;\r\n    });\r\n    return profile;\r\n};\r\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar url_1 = __webpack_require__(33);\r\nvar querystring = __webpack_require__(5);\r\nvar request_1 = __webpack_require__(8);\r\nexports.getAppOnlyToken = function (url, clientId, clientSecret) {\r\n    var urlParts = url_1.parse(url);\r\n    return getRealm(url).then(function (authParams) {\r\n        var tokenUrl = \"https://accounts.accesscontrol.windows.net/\" + authParams.realm + \"/tokens/OAuth/2\";\r\n        var client_id = clientId + \"@\" + authParams.realm;\r\n        var resource = authParams.client_id + \"/\" + urlParts.host + \"@\" + authParams.realm;\r\n        var postBody = {\r\n            grant_type: \"client_credentials\",\r\n            client_id: client_id,\r\n            client_secret: clientSecret,\r\n            resource: resource,\r\n            scope: resource\r\n        };\r\n        var bodyStr = querystring.stringify(postBody);\r\n        var opts = {\r\n            method: \"POST\",\r\n            body: bodyStr,\r\n            headers: {\r\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                \"Content-Length\": bodyStr.length\r\n            }\r\n        };\r\n        return request_1.default(tokenUrl, opts).then(function (data) {\r\n            return data.access_token;\r\n        });\r\n    });\r\n};\r\nvar getRealm = function (url) {\r\n    var endpointUrl = url + \"/_api/web\";\r\n    var opts = {\r\n        method: \"GET\",\r\n        headers: {\r\n            Authorization: \"Bearer \",\r\n            Accept: \"application/json;odata=verbose\",\r\n            response_type: \"code\"\r\n        }\r\n    };\r\n    return new Promise(function (resolve, reject) {\r\n        fetch(endpointUrl, opts).then(function (res) {\r\n            if (!res.ok) {\r\n                console.log(JSON.stringify(res.headers, null, \"  \"));\r\n                var realm = parseRealm(getWWWAuthenticate(res.headers));\r\n                resolve(realm);\r\n            }\r\n            //this should fail\r\n            reject(\"Get Realm succeeded somehow?!\");\r\n        });\r\n    });\r\n};\r\nvar getWWWAuthenticate = function (headers) {\r\n    var key = \"www-authenticate\";\r\n    if (typeof headers[key] === \"string\")\r\n        return headers[key];\r\n    if (headers._headers && Array.isArray(headers._headers[key])) {\r\n        return headers._headers[key][0];\r\n    }\r\n    if (headers.map && Array.isArray(headers.map[key])) {\r\n        return headers.map[key][0];\r\n    }\r\n};\r\nvar parseRealm = function (raw) {\r\n    console.log(raw);\r\n    var bearer = \"Bearer realm=\";\r\n    if (raw && raw.startsWith(\"Bearer\")) {\r\n        raw = raw.substr(7);\r\n        var params = raw.split(\",\").filter(function (p) { return p.indexOf(\"=\") > -1; }).reduce(function (params, piece) {\r\n            var parts = piece.split(\"=\");\r\n            if (parts.length === 2) {\r\n                params[parts[0].trim()] = parts[1].trim().replace(/\\\"/g, \"\");\r\n            }\r\n            return params;\r\n        }, {});\r\n        return params;\r\n    }\r\n    return null;\r\n};\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar punycode = __webpack_require__(34);\nvar util = __webpack_require__(35);\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = __webpack_require__(5);\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttrue\n\t) {\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\treturn punycode;\n\t\t}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6)(module), __webpack_require__(4)))\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(0);\r\nvar registerField = function (field, renderer, opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    if (!utils_1.default.validateNamespace(\"SPClientTemplates.TemplateManager\")) {\r\n        throw new Error(\"Unable to register CSR template.  SPClientTemplates.TemplateManager does not exist\");\r\n    }\r\n    var renderers = {};\r\n    //View, DisplayForm, EditForm, NewForm\r\n    field.locations.forEach(function (l) { return renderers[l] = renderer; });\r\n    var defaults = {\r\n        Templates: {\r\n            Fields: {}\r\n        }\r\n    };\r\n    var templateOverride = Object.assign({}, defaults, opts);\r\n    templateOverride.Templates.Fields[field.name] = renderers;\r\n    SPClientTemplates.TemplateManager.RegisterTemplateOverrides(templateOverride);\r\n    return field;\r\n};\r\nvar registerDisplayField = function (fieldComponent, opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    var renderer = createDisplayFieldRenderer(fieldComponent);\r\n    fieldComponent.locations = fieldComponent.locations || [\"View\", \"DisplayForm\"];\r\n    return registerField(fieldComponent, renderer, opts);\r\n};\r\nvar registerFormField = function (fieldComponent, opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    var renderer = createFormFieldRenderer(fieldComponent);\r\n    fieldComponent.locations = fieldComponent.locations || [\"NewForm\", \"EditForm\"];\r\n    return registerField(fieldComponent, renderer, opts);\r\n};\r\nfunction createFormFieldRenderer(field) {\r\n    return function (ctx) {\r\n        var formCtx = ctx.FormContext;\r\n        // need to clone ctx, it is getting overwritten so we lost CurrentItem\r\n        var clonedCtx = Object.assign({}, ctx);\r\n        if (field.onReady) {\r\n            if (formCtx) {\r\n                formCtx.registerInitCallback(field.name, field.onReady.bind(null, clonedCtx));\r\n            }\r\n            else {\r\n                setTimeout(field.onReady.bind(null, clonedCtx), 100);\r\n            }\r\n        }\r\n        if (field.getValue && formCtx) {\r\n            formCtx.registerGetValueCallback(field.name, field.getValue.bind(null, clonedCtx));\r\n        }\r\n        // tack on 'setValue' function\r\n        if (formCtx && formCtx.updateControlValue) {\r\n            field.setValue = function (value) {\r\n                formCtx.updateControlValue(field.name, value);\r\n            };\r\n        }\r\n        return field.render(ctx);\r\n    };\r\n}\r\nfunction createDisplayFieldRenderer(field) {\r\n    return function (ctx) {\r\n        var formCtx = ctx.FormContext;\r\n        if (formCtx && formCtx.registerInitCallback && field.onReady) {\r\n            formCtx.registerInitCallback(field.name, field.onReady);\r\n        }\r\n        return field.render(ctx);\r\n    };\r\n}\r\nvar CSR = {\r\n    registerDisplayField: registerDisplayField,\r\n    registerFormField: registerFormField\r\n};\r\nexports.default = CSR;\r\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=spscript.js.map\n\n\n// WEBPACK FOOTER //\n// ./dist/v3/spscript.js","exports.run = function(SPScript, ctx) {\r\n\tvar isServer = !!ctx;\r\n\tvar should = require(\"chai\").should();\r\n\r\n\tdescribe(\"SPScript Global Namespace\", function() {\r\n\t\tit(\"Should have a 'SPScript.createContext()' method\", function() {\r\n\t\t\tSPScript.should.have.property(\"createContext\");\r\n\t\t\tSPScript.createContext.should.be.a(\"function\");\r\n\t\t});\r\n\t\tit(\"Should have a 'SPScript.utils' namespace\", function() {\r\n\t\t\tSPScript.should.not.be.null;\r\n\t\t\tSPScript.should.have.property(\"utils\");\r\n\t\t});\r\n\t});\r\n\r\n\tif (!isServer) {\r\n\t\trequire(\"./contextTests\").run(SPScript);\r\n\t\tctx = SPScript.createContext();\r\n\t}\r\n\r\n\trequire(\"./webTests\").run(ctx);\r\n\trequire(\"./listTests\").run(ctx);\r\n\trequire(\"./customActionTests\").run(ctx);\r\n\tif (!isServer) {\r\n\t\trequire(\"./searchTests\").run(ctx);\r\n\t\trequire(\"./profileTests\").run(ctx);\r\n\t}\r\n\trequire(\"./utilsTests\").run(SPScript.utils);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/index.js","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar used = []\n  , exports = module.exports = {};\n\n/*!\n * Chai version\n */\n\nexports.version = '1.10.0';\n\n/*!\n * Assertion Error\n */\n\nexports.AssertionError = require('assertion-error');\n\n/*!\n * Utils for plugins (not exported)\n */\n\nvar util = require('./chai/utils');\n\n/**\n * # .use(function)\n *\n * Provides a way to extend the internals of Chai\n *\n * @param {Function}\n * @returns {this} for chaining\n * @api public\n */\n\nexports.use = function (fn) {\n  if (!~used.indexOf(fn)) {\n    fn(this, util);\n    used.push(fn);\n  }\n\n  return this;\n};\n\n/*!\n * Configuration\n */\n\nvar config = require('./chai/config');\nexports.config = config;\n\n/*!\n * Primary `Assertion` prototype\n */\n\nvar assertion = require('./chai/assertion');\nexports.use(assertion);\n\n/*!\n * Core Assertions\n */\n\nvar core = require('./chai/core/assertions');\nexports.use(core);\n\n/*!\n * Expect interface\n */\n\nvar expect = require('./chai/interface/expect');\nexports.use(expect);\n\n/*!\n * Should interface\n */\n\nvar should = require('./chai/interface/should');\nexports.use(should);\n\n/*!\n * Assert interface\n */\n\nvar assert = require('./chai/interface/assert');\nexports.use(assert);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai.js\n// module id = 40\n// module chunks = 0","/*!\n * assertion-error\n * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>\n * MIT Licensed\n */\n\n/*!\n * Return a function that will copy properties from\n * one object to another excluding any originally\n * listed. Returned function will create a new `{}`.\n *\n * @param {String} excluded properties ...\n * @return {Function}\n */\n\nfunction exclude () {\n  var excludes = [].slice.call(arguments);\n\n  function excludeProps (res, obj) {\n    Object.keys(obj).forEach(function (key) {\n      if (!~excludes.indexOf(key)) res[key] = obj[key];\n    });\n  }\n\n  return function extendExclude () {\n    var args = [].slice.call(arguments)\n      , i = 0\n      , res = {};\n\n    for (; i < args.length; i++) {\n      excludeProps(res, args[i]);\n    }\n\n    return res;\n  };\n};\n\n/*!\n * Primary Exports\n */\n\nmodule.exports = AssertionError;\n\n/**\n * ### AssertionError\n *\n * An extension of the JavaScript `Error` constructor for\n * assertion and validation scenarios.\n *\n * @param {String} message\n * @param {Object} properties to include (optional)\n * @param {callee} start stack function (optional)\n */\n\nfunction AssertionError (message, _props, ssf) {\n  var extend = exclude('name', 'message', 'stack', 'constructor', 'toJSON')\n    , props = extend(_props || {});\n\n  // default values\n  this.message = message || 'Unspecified AssertionError';\n  this.showDiff = false;\n\n  // copy from properties\n  for (var key in props) {\n    this[key] = props[key];\n  }\n\n  // capture stack trace\n  ssf = ssf || arguments.callee;\n  if (ssf && Error.captureStackTrace) {\n    Error.captureStackTrace(this, ssf);\n  }\n}\n\n/*!\n * Inherit from Error.prototype\n */\n\nAssertionError.prototype = Object.create(Error.prototype);\n\n/*!\n * Statically set name\n */\n\nAssertionError.prototype.name = 'AssertionError';\n\n/*!\n * Ensure correct constructor\n */\n\nAssertionError.prototype.constructor = AssertionError;\n\n/**\n * Allow errors to be converted to JSON for static transfer.\n *\n * @param {Boolean} include stack (default: `true`)\n * @return {Object} object that can be `JSON.stringify`\n */\n\nAssertionError.prototype.toJSON = function (stack) {\n  var extend = exclude('constructor', 'toJSON', 'stack')\n    , props = extend({ name: this.name }, this);\n\n  // include stack if exists and not turned off\n  if (false !== stack && this.stack) {\n    props.stack = this.stack;\n  }\n\n  return props;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assertion-error/index.js\n// module id = 41\n// module chunks = 0","/*!\n * chai\n * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Main exports\n */\n\nvar exports = module.exports = {};\n\n/*!\n * test utility\n */\n\nexports.test = require('./test');\n\n/*!\n * type utility\n */\n\nexports.type = require('./type');\n\n/*!\n * message utility\n */\n\nexports.getMessage = require('./getMessage');\n\n/*!\n * actual utility\n */\n\nexports.getActual = require('./getActual');\n\n/*!\n * Inspect util\n */\n\nexports.inspect = require('./inspect');\n\n/*!\n * Object Display util\n */\n\nexports.objDisplay = require('./objDisplay');\n\n/*!\n * Flag utility\n */\n\nexports.flag = require('./flag');\n\n/*!\n * Flag transferring utility\n */\n\nexports.transferFlags = require('./transferFlags');\n\n/*!\n * Deep equal utility\n */\n\nexports.eql = require('deep-eql');\n\n/*!\n * Deep path value\n */\n\nexports.getPathValue = require('./getPathValue');\n\n/*!\n * Function name\n */\n\nexports.getName = require('./getName');\n\n/*!\n * add Property\n */\n\nexports.addProperty = require('./addProperty');\n\n/*!\n * add Method\n */\n\nexports.addMethod = require('./addMethod');\n\n/*!\n * overwrite Property\n */\n\nexports.overwriteProperty = require('./overwriteProperty');\n\n/*!\n * overwrite Method\n */\n\nexports.overwriteMethod = require('./overwriteMethod');\n\n/*!\n * Add a chainable method\n */\n\nexports.addChainableMethod = require('./addChainableMethod');\n\n/*!\n * Overwrite chainable method\n */\n\nexports.overwriteChainableMethod = require('./overwriteChainableMethod');\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/index.js\n// module id = 42\n// module chunks = 0","/*!\n * Chai - test utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependancies\n */\n\nvar flag = require('./flag');\n\n/**\n * # test(object, expression)\n *\n * Test and object for expression.\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n */\n\nmodule.exports = function (obj, args) {\n  var negate = flag(obj, 'negate')\n    , expr = args[0];\n  return negate ? !expr : expr;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/test.js\n// module id = 43\n// module chunks = 0","/*!\n * Chai - type utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Detectable javascript natives\n */\n\nvar natives = {\n    '[object Arguments]': 'arguments'\n  , '[object Array]': 'array'\n  , '[object Date]': 'date'\n  , '[object Function]': 'function'\n  , '[object Number]': 'number'\n  , '[object RegExp]': 'regexp'\n  , '[object String]': 'string'\n};\n\n/**\n * ### type(object)\n *\n * Better implementation of `typeof` detection that can\n * be used cross-browser. Handles the inconsistencies of\n * Array, `null`, and `undefined` detection.\n *\n *     utils.type({}) // 'object'\n *     utils.type(null) // `null'\n *     utils.type(undefined) // `undefined`\n *     utils.type([]) // `array`\n *\n * @param {Mixed} object to detect type of\n * @name type\n * @api private\n */\n\nmodule.exports = function (obj) {\n  var str = Object.prototype.toString.call(obj);\n  if (natives[str]) return natives[str];\n  if (obj === null) return 'null';\n  if (obj === undefined) return 'undefined';\n  if (obj === Object(obj)) return 'object';\n  return typeof obj;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/type.js\n// module id = 44\n// module chunks = 0","/*!\n * Chai - message composition utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependancies\n */\n\nvar flag = require('./flag')\n  , getActual = require('./getActual')\n  , inspect = require('./inspect')\n  , objDisplay = require('./objDisplay');\n\n/**\n * ### .getMessage(object, message, negateMessage)\n *\n * Construct the error message based on flags\n * and template tags. Template tags will return\n * a stringified inspection of the object referenced.\n *\n * Message template tags:\n * - `#{this}` current asserted object\n * - `#{act}` actual value\n * - `#{exp}` expected value\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @name getMessage\n * @api public\n */\n\nmodule.exports = function (obj, args) {\n  var negate = flag(obj, 'negate')\n    , val = flag(obj, 'object')\n    , expected = args[3]\n    , actual = getActual(obj, args)\n    , msg = negate ? args[2] : args[1]\n    , flagMsg = flag(obj, 'message');\n\n  if(typeof msg === \"function\") msg = msg();\n  msg = msg || '';\n  msg = msg\n    .replace(/#{this}/g, objDisplay(val))\n    .replace(/#{act}/g, objDisplay(actual))\n    .replace(/#{exp}/g, objDisplay(expected));\n\n  return flagMsg ? flagMsg + ': ' + msg : msg;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getMessage.js\n// module id = 45\n// module chunks = 0","/*!\n * Chai - getProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getProperties(object)\n *\n * This allows the retrieval of property names of an object, enumerable or not,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @name getProperties\n * @api public\n */\n\nmodule.exports = function getProperties(object) {\n  var result = Object.getOwnPropertyNames(subject);\n\n  function addProperty(property) {\n    if (result.indexOf(property) === -1) {\n      result.push(property);\n    }\n  }\n\n  var proto = Object.getPrototypeOf(subject);\n  while (proto !== null) {\n    Object.getOwnPropertyNames(proto).forEach(addProperty);\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getProperties.js\n// module id = 46\n// module chunks = 0","/*!\n * Chai - getEnumerableProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getEnumerableProperties(object)\n *\n * This allows the retrieval of enumerable property names of an object,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @name getEnumerableProperties\n * @api public\n */\n\nmodule.exports = function getEnumerableProperties(object) {\n  var result = [];\n  for (var name in object) {\n    result.push(name);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getEnumerableProperties.js\n// module id = 47\n// module chunks = 0","module.exports = require('./lib/eql');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/deep-eql/index.js\n// module id = 48\n// module chunks = 0","/*!\n * deep-eql\n * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar type = require('type-detect');\n\n/*!\n * Buffer.isBuffer browser shim\n */\n\nvar Buffer;\ntry { Buffer = require('buffer').Buffer; }\ncatch(ex) {\n  Buffer = {};\n  Buffer.isBuffer = function() { return false; }\n}\n\n/*!\n * Primary Export\n */\n\nmodule.exports = deepEqual;\n\n/**\n * Assert super-strict (egal) equality between\n * two objects of any type.\n *\n * @param {Mixed} a\n * @param {Mixed} b\n * @param {Array} memoised (optional)\n * @return {Boolean} equal match\n */\n\nfunction deepEqual(a, b, m) {\n  if (sameValue(a, b)) {\n    return true;\n  } else if ('date' === type(a)) {\n    return dateEqual(a, b);\n  } else if ('regexp' === type(a)) {\n    return regexpEqual(a, b);\n  } else if (Buffer.isBuffer(a)) {\n    return bufferEqual(a, b);\n  } else if ('arguments' === type(a)) {\n    return argumentsEqual(a, b, m);\n  } else if (!typeEqual(a, b)) {\n    return false;\n  } else if (('object' !== type(a) && 'object' !== type(b))\n  && ('array' !== type(a) && 'array' !== type(b))) {\n    return sameValue(a, b);\n  } else {\n    return objectEqual(a, b, m);\n  }\n}\n\n/*!\n * Strict (egal) equality test. Ensures that NaN always\n * equals NaN and `-0` does not equal `+0`.\n *\n * @param {Mixed} a\n * @param {Mixed} b\n * @return {Boolean} equal match\n */\n\nfunction sameValue(a, b) {\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  return a !== a && b !== b;\n}\n\n/*!\n * Compare the types of two given objects and\n * return if they are equal. Note that an Array\n * has a type of `array` (not `object`) and arguments\n * have a type of `arguments` (not `array`/`object`).\n *\n * @param {Mixed} a\n * @param {Mixed} b\n * @return {Boolean} result\n */\n\nfunction typeEqual(a, b) {\n  return type(a) === type(b);\n}\n\n/*!\n * Compare two Date objects by asserting that\n * the time values are equal using `saveValue`.\n *\n * @param {Date} a\n * @param {Date} b\n * @return {Boolean} result\n */\n\nfunction dateEqual(a, b) {\n  if ('date' !== type(b)) return false;\n  return sameValue(a.getTime(), b.getTime());\n}\n\n/*!\n * Compare two regular expressions by converting them\n * to string and checking for `sameValue`.\n *\n * @param {RegExp} a\n * @param {RegExp} b\n * @return {Boolean} result\n */\n\nfunction regexpEqual(a, b) {\n  if ('regexp' !== type(b)) return false;\n  return sameValue(a.toString(), b.toString());\n}\n\n/*!\n * Assert deep equality of two `arguments` objects.\n * Unfortunately, these must be sliced to arrays\n * prior to test to ensure no bad behavior.\n *\n * @param {Arguments} a\n * @param {Arguments} b\n * @param {Array} memoize (optional)\n * @return {Boolean} result\n */\n\nfunction argumentsEqual(a, b, m) {\n  if ('arguments' !== type(b)) return false;\n  a = [].slice.call(a);\n  b = [].slice.call(b);\n  return deepEqual(a, b, m);\n}\n\n/*!\n * Get enumerable properties of a given object.\n *\n * @param {Object} a\n * @return {Array} property names\n */\n\nfunction enumerable(a) {\n  var res = [];\n  for (var key in a) res.push(key);\n  return res;\n}\n\n/*!\n * Simple equality for flat iterable objects\n * such as Arrays or Node.js buffers.\n *\n * @param {Iterable} a\n * @param {Iterable} b\n * @return {Boolean} result\n */\n\nfunction iterableEqual(a, b) {\n  if (a.length !==  b.length) return false;\n\n  var i = 0;\n  var match = true;\n\n  for (; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      match = false;\n      break;\n    }\n  }\n\n  return match;\n}\n\n/*!\n * Extension to `iterableEqual` specifically\n * for Node.js Buffers.\n *\n * @param {Buffer} a\n * @param {Mixed} b\n * @return {Boolean} result\n */\n\nfunction bufferEqual(a, b) {\n  if (!Buffer.isBuffer(b)) return false;\n  return iterableEqual(a, b);\n}\n\n/*!\n * Block for `objectEqual` ensuring non-existing\n * values don't get in.\n *\n * @param {Mixed} object\n * @return {Boolean} result\n */\n\nfunction isValue(a) {\n  return a !== null && a !== undefined;\n}\n\n/*!\n * Recursively check the equality of two objects.\n * Once basic sameness has been established it will\n * defer to `deepEqual` for each enumerable key\n * in the object.\n *\n * @param {Mixed} a\n * @param {Mixed} b\n * @return {Boolean} result\n */\n\nfunction objectEqual(a, b, m) {\n  if (!isValue(a) || !isValue(b)) {\n    return false;\n  }\n\n  if (a.prototype !== b.prototype) {\n    return false;\n  }\n\n  var i;\n  if (m) {\n    for (i = 0; i < m.length; i++) {\n      if ((m[i][0] === a && m[i][1] === b)\n      ||  (m[i][0] === b && m[i][1] === a)) {\n        return true;\n      }\n    }\n  } else {\n    m = [];\n  }\n\n  try {\n    var ka = enumerable(a);\n    var kb = enumerable(b);\n  } catch (ex) {\n    return false;\n  }\n\n  ka.sort();\n  kb.sort();\n\n  if (!iterableEqual(ka, kb)) {\n    return false;\n  }\n\n  m.push([ a, b ]);\n\n  var key;\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], m)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/deep-eql/lib/eql.js\n// module id = 49\n// module chunks = 0","module.exports = require('./lib/type');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/type-detect/index.js\n// module id = 50\n// module chunks = 0","/*!\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Primary Exports\n */\n\nvar exports = module.exports = getType;\n\n/*!\n * Detectable javascript natives\n */\n\nvar natives = {\n    '[object Array]': 'array'\n  , '[object RegExp]': 'regexp'\n  , '[object Function]': 'function'\n  , '[object Arguments]': 'arguments'\n  , '[object Date]': 'date'\n};\n\n/**\n * ### typeOf (obj)\n *\n * Use several different techniques to determine\n * the type of object being tested.\n *\n *\n * @param {Mixed} object\n * @return {String} object type\n * @api public\n */\n\nfunction getType (obj) {\n  var str = Object.prototype.toString.call(obj);\n  if (natives[str]) return natives[str];\n  if (obj === null) return 'null';\n  if (obj === undefined) return 'undefined';\n  if (obj === Object(obj)) return 'object';\n  return typeof obj;\n}\n\nexports.Library = Library;\n\n/**\n * ### Library\n *\n * Create a repository for custom type detection.\n *\n * ```js\n * var lib = new type.Library;\n * ```\n *\n */\n\nfunction Library () {\n  this.tests = {};\n}\n\n/**\n * #### .of (obj)\n *\n * Expose replacement `typeof` detection to the library.\n *\n * ```js\n * if ('string' === lib.of('hello world')) {\n *   // ...\n * }\n * ```\n *\n * @param {Mixed} object to test\n * @return {String} type\n */\n\nLibrary.prototype.of = getType;\n\n/**\n * #### .define (type, test)\n *\n * Add a test to for the `.test()` assertion.\n *\n * Can be defined as a regular expression:\n *\n * ```js\n * lib.define('int', /^[0-9]+$/);\n * ```\n *\n * ... or as a function:\n *\n * ```js\n * lib.define('bln', function (obj) {\n *   if ('boolean' === lib.of(obj)) return true;\n *   var blns = [ 'yes', 'no', 'true', 'false', 1, 0 ];\n *   if ('string' === lib.of(obj)) obj = obj.toLowerCase();\n *   return !! ~blns.indexOf(obj);\n * });\n * ```\n *\n * @param {String} type\n * @param {RegExp|Function} test\n * @api public\n */\n\nLibrary.prototype.define = function (type, test) {\n  if (arguments.length === 1) return this.tests[type];\n  this.tests[type] = test;\n  return this;\n};\n\n/**\n * #### .test (obj, test)\n *\n * Assert that an object is of type. Will first\n * check natives, and if that does not pass it will\n * use the user defined custom tests.\n *\n * ```js\n * assert(lib.test('1', 'int'));\n * assert(lib.test('yes', 'bln'));\n * ```\n *\n * @param {Mixed} object\n * @param {String} type\n * @return {Boolean} result\n * @api public\n */\n\nLibrary.prototype.test = function (obj, type) {\n  if (type === getType(obj)) return true;\n  var test = this.tests[type];\n\n  if (test && 'regexp' === getType(test)) {\n    return test.test(obj);\n  } else if (test && 'function' === getType(test)) {\n    return test(obj);\n  } else {\n    throw new ReferenceError('Type test \"' + type + '\" not defined or invalid.');\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/type-detect/lib/type.js\n// module id = 51\n// module chunks = 0","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/buffer/index.js\n// module id = 52\n// module chunks = 0","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/base64-js/index.js\n// module id = 53\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ieee754/index.js\n// module id = 54\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isarray/index.js\n// module id = 55\n// module chunks = 0","/*!\n * Chai - getPathValue utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * @see https://github.com/logicalparadox/filtr\n * MIT Licensed\n */\n\n/**\n * ### .getPathValue(path, object)\n *\n * This allows the retrieval of values in an\n * object given a string path.\n *\n *     var obj = {\n *         prop1: {\n *             arr: ['a', 'b', 'c']\n *           , str: 'Hello'\n *         }\n *       , prop2: {\n *             arr: [ { nested: 'Universe' } ]\n *           , str: 'Hello again!'\n *         }\n *     }\n *\n * The following would be the results.\n *\n *     getPathValue('prop1.str', obj); // Hello\n *     getPathValue('prop1.att[2]', obj); // b\n *     getPathValue('prop2.arr[0].nested', obj); // Universe\n *\n * @param {String} path\n * @param {Object} object\n * @returns {Object} value or `undefined`\n * @name getPathValue\n * @api public\n */\n\nvar getPathValue = module.exports = function (path, obj) {\n  var parsed = parsePath(path);\n  return _getPathValue(parsed, obj);\n};\n\n/*!\n * ## parsePath(path)\n *\n * Helper function used to parse string object\n * paths. Use in conjunction with `_getPathValue`.\n *\n *      var parsed = parsePath('myobject.property.subprop');\n *\n * ### Paths:\n *\n * * Can be as near infinitely deep and nested\n * * Arrays are also valid using the formal `myobject.document[3].property`.\n *\n * @param {String} path\n * @returns {Object} parsed\n * @api private\n */\n\nfunction parsePath (path) {\n  var str = path.replace(/\\[/g, '.[')\n    , parts = str.match(/(\\\\\\.|[^.]+?)+/g);\n  return parts.map(function (value) {\n    var re = /\\[(\\d+)\\]$/\n      , mArr = re.exec(value)\n    if (mArr) return { i: parseFloat(mArr[1]) };\n    else return { p: value };\n  });\n};\n\n/*!\n * ## _getPathValue(parsed, obj)\n *\n * Helper companion function for `.parsePath` that returns\n * the value located at the parsed address.\n *\n *      var value = getPathValue(parsed, obj);\n *\n * @param {Object} parsed definition from `parsePath`.\n * @param {Object} object to search against\n * @returns {Object|Undefined} value\n * @api private\n */\n\nfunction _getPathValue (parsed, obj) {\n  var tmp = obj\n    , res;\n  for (var i = 0, l = parsed.length; i < l; i++) {\n    var part = parsed[i];\n    if (tmp) {\n      if ('undefined' !== typeof part.p)\n        tmp = tmp[part.p];\n      else if ('undefined' !== typeof part.i)\n        tmp = tmp[part.i];\n      if (i == (l - 1)) res = tmp;\n    } else {\n      res = undefined;\n    }\n  }\n  return res;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/getPathValue.js\n// module id = 56\n// module chunks = 0","/*!\n * Chai - addProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### addProperty (ctx, name, getter)\n *\n * Adds a property to the prototype of an object.\n *\n *     utils.addProperty(chai.Assertion.prototype, 'foo', function () {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.instanceof(Foo);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.foo;\n *\n * @param {Object} ctx object to which the property is added\n * @param {String} name of property to add\n * @param {Function} getter function to be used for name\n * @name addProperty\n * @api public\n */\n\nmodule.exports = function (ctx, name, getter) {\n  Object.defineProperty(ctx, name,\n    { get: function () {\n        var result = getter.call(this);\n        return result === undefined ? this : result;\n      }\n    , configurable: true\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/addProperty.js\n// module id = 57\n// module chunks = 0","/*!\n * Chai - addMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar config = require('../config');\n\n/**\n * ### .addMethod (ctx, name, method)\n *\n * Adds a method to the prototype of an object.\n *\n *     utils.addMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(fooStr).to.be.foo('bar');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for name\n * @name addMethod\n * @api public\n */\nvar flag = require('./flag');\n\nmodule.exports = function (ctx, name, method) {\n  ctx[name] = function () {\n    var old_ssfi = flag(this, 'ssfi');\n    if (old_ssfi && config.includeStack === false)\n      flag(this, 'ssfi', ctx[name]);\n    var result = method.apply(this, arguments);\n    return result === undefined ? this : result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/addMethod.js\n// module id = 58\n// module chunks = 0","/*!\n * Chai - overwriteProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### overwriteProperty (ctx, name, fn)\n *\n * Overwites an already existing property getter and provides\n * access to previous value. Must return function to use as getter.\n *\n *     utils.overwriteProperty(chai.Assertion.prototype, 'ok', function (_super) {\n *       return function () {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.name).to.equal('bar');\n *         } else {\n *           _super.call(this);\n *         }\n *       }\n *     });\n *\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.ok;\n *\n * @param {Object} ctx object whose property is to be overwritten\n * @param {String} name of property to overwrite\n * @param {Function} getter function that returns a getter function to be used for name\n * @name overwriteProperty\n * @api public\n */\n\nmodule.exports = function (ctx, name, getter) {\n  var _get = Object.getOwnPropertyDescriptor(ctx, name)\n    , _super = function () {};\n\n  if (_get && 'function' === typeof _get.get)\n    _super = _get.get\n\n  Object.defineProperty(ctx, name,\n    { get: function () {\n        var result = getter(_super).call(this);\n        return result === undefined ? this : result;\n      }\n    , configurable: true\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/overwriteProperty.js\n// module id = 59\n// module chunks = 0","/*!\n * Chai - overwriteMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### overwriteMethod (ctx, name, fn)\n *\n * Overwites an already existing method and provides\n * access to previous function. Must return function\n * to be used for name.\n *\n *     utils.overwriteMethod(chai.Assertion.prototype, 'equal', function (_super) {\n *       return function (str) {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.value).to.equal(str);\n *         } else {\n *           _super.apply(this, arguments);\n *         }\n *       }\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.equal('bar');\n *\n * @param {Object} ctx object whose method is to be overwritten\n * @param {String} name of method to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @name overwriteMethod\n * @api public\n */\n\nmodule.exports = function (ctx, name, method) {\n  var _method = ctx[name]\n    , _super = function () { return this; };\n\n  if (_method && 'function' === typeof _method)\n    _super = _method;\n\n  ctx[name] = function () {\n    var result = method(_super).apply(this, arguments);\n    return result === undefined ? this : result;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/overwriteMethod.js\n// module id = 60\n// module chunks = 0","/*!\n * Chai - addChainingMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar transferFlags = require('./transferFlags');\nvar flag = require('./flag');\nvar config = require('../config');\n\n/*!\n * Module variables\n */\n\n// Check whether `__proto__` is supported\nvar hasProtoSupport = '__proto__' in Object;\n\n// Without `__proto__` support, this module will need to add properties to a function.\n// However, some Function.prototype methods cannot be overwritten,\n// and there seems no easy cross-platform way to detect them (@see chaijs/chai/issues/69).\nvar excludeNames = /^(?:length|name|arguments|caller)$/;\n\n// Cache `Function` properties\nvar call  = Function.prototype.call,\n    apply = Function.prototype.apply;\n\n/**\n * ### addChainableMethod (ctx, name, method, chainingBehavior)\n *\n * Adds a method to an object, such that the method can also be chained.\n *\n *     utils.addChainableMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addChainableMethod('foo', fn, chainingBehavior);\n *\n * The result can then be used as both a method assertion, executing both `method` and\n * `chainingBehavior`, or as a language chain, which only executes `chainingBehavior`.\n *\n *     expect(fooStr).to.be.foo('bar');\n *     expect(fooStr).to.be.foo.equal('foo');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for `name`, when called\n * @param {Function} chainingBehavior function to be called every time the property is accessed\n * @name addChainableMethod\n * @api public\n */\n\nmodule.exports = function (ctx, name, method, chainingBehavior) {\n  if (typeof chainingBehavior !== 'function') {\n    chainingBehavior = function () { };\n  }\n\n  var chainableBehavior = {\n      method: method\n    , chainingBehavior: chainingBehavior\n  };\n\n  // save the methods so we can overwrite them later, if we need to.\n  if (!ctx.__methods) {\n    ctx.__methods = {};\n  }\n  ctx.__methods[name] = chainableBehavior;\n\n  Object.defineProperty(ctx, name,\n    { get: function () {\n        chainableBehavior.chainingBehavior.call(this);\n\n        var assert = function assert() {\n          var old_ssfi = flag(this, 'ssfi');\n          if (old_ssfi && config.includeStack === false)\n            flag(this, 'ssfi', assert);\n          var result = chainableBehavior.method.apply(this, arguments);\n          return result === undefined ? this : result;\n        };\n\n        // Use `__proto__` if available\n        if (hasProtoSupport) {\n          // Inherit all properties from the object by replacing the `Function` prototype\n          var prototype = assert.__proto__ = Object.create(this);\n          // Restore the `call` and `apply` methods from `Function`\n          prototype.call = call;\n          prototype.apply = apply;\n        }\n        // Otherwise, redefine all properties (slow!)\n        else {\n          var asserterNames = Object.getOwnPropertyNames(ctx);\n          asserterNames.forEach(function (asserterName) {\n            if (!excludeNames.test(asserterName)) {\n              var pd = Object.getOwnPropertyDescriptor(ctx, asserterName);\n              Object.defineProperty(assert, asserterName, pd);\n            }\n          });\n        }\n\n        transferFlags(this, assert);\n        return assert;\n      }\n    , configurable: true\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/addChainableMethod.js\n// module id = 61\n// module chunks = 0","/*!\n * Chai - overwriteChainableMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### overwriteChainableMethod (ctx, name, fn)\n *\n * Overwites an already existing chainable method\n * and provides access to the previous function or\n * property.  Must return functions to be used for\n * name.\n *\n *     utils.overwriteChainableMethod(chai.Assertion.prototype, 'length',\n *       function (_super) {\n *       }\n *     , function (_super) {\n *       }\n *     );\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteChainableMethod('foo', fn, fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.have.length(3);\n *     expect(myFoo).to.have.length.above(3);\n *\n * @param {Object} ctx object whose method / property is to be overwritten\n * @param {String} name of method / property to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @param {Function} chainingBehavior function that returns a function to be used for property\n * @name overwriteChainableMethod\n * @api public\n */\n\nmodule.exports = function (ctx, name, method, chainingBehavior) {\n  var chainableBehavior = ctx.__methods[name];\n\n  var _chainingBehavior = chainableBehavior.chainingBehavior;\n  chainableBehavior.chainingBehavior = function () {\n    var result = chainingBehavior(_chainingBehavior).call(this);\n    return result === undefined ? this : result;\n  };\n\n  var _method = chainableBehavior.method;\n  chainableBehavior.method = function () {\n    var result = method(_method).apply(this, arguments);\n    return result === undefined ? this : result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js\n// module id = 62\n// module chunks = 0","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar config = require('./config');\nvar NOOP = function() { };\n\nmodule.exports = function (_chai, util) {\n  /*!\n   * Module dependencies.\n   */\n\n  var AssertionError = _chai.AssertionError\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  _chai.Assertion = Assertion;\n\n  /*!\n   * Assertion Constructor\n   *\n   * Creates object for chaining.\n   *\n   * @api private\n   */\n\n  function Assertion (obj, msg, stack) {\n    flag(this, 'ssfi', stack || arguments.callee);\n    flag(this, 'object', obj);\n    flag(this, 'message', msg);\n  }\n\n  Object.defineProperty(Assertion, 'includeStack', {\n    get: function() {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      return config.includeStack;\n    },\n    set: function(value) {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      config.includeStack = value;\n    }\n  });\n\n  Object.defineProperty(Assertion, 'showDiff', {\n    get: function() {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      return config.showDiff;\n    },\n    set: function(value) {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      config.showDiff = value;\n    }\n  });\n\n  Assertion.addProperty = function (name, fn) {\n    util.addProperty(this.prototype, name, fn);\n  };\n\n  Assertion.addMethod = function (name, fn) {\n    util.addMethod(this.prototype, name, fn);\n  };\n\n  Assertion.addChainableMethod = function (name, fn, chainingBehavior) {\n    util.addChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  Assertion.addChainableNoop = function(name, fn) {\n    util.addChainableMethod(this.prototype, name, NOOP, fn);\n  };\n\n  Assertion.overwriteProperty = function (name, fn) {\n    util.overwriteProperty(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteMethod = function (name, fn) {\n    util.overwriteMethod(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteChainableMethod = function (name, fn, chainingBehavior) {\n    util.overwriteChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  /*!\n   * ### .assert(expression, message, negateMessage, expected, actual)\n   *\n   * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.\n   *\n   * @name assert\n   * @param {Philosophical} expression to be tested\n   * @param {String or Function} message or function that returns message to display if fails\n   * @param {String or Function} negatedMessage or function that returns negatedMessage to display if negated expression fails\n   * @param {Mixed} expected value (remember to check for negation)\n   * @param {Mixed} actual (optional) will default to `this.obj`\n   * @api private\n   */\n\n  Assertion.prototype.assert = function (expr, msg, negateMsg, expected, _actual, showDiff) {\n    var ok = util.test(this, arguments);\n    if (true !== showDiff) showDiff = false;\n    if (true !== config.showDiff) showDiff = false;\n\n    if (!ok) {\n      var msg = util.getMessage(this, arguments)\n        , actual = util.getActual(this, arguments);\n      throw new AssertionError(msg, {\n          actual: actual\n        , expected: expected\n        , showDiff: showDiff\n      }, (config.includeStack) ? this.assert : flag(this, 'ssfi'));\n    }\n  };\n\n  /*!\n   * ### ._obj\n   *\n   * Quick reference to stored `actual` value for plugin developers.\n   *\n   * @api private\n   */\n\n  Object.defineProperty(Assertion.prototype, '_obj',\n    { get: function () {\n        return flag(this, 'object');\n      }\n    , set: function (val) {\n        flag(this, 'object', val);\n      }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/assertion.js\n// module id = 63\n// module chunks = 0","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, _) {\n  var Assertion = chai.Assertion\n    , toString = Object.prototype.toString\n    , flag = _.flag;\n\n  /**\n   * ### Language Chains\n   *\n   * The following are provided as chainable getters to\n   * improve the readability of your assertions. They\n   * do not provide testing capabilities unless they\n   * have been overwritten by a plugin.\n   *\n   * **Chains**\n   *\n   * - to\n   * - be\n   * - been\n   * - is\n   * - that\n   * - and\n   * - has\n   * - have\n   * - with\n   * - at\n   * - of\n   * - same\n   *\n   * @name language chains\n   * @api public\n   */\n\n  [ 'to', 'be', 'been'\n  , 'is', 'and', 'has', 'have'\n  , 'with', 'that', 'at'\n  , 'of', 'same' ].forEach(function (chain) {\n    Assertion.addProperty(chain, function () {\n      return this;\n    });\n  });\n\n  /**\n   * ### .not\n   *\n   * Negates any of assertions following in the chain.\n   *\n   *     expect(foo).to.not.equal('bar');\n   *     expect(goodFn).to.not.throw(Error);\n   *     expect({ foo: 'baz' }).to.have.property('foo')\n   *       .and.not.equal('bar');\n   *\n   * @name not\n   * @api public\n   */\n\n  Assertion.addProperty('not', function () {\n    flag(this, 'negate', true);\n  });\n\n  /**\n   * ### .deep\n   *\n   * Sets the `deep` flag, later used by the `equal` and\n   * `property` assertions.\n   *\n   *     expect(foo).to.deep.equal({ bar: 'baz' });\n   *     expect({ foo: { bar: { baz: 'quux' } } })\n   *       .to.have.deep.property('foo.bar.baz', 'quux');\n   *\n   * @name deep\n   * @api public\n   */\n\n  Assertion.addProperty('deep', function () {\n    flag(this, 'deep', true);\n  });\n\n  /**\n   * ### .a(type)\n   *\n   * The `a` and `an` assertions are aliases that can be\n   * used either as language chains or to assert a value's\n   * type.\n   *\n   *     // typeof\n   *     expect('test').to.be.a('string');\n   *     expect({ foo: 'bar' }).to.be.an('object');\n   *     expect(null).to.be.a('null');\n   *     expect(undefined).to.be.an('undefined');\n   *\n   *     // language chain\n   *     expect(foo).to.be.an.instanceof(Foo);\n   *\n   * @name a\n   * @alias an\n   * @param {String} type\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function an (type, msg) {\n    if (msg) flag(this, 'message', msg);\n    type = type.toLowerCase();\n    var obj = flag(this, 'object')\n      , article = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(type.charAt(0)) ? 'an ' : 'a ';\n\n    this.assert(\n        type === _.type(obj)\n      , 'expected #{this} to be ' + article + type\n      , 'expected #{this} not to be ' + article + type\n    );\n  }\n\n  Assertion.addChainableMethod('an', an);\n  Assertion.addChainableMethod('a', an);\n\n  /**\n   * ### .include(value)\n   *\n   * The `include` and `contain` assertions can be used as either property\n   * based language chains or as methods to assert the inclusion of an object\n   * in an array or a substring in a string. When used as language chains,\n   * they toggle the `contain` flag for the `keys` assertion.\n   *\n   *     expect([1,2,3]).to.include(2);\n   *     expect('foobar').to.contain('foo');\n   *     expect({ foo: 'bar', hello: 'universe' }).to.include.keys('foo');\n   *\n   * @name include\n   * @alias contain\n   * @param {Object|String|Number} obj\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function includeChainingBehavior () {\n    flag(this, 'contains', true);\n  }\n\n  function include (val, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var expected = false;\n    if (_.type(obj) === 'array' && _.type(val) === 'object') {\n      for (var i in obj) {\n        if (_.eql(obj[i], val)) {\n          expected = true;\n          break;\n        }\n      }\n    } else if (_.type(val) === 'object') {\n      if (!flag(this, 'negate')) {\n        for (var k in val) new Assertion(obj).property(k, val[k]);\n        return;\n      }\n      var subset = {}\n      for (var k in val) subset[k] = obj[k]\n      expected = _.eql(subset, val);\n    } else {\n      expected = obj && ~obj.indexOf(val)\n    }\n    this.assert(\n        expected\n      , 'expected #{this} to include ' + _.inspect(val)\n      , 'expected #{this} to not include ' + _.inspect(val));\n  }\n\n  Assertion.addChainableMethod('include', include, includeChainingBehavior);\n  Assertion.addChainableMethod('contain', include, includeChainingBehavior);\n\n  /**\n   * ### .ok\n   *\n   * Asserts that the target is truthy.\n   *\n   *     expect('everthing').to.be.ok;\n   *     expect(1).to.be.ok;\n   *     expect(false).to.not.be.ok;\n   *     expect(undefined).to.not.be.ok;\n   *     expect(null).to.not.be.ok;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect('everthing').to.be.ok();\n   *     \n   * @name ok\n   * @api public\n   */\n\n  Assertion.addChainableNoop('ok', function () {\n    this.assert(\n        flag(this, 'object')\n      , 'expected #{this} to be truthy'\n      , 'expected #{this} to be falsy');\n  });\n\n  /**\n   * ### .true\n   *\n   * Asserts that the target is `true`.\n   *\n   *     expect(true).to.be.true;\n   *     expect(1).to.not.be.true;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(true).to.be.true();\n   *\n   * @name true\n   * @api public\n   */\n\n  Assertion.addChainableNoop('true', function () {\n    this.assert(\n        true === flag(this, 'object')\n      , 'expected #{this} to be true'\n      , 'expected #{this} to be false'\n      , this.negate ? false : true\n    );\n  });\n\n  /**\n   * ### .false\n   *\n   * Asserts that the target is `false`.\n   *\n   *     expect(false).to.be.false;\n   *     expect(0).to.not.be.false;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(false).to.be.false();\n   *\n   * @name false\n   * @api public\n   */\n\n  Assertion.addChainableNoop('false', function () {\n    this.assert(\n        false === flag(this, 'object')\n      , 'expected #{this} to be false'\n      , 'expected #{this} to be true'\n      , this.negate ? true : false\n    );\n  });\n\n  /**\n   * ### .null\n   *\n   * Asserts that the target is `null`.\n   *\n   *     expect(null).to.be.null;\n   *     expect(undefined).not.to.be.null;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(null).to.be.null();\n   *\n   * @name null\n   * @api public\n   */\n\n  Assertion.addChainableNoop('null', function () {\n    this.assert(\n        null === flag(this, 'object')\n      , 'expected #{this} to be null'\n      , 'expected #{this} not to be null'\n    );\n  });\n\n  /**\n   * ### .undefined\n   *\n   * Asserts that the target is `undefined`.\n   *\n   *     expect(undefined).to.be.undefined;\n   *     expect(null).to.not.be.undefined;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(undefined).to.be.undefined();\n   *\n   * @name undefined\n   * @api public\n   */\n\n  Assertion.addChainableNoop('undefined', function () {\n    this.assert(\n        undefined === flag(this, 'object')\n      , 'expected #{this} to be undefined'\n      , 'expected #{this} not to be undefined'\n    );\n  });\n\n  /**\n   * ### .exist\n   *\n   * Asserts that the target is neither `null` nor `undefined`.\n   *\n   *     var foo = 'hi'\n   *       , bar = null\n   *       , baz;\n   *\n   *     expect(foo).to.exist;\n   *     expect(bar).to.not.exist;\n   *     expect(baz).to.not.exist;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect(foo).to.exist();\n   *\n   * @name exist\n   * @api public\n   */\n\n  Assertion.addChainableNoop('exist', function () {\n    this.assert(\n        null != flag(this, 'object')\n      , 'expected #{this} to exist'\n      , 'expected #{this} to not exist'\n    );\n  });\n\n\n  /**\n   * ### .empty\n   *\n   * Asserts that the target's length is `0`. For arrays, it checks\n   * the `length` property. For objects, it gets the count of\n   * enumerable keys.\n   *\n   *     expect([]).to.be.empty;\n   *     expect('').to.be.empty;\n   *     expect({}).to.be.empty;\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     expect([]).to.be.empty();\n   *\n   * @name empty\n   * @api public\n   */\n\n  Assertion.addChainableNoop('empty', function () {\n    var obj = flag(this, 'object')\n      , expected = obj;\n\n    if (Array.isArray(obj) || 'string' === typeof object) {\n      expected = obj.length;\n    } else if (typeof obj === 'object') {\n      expected = Object.keys(obj).length;\n    }\n\n    this.assert(\n        !expected\n      , 'expected #{this} to be empty'\n      , 'expected #{this} not to be empty'\n    );\n  });\n\n  /**\n   * ### .arguments\n   *\n   * Asserts that the target is an arguments object.\n   *\n   *     function test () {\n   *       expect(arguments).to.be.arguments;\n   *     }\n   *\n   * Can also be used as a function, which prevents some linter errors.\n   *\n   *     function test () {\n   *       expect(arguments).to.be.arguments();\n   *     }\n   *\n   * @name arguments\n   * @alias Arguments\n   * @api public\n   */\n\n  function checkArguments () {\n    var obj = flag(this, 'object')\n      , type = Object.prototype.toString.call(obj);\n    this.assert(\n        '[object Arguments]' === type\n      , 'expected #{this} to be arguments but got ' + type\n      , 'expected #{this} to not be arguments'\n    );\n  }\n\n  Assertion.addChainableNoop('arguments', checkArguments);\n  Assertion.addChainableNoop('Arguments', checkArguments);\n\n  /**\n   * ### .equal(value)\n   *\n   * Asserts that the target is strictly equal (`===`) to `value`.\n   * Alternately, if the `deep` flag is set, asserts that\n   * the target is deeply equal to `value`.\n   *\n   *     expect('hello').to.equal('hello');\n   *     expect(42).to.equal(42);\n   *     expect(1).to.not.equal(true);\n   *     expect({ foo: 'bar' }).to.not.equal({ foo: 'bar' });\n   *     expect({ foo: 'bar' }).to.deep.equal({ foo: 'bar' });\n   *\n   * @name equal\n   * @alias equals\n   * @alias eq\n   * @alias deep.equal\n   * @param {Mixed} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertEqual (val, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'deep')) {\n      return this.eql(val);\n    } else {\n      this.assert(\n          val === obj\n        , 'expected #{this} to equal #{exp}'\n        , 'expected #{this} to not equal #{exp}'\n        , val\n        , this._obj\n        , true\n      );\n    }\n  }\n\n  Assertion.addMethod('equal', assertEqual);\n  Assertion.addMethod('equals', assertEqual);\n  Assertion.addMethod('eq', assertEqual);\n\n  /**\n   * ### .eql(value)\n   *\n   * Asserts that the target is deeply equal to `value`.\n   *\n   *     expect({ foo: 'bar' }).to.eql({ foo: 'bar' });\n   *     expect([ 1, 2, 3 ]).to.eql([ 1, 2, 3 ]);\n   *\n   * @name eql\n   * @alias eqls\n   * @param {Mixed} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertEql(obj, msg) {\n    if (msg) flag(this, 'message', msg);\n    this.assert(\n        _.eql(obj, flag(this, 'object'))\n      , 'expected #{this} to deeply equal #{exp}'\n      , 'expected #{this} to not deeply equal #{exp}'\n      , obj\n      , this._obj\n      , true\n    );\n  }\n\n  Assertion.addMethod('eql', assertEql);\n  Assertion.addMethod('eqls', assertEql);\n\n  /**\n   * ### .above(value)\n   *\n   * Asserts that the target is greater than `value`.\n   *\n   *     expect(10).to.be.above(5);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a minimum length. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.above(2);\n   *     expect([ 1, 2, 3 ]).to.have.length.above(2);\n   *\n   * @name above\n   * @alias gt\n   * @alias greaterThan\n   * @param {Number} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertAbove (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len > n\n        , 'expected #{this} to have a length above #{exp} but got #{act}'\n        , 'expected #{this} to not have a length above #{exp}'\n        , n\n        , len\n      );\n    } else {\n      this.assert(\n          obj > n\n        , 'expected #{this} to be above ' + n\n        , 'expected #{this} to be at most ' + n\n      );\n    }\n  }\n\n  Assertion.addMethod('above', assertAbove);\n  Assertion.addMethod('gt', assertAbove);\n  Assertion.addMethod('greaterThan', assertAbove);\n\n  /**\n   * ### .least(value)\n   *\n   * Asserts that the target is greater than or equal to `value`.\n   *\n   *     expect(10).to.be.at.least(10);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a minimum length. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.of.at.least(2);\n   *     expect([ 1, 2, 3 ]).to.have.length.of.at.least(3);\n   *\n   * @name least\n   * @alias gte\n   * @param {Number} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertLeast (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len >= n\n        , 'expected #{this} to have a length at least #{exp} but got #{act}'\n        , 'expected #{this} to have a length below #{exp}'\n        , n\n        , len\n      );\n    } else {\n      this.assert(\n          obj >= n\n        , 'expected #{this} to be at least ' + n\n        , 'expected #{this} to be below ' + n\n      );\n    }\n  }\n\n  Assertion.addMethod('least', assertLeast);\n  Assertion.addMethod('gte', assertLeast);\n\n  /**\n   * ### .below(value)\n   *\n   * Asserts that the target is less than `value`.\n   *\n   *     expect(5).to.be.below(10);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a maximum length. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.below(4);\n   *     expect([ 1, 2, 3 ]).to.have.length.below(4);\n   *\n   * @name below\n   * @alias lt\n   * @alias lessThan\n   * @param {Number} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertBelow (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len < n\n        , 'expected #{this} to have a length below #{exp} but got #{act}'\n        , 'expected #{this} to not have a length below #{exp}'\n        , n\n        , len\n      );\n    } else {\n      this.assert(\n          obj < n\n        , 'expected #{this} to be below ' + n\n        , 'expected #{this} to be at least ' + n\n      );\n    }\n  }\n\n  Assertion.addMethod('below', assertBelow);\n  Assertion.addMethod('lt', assertBelow);\n  Assertion.addMethod('lessThan', assertBelow);\n\n  /**\n   * ### .most(value)\n   *\n   * Asserts that the target is less than or equal to `value`.\n   *\n   *     expect(5).to.be.at.most(5);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a maximum length. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.of.at.most(4);\n   *     expect([ 1, 2, 3 ]).to.have.length.of.at.most(3);\n   *\n   * @name most\n   * @alias lte\n   * @param {Number} value\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertMost (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len <= n\n        , 'expected #{this} to have a length at most #{exp} but got #{act}'\n        , 'expected #{this} to have a length above #{exp}'\n        , n\n        , len\n      );\n    } else {\n      this.assert(\n          obj <= n\n        , 'expected #{this} to be at most ' + n\n        , 'expected #{this} to be above ' + n\n      );\n    }\n  }\n\n  Assertion.addMethod('most', assertMost);\n  Assertion.addMethod('lte', assertMost);\n\n  /**\n   * ### .within(start, finish)\n   *\n   * Asserts that the target is within a range.\n   *\n   *     expect(7).to.be.within(5,10);\n   *\n   * Can also be used in conjunction with `length` to\n   * assert a length range. The benefit being a\n   * more informative error message than if the length\n   * was supplied directly.\n   *\n   *     expect('foo').to.have.length.within(2,4);\n   *     expect([ 1, 2, 3 ]).to.have.length.within(2,4);\n   *\n   * @name within\n   * @param {Number} start lowerbound inclusive\n   * @param {Number} finish upperbound inclusive\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('within', function (start, finish, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , range = start + '..' + finish;\n    if (flag(this, 'doLength')) {\n      new Assertion(obj, msg).to.have.property('length');\n      var len = obj.length;\n      this.assert(\n          len >= start && len <= finish\n        , 'expected #{this} to have a length within ' + range\n        , 'expected #{this} to not have a length within ' + range\n      );\n    } else {\n      this.assert(\n          obj >= start && obj <= finish\n        , 'expected #{this} to be within ' + range\n        , 'expected #{this} to not be within ' + range\n      );\n    }\n  });\n\n  /**\n   * ### .instanceof(constructor)\n   *\n   * Asserts that the target is an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , Chai = new Tea('chai');\n   *\n   *     expect(Chai).to.be.an.instanceof(Tea);\n   *     expect([ 1, 2, 3 ]).to.be.instanceof(Array);\n   *\n   * @name instanceof\n   * @param {Constructor} constructor\n   * @param {String} message _optional_\n   * @alias instanceOf\n   * @api public\n   */\n\n  function assertInstanceOf (constructor, msg) {\n    if (msg) flag(this, 'message', msg);\n    var name = _.getName(constructor);\n    this.assert(\n        flag(this, 'object') instanceof constructor\n      , 'expected #{this} to be an instance of ' + name\n      , 'expected #{this} to not be an instance of ' + name\n    );\n  };\n\n  Assertion.addMethod('instanceof', assertInstanceOf);\n  Assertion.addMethod('instanceOf', assertInstanceOf);\n\n  /**\n   * ### .property(name, [value])\n   *\n   * Asserts that the target has a property `name`, optionally asserting that\n   * the value of that property is strictly equal to  `value`.\n   * If the `deep` flag is set, you can use dot- and bracket-notation for deep\n   * references into objects and arrays.\n   *\n   *     // simple referencing\n   *     var obj = { foo: 'bar' };\n   *     expect(obj).to.have.property('foo');\n   *     expect(obj).to.have.property('foo', 'bar');\n   *\n   *     // deep referencing\n   *     var deepObj = {\n   *         green: { tea: 'matcha' }\n   *       , teas: [ 'chai', 'matcha', { tea: 'konacha' } ]\n   *     };\n\n   *     expect(deepObj).to.have.deep.property('green.tea', 'matcha');\n   *     expect(deepObj).to.have.deep.property('teas[1]', 'matcha');\n   *     expect(deepObj).to.have.deep.property('teas[2].tea', 'konacha');\n   *\n   * You can also use an array as the starting point of a `deep.property`\n   * assertion, or traverse nested arrays.\n   *\n   *     var arr = [\n   *         [ 'chai', 'matcha', 'konacha' ]\n   *       , [ { tea: 'chai' }\n   *         , { tea: 'matcha' }\n   *         , { tea: 'konacha' } ]\n   *     ];\n   *\n   *     expect(arr).to.have.deep.property('[0][1]', 'matcha');\n   *     expect(arr).to.have.deep.property('[1][2].tea', 'konacha');\n   *\n   * Furthermore, `property` changes the subject of the assertion\n   * to be the value of that property from the original object. This\n   * permits for further chainable assertions on that property.\n   *\n   *     expect(obj).to.have.property('foo')\n   *       .that.is.a('string');\n   *     expect(deepObj).to.have.property('green')\n   *       .that.is.an('object')\n   *       .that.deep.equals({ tea: 'matcha' });\n   *     expect(deepObj).to.have.property('teas')\n   *       .that.is.an('array')\n   *       .with.deep.property('[2]')\n   *         .that.deep.equals({ tea: 'konacha' });\n   *\n   * @name property\n   * @alias deep.property\n   * @param {String} name\n   * @param {Mixed} value (optional)\n   * @param {String} message _optional_\n   * @returns value of property for chaining\n   * @api public\n   */\n\n  Assertion.addMethod('property', function (name, val, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var descriptor = flag(this, 'deep') ? 'deep property ' : 'property '\n      , negate = flag(this, 'negate')\n      , obj = flag(this, 'object')\n      , value = flag(this, 'deep')\n        ? _.getPathValue(name, obj)\n        : obj[name];\n\n    if (negate && undefined !== val) {\n      if (undefined === value) {\n        msg = (msg != null) ? msg + ': ' : '';\n        throw new Error(msg + _.inspect(obj) + ' has no ' + descriptor + _.inspect(name));\n      }\n    } else {\n      this.assert(\n          undefined !== value\n        , 'expected #{this} to have a ' + descriptor + _.inspect(name)\n        , 'expected #{this} to not have ' + descriptor + _.inspect(name));\n    }\n\n    if (undefined !== val) {\n      this.assert(\n          val === value\n        , 'expected #{this} to have a ' + descriptor + _.inspect(name) + ' of #{exp}, but got #{act}'\n        , 'expected #{this} to not have a ' + descriptor + _.inspect(name) + ' of #{act}'\n        , val\n        , value\n      );\n    }\n\n    flag(this, 'object', value);\n  });\n\n\n  /**\n   * ### .ownProperty(name)\n   *\n   * Asserts that the target has an own property `name`.\n   *\n   *     expect('test').to.have.ownProperty('length');\n   *\n   * @name ownProperty\n   * @alias haveOwnProperty\n   * @param {String} name\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertOwnProperty (name, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    this.assert(\n        obj.hasOwnProperty(name)\n      , 'expected #{this} to have own property ' + _.inspect(name)\n      , 'expected #{this} to not have own property ' + _.inspect(name)\n    );\n  }\n\n  Assertion.addMethod('ownProperty', assertOwnProperty);\n  Assertion.addMethod('haveOwnProperty', assertOwnProperty);\n\n  /**\n   * ### .length(value)\n   *\n   * Asserts that the target's `length` property has\n   * the expected value.\n   *\n   *     expect([ 1, 2, 3]).to.have.length(3);\n   *     expect('foobar').to.have.length(6);\n   *\n   * Can also be used as a chain precursor to a value\n   * comparison for the length property.\n   *\n   *     expect('foo').to.have.length.above(2);\n   *     expect([ 1, 2, 3 ]).to.have.length.above(2);\n   *     expect('foo').to.have.length.below(4);\n   *     expect([ 1, 2, 3 ]).to.have.length.below(4);\n   *     expect('foo').to.have.length.within(2,4);\n   *     expect([ 1, 2, 3 ]).to.have.length.within(2,4);\n   *\n   * @name length\n   * @alias lengthOf\n   * @param {Number} length\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  function assertLengthChain () {\n    flag(this, 'doLength', true);\n  }\n\n  function assertLength (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    new Assertion(obj, msg).to.have.property('length');\n    var len = obj.length;\n\n    this.assert(\n        len == n\n      , 'expected #{this} to have a length of #{exp} but got #{act}'\n      , 'expected #{this} to not have a length of #{act}'\n      , n\n      , len\n    );\n  }\n\n  Assertion.addChainableMethod('length', assertLength, assertLengthChain);\n  Assertion.addMethod('lengthOf', assertLength);\n\n  /**\n   * ### .match(regexp)\n   *\n   * Asserts that the target matches a regular expression.\n   *\n   *     expect('foobar').to.match(/^foo/);\n   *\n   * @name match\n   * @param {RegExp} RegularExpression\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('match', function (re, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    this.assert(\n        re.exec(obj)\n      , 'expected #{this} to match ' + re\n      , 'expected #{this} not to match ' + re\n    );\n  });\n\n  /**\n   * ### .string(string)\n   *\n   * Asserts that the string target contains another string.\n   *\n   *     expect('foobar').to.have.string('bar');\n   *\n   * @name string\n   * @param {String} string\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('string', function (str, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    new Assertion(obj, msg).is.a('string');\n\n    this.assert(\n        ~obj.indexOf(str)\n      , 'expected #{this} to contain ' + _.inspect(str)\n      , 'expected #{this} to not contain ' + _.inspect(str)\n    );\n  });\n\n\n  /**\n   * ### .keys(key1, [key2], [...])\n   *\n   * Asserts that the target has exactly the given keys, or\n   * asserts the inclusion of some keys when using the\n   * `include` or `contain` modifiers.\n   *\n   *     expect({ foo: 1, bar: 2 }).to.have.keys(['foo', 'bar']);\n   *     expect({ foo: 1, bar: 2, baz: 3 }).to.contain.keys('foo', 'bar');\n   *\n   * @name keys\n   * @alias key\n   * @param {String...|Array} keys\n   * @api public\n   */\n\n  function assertKeys (keys) {\n    var obj = flag(this, 'object')\n      , str\n      , ok = true;\n\n    keys = keys instanceof Array\n      ? keys\n      : Array.prototype.slice.call(arguments);\n\n    if (!keys.length) throw new Error('keys required');\n\n    var actual = Object.keys(obj)\n      , expected = keys\n      , len = keys.length;\n\n    // Inclusion\n    ok = keys.every(function(key){\n      return ~actual.indexOf(key);\n    });\n\n    // Strict\n    if (!flag(this, 'negate') && !flag(this, 'contains')) {\n      ok = ok && keys.length == actual.length;\n    }\n\n    // Key string\n    if (len > 1) {\n      keys = keys.map(function(key){\n        return _.inspect(key);\n      });\n      var last = keys.pop();\n      str = keys.join(', ') + ', and ' + last;\n    } else {\n      str = _.inspect(keys[0]);\n    }\n\n    // Form\n    str = (len > 1 ? 'keys ' : 'key ') + str;\n\n    // Have / include\n    str = (flag(this, 'contains') ? 'contain ' : 'have ') + str;\n\n    // Assertion\n    this.assert(\n        ok\n      , 'expected #{this} to ' + str\n      , 'expected #{this} to not ' + str\n      , expected.sort()\n      , actual.sort()\n      , true\n    );\n  }\n\n  Assertion.addMethod('keys', assertKeys);\n  Assertion.addMethod('key', assertKeys);\n\n  /**\n   * ### .throw(constructor)\n   *\n   * Asserts that the function target will throw a specific error, or specific type of error\n   * (as determined using `instanceof`), optionally with a RegExp or string inclusion test\n   * for the error's message.\n   *\n   *     var err = new ReferenceError('This is a bad function.');\n   *     var fn = function () { throw err; }\n   *     expect(fn).to.throw(ReferenceError);\n   *     expect(fn).to.throw(Error);\n   *     expect(fn).to.throw(/bad function/);\n   *     expect(fn).to.not.throw('good function');\n   *     expect(fn).to.throw(ReferenceError, /bad function/);\n   *     expect(fn).to.throw(err);\n   *     expect(fn).to.not.throw(new RangeError('Out of range.'));\n   *\n   * Please note that when a throw expectation is negated, it will check each\n   * parameter independently, starting with error constructor type. The appropriate way\n   * to check for the existence of a type of error but for a message that does not match\n   * is to use `and`.\n   *\n   *     expect(fn).to.throw(ReferenceError)\n   *        .and.not.throw(/good function/);\n   *\n   * @name throw\n   * @alias throws\n   * @alias Throw\n   * @param {ErrorConstructor} constructor\n   * @param {String|RegExp} expected error message\n   * @param {String} message _optional_\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @returns error for chaining (null if no error)\n   * @api public\n   */\n\n  function assertThrows (constructor, errMsg, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    new Assertion(obj, msg).is.a('function');\n\n    var thrown = false\n      , desiredError = null\n      , name = null\n      , thrownError = null;\n\n    if (arguments.length === 0) {\n      errMsg = null;\n      constructor = null;\n    } else if (constructor && (constructor instanceof RegExp || 'string' === typeof constructor)) {\n      errMsg = constructor;\n      constructor = null;\n    } else if (constructor && constructor instanceof Error) {\n      desiredError = constructor;\n      constructor = null;\n      errMsg = null;\n    } else if (typeof constructor === 'function') {\n      name = constructor.prototype.name || constructor.name;\n      if (name === 'Error' && constructor !== Error) {\n        name = (new constructor()).name;\n      }\n    } else {\n      constructor = null;\n    }\n\n    try {\n      obj();\n    } catch (err) {\n      // first, check desired error\n      if (desiredError) {\n        this.assert(\n            err === desiredError\n          , 'expected #{this} to throw #{exp} but #{act} was thrown'\n          , 'expected #{this} to not throw #{exp}'\n          , (desiredError instanceof Error ? desiredError.toString() : desiredError)\n          , (err instanceof Error ? err.toString() : err)\n        );\n\n        flag(this, 'object', err);\n        return this;\n      }\n\n      // next, check constructor\n      if (constructor) {\n        this.assert(\n            err instanceof constructor\n          , 'expected #{this} to throw #{exp} but #{act} was thrown'\n          , 'expected #{this} to not throw #{exp} but #{act} was thrown'\n          , name\n          , (err instanceof Error ? err.toString() : err)\n        );\n\n        if (!errMsg) {\n          flag(this, 'object', err);\n          return this;\n        }\n      }\n\n      // next, check message\n      var message = 'object' === _.type(err) && \"message\" in err\n        ? err.message\n        : '' + err;\n\n      if ((message != null) && errMsg && errMsg instanceof RegExp) {\n        this.assert(\n            errMsg.exec(message)\n          , 'expected #{this} to throw error matching #{exp} but got #{act}'\n          , 'expected #{this} to throw error not matching #{exp}'\n          , errMsg\n          , message\n        );\n\n        flag(this, 'object', err);\n        return this;\n      } else if ((message != null) && errMsg && 'string' === typeof errMsg) {\n        this.assert(\n            ~message.indexOf(errMsg)\n          , 'expected #{this} to throw error including #{exp} but got #{act}'\n          , 'expected #{this} to throw error not including #{act}'\n          , errMsg\n          , message\n        );\n\n        flag(this, 'object', err);\n        return this;\n      } else {\n        thrown = true;\n        thrownError = err;\n      }\n    }\n\n    var actuallyGot = ''\n      , expectedThrown = name !== null\n        ? name\n        : desiredError\n          ? '#{exp}' //_.inspect(desiredError)\n          : 'an error';\n\n    if (thrown) {\n      actuallyGot = ' but #{act} was thrown'\n    }\n\n    this.assert(\n        thrown === true\n      , 'expected #{this} to throw ' + expectedThrown + actuallyGot\n      , 'expected #{this} to not throw ' + expectedThrown + actuallyGot\n      , (desiredError instanceof Error ? desiredError.toString() : desiredError)\n      , (thrownError instanceof Error ? thrownError.toString() : thrownError)\n    );\n\n    flag(this, 'object', thrownError);\n  };\n\n  Assertion.addMethod('throw', assertThrows);\n  Assertion.addMethod('throws', assertThrows);\n  Assertion.addMethod('Throw', assertThrows);\n\n  /**\n   * ### .respondTo(method)\n   *\n   * Asserts that the object or class target will respond to a method.\n   *\n   *     Klass.prototype.bar = function(){};\n   *     expect(Klass).to.respondTo('bar');\n   *     expect(obj).to.respondTo('bar');\n   *\n   * To check if a constructor will respond to a static function,\n   * set the `itself` flag.\n   *\n   *     Klass.baz = function(){};\n   *     expect(Klass).itself.to.respondTo('baz');\n   *\n   * @name respondTo\n   * @param {String} method\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('respondTo', function (method, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , itself = flag(this, 'itself')\n      , context = ('function' === _.type(obj) && !itself)\n        ? obj.prototype[method]\n        : obj[method];\n\n    this.assert(\n        'function' === typeof context\n      , 'expected #{this} to respond to ' + _.inspect(method)\n      , 'expected #{this} to not respond to ' + _.inspect(method)\n    );\n  });\n\n  /**\n   * ### .itself\n   *\n   * Sets the `itself` flag, later used by the `respondTo` assertion.\n   *\n   *     function Foo() {}\n   *     Foo.bar = function() {}\n   *     Foo.prototype.baz = function() {}\n   *\n   *     expect(Foo).itself.to.respondTo('bar');\n   *     expect(Foo).itself.not.to.respondTo('baz');\n   *\n   * @name itself\n   * @api public\n   */\n\n  Assertion.addProperty('itself', function () {\n    flag(this, 'itself', true);\n  });\n\n  /**\n   * ### .satisfy(method)\n   *\n   * Asserts that the target passes a given truth test.\n   *\n   *     expect(1).to.satisfy(function(num) { return num > 0; });\n   *\n   * @name satisfy\n   * @param {Function} matcher\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('satisfy', function (matcher, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var result = matcher(obj);\n    this.assert(\n        result\n      , 'expected #{this} to satisfy ' + _.objDisplay(matcher)\n      , 'expected #{this} to not satisfy' + _.objDisplay(matcher)\n      , this.negate ? false : true\n      , result\n    );\n  });\n\n  /**\n   * ### .closeTo(expected, delta)\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     expect(1.5).to.be.closeTo(1, 0.5);\n   *\n   * @name closeTo\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('closeTo', function (expected, delta, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n\n    new Assertion(obj, msg).is.a('number');\n    if (_.type(expected) !== 'number' || _.type(delta) !== 'number') {\n      throw new Error('the arguments to closeTo must be numbers');\n    }\n\n    this.assert(\n        Math.abs(obj - expected) <= delta\n      , 'expected #{this} to be close to ' + expected + ' +/- ' + delta\n      , 'expected #{this} not to be close to ' + expected + ' +/- ' + delta\n    );\n  });\n\n  function isSubsetOf(subset, superset, cmp) {\n    return subset.every(function(elem) {\n      if (!cmp) return superset.indexOf(elem) !== -1;\n\n      return superset.some(function(elem2) {\n        return cmp(elem, elem2);\n      });\n    })\n  }\n\n  /**\n   * ### .members(set)\n   *\n   * Asserts that the target is a superset of `set`,\n   * or that the target and `set` have the same strictly-equal (===) members.\n   * Alternately, if the `deep` flag is set, set members are compared for deep\n   * equality.\n   *\n   *     expect([1, 2, 3]).to.include.members([3, 2]);\n   *     expect([1, 2, 3]).to.not.include.members([3, 2, 8]);\n   *\n   *     expect([4, 2]).to.have.members([2, 4]);\n   *     expect([5, 2]).to.not.have.members([5, 2, 1]);\n   *\n   *     expect([{ id: 1 }]).to.deep.include.members([{ id: 1 }]);\n   *\n   * @name members\n   * @param {Array} set\n   * @param {String} message _optional_\n   * @api public\n   */\n\n  Assertion.addMethod('members', function (subset, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n\n    new Assertion(obj).to.be.an('array');\n    new Assertion(subset).to.be.an('array');\n\n    var cmp = flag(this, 'deep') ? _.eql : undefined;\n\n    if (flag(this, 'contains')) {\n      return this.assert(\n          isSubsetOf(subset, obj, cmp)\n        , 'expected #{this} to be a superset of #{act}'\n        , 'expected #{this} to not be a superset of #{act}'\n        , obj\n        , subset\n      );\n    }\n\n    this.assert(\n        isSubsetOf(obj, subset, cmp) && isSubsetOf(subset, obj, cmp)\n        , 'expected #{this} to have the same members as #{act}'\n        , 'expected #{this} to not have the same members as #{act}'\n        , obj\n        , subset\n    );\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/core/assertions.js\n// module id = 64\n// module chunks = 0","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  chai.expect = function (val, message) {\n    return new chai.Assertion(val, message);\n  };\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/interface/expect.js\n// module id = 65\n// module chunks = 0","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  var Assertion = chai.Assertion;\n\n  function loadShould () {\n    // explicitly define this method as function as to have it's name to include as `ssfi`\n    function shouldGetter() {\n      if (this instanceof String || this instanceof Number) {\n        return new Assertion(this.constructor(this), null, shouldGetter);\n      } else if (this instanceof Boolean) {\n        return new Assertion(this == true, null, shouldGetter);\n      }\n      return new Assertion(this, null, shouldGetter);\n    }\n    function shouldSetter(value) {\n      // See https://github.com/chaijs/chai/issues/86: this makes\n      // `whatever.should = someValue` actually set `someValue`, which is\n      // especially useful for `global.should = require('chai').should()`.\n      //\n      // Note that we have to use [[DefineProperty]] instead of [[Put]]\n      // since otherwise we would trigger this very setter!\n      Object.defineProperty(this, 'should', {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    }\n    // modify Object.prototype to have `should`\n    Object.defineProperty(Object.prototype, 'should', {\n      set: shouldSetter\n      , get: shouldGetter\n      , configurable: true\n    });\n\n    var should = {};\n\n    should.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.equal(val2);\n    };\n\n    should.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.Throw(errt, errs);\n    };\n\n    should.exist = function (val, msg) {\n      new Assertion(val, msg).to.exist;\n    }\n\n    // negation\n    should.not = {}\n\n    should.not.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.not.equal(val2);\n    };\n\n    should.not.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.not.Throw(errt, errs);\n    };\n\n    should.not.exist = function (val, msg) {\n      new Assertion(val, msg).to.not.exist;\n    }\n\n    should['throw'] = should['Throw'];\n    should.not['throw'] = should.not['Throw'];\n\n    return should;\n  };\n\n  chai.should = loadShould;\n  chai.Should = loadShould;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/interface/should.js\n// module id = 66\n// module chunks = 0","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n\nmodule.exports = function (chai, util) {\n\n  /*!\n   * Chai dependencies.\n   */\n\n  var Assertion = chai.Assertion\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  /**\n   * ### assert(expression, message)\n   *\n   * Write your own test expressions.\n   *\n   *     assert('foo' !== 'bar', 'foo is not bar');\n   *     assert(Array.isArray([]), 'empty arrays are arrays');\n   *\n   * @param {Mixed} expression to test for truthiness\n   * @param {String} message to display on error\n   * @name assert\n   * @api public\n   */\n\n  var assert = chai.assert = function (express, errmsg) {\n    var test = new Assertion(null, null, chai.assert);\n    test.assert(\n        express\n      , errmsg\n      , '[ negation message unavailable ]'\n    );\n  };\n\n  /**\n   * ### .fail(actual, expected, [message], [operator])\n   *\n   * Throw a failure. Node.js `assert` module-compatible.\n   *\n   * @name fail\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @param {String} operator\n   * @api public\n   */\n\n  assert.fail = function (actual, expected, message, operator) {\n    message = message || 'assert.fail()';\n    throw new chai.AssertionError(message, {\n        actual: actual\n      , expected: expected\n      , operator: operator\n    }, assert.fail);\n  };\n\n  /**\n   * ### .ok(object, [message])\n   *\n   * Asserts that `object` is truthy.\n   *\n   *     assert.ok('everything', 'everything is ok');\n   *     assert.ok(false, 'this will fail');\n   *\n   * @name ok\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @api public\n   */\n\n  assert.ok = function (val, msg) {\n    new Assertion(val, msg).is.ok;\n  };\n\n  /**\n   * ### .notOk(object, [message])\n   *\n   * Asserts that `object` is falsy.\n   *\n   *     assert.notOk('everything', 'this will fail');\n   *     assert.notOk(false, 'this will pass');\n   *\n   * @name notOk\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notOk = function (val, msg) {\n    new Assertion(val, msg).is.not.ok;\n  };\n\n  /**\n   * ### .equal(actual, expected, [message])\n   *\n   * Asserts non-strict equality (`==`) of `actual` and `expected`.\n   *\n   *     assert.equal(3, '3', '== coerces values to strings');\n   *\n   * @name equal\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.equal = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.equal);\n\n    test.assert(\n        exp == flag(test, 'object')\n      , 'expected #{this} to equal #{exp}'\n      , 'expected #{this} to not equal #{act}'\n      , exp\n      , act\n    );\n  };\n\n  /**\n   * ### .notEqual(actual, expected, [message])\n   *\n   * Asserts non-strict inequality (`!=`) of `actual` and `expected`.\n   *\n   *     assert.notEqual(3, 4, 'these numbers are not equal');\n   *\n   * @name notEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notEqual = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.notEqual);\n\n    test.assert(\n        exp != flag(test, 'object')\n      , 'expected #{this} to not equal #{exp}'\n      , 'expected #{this} to equal #{act}'\n      , exp\n      , act\n    );\n  };\n\n  /**\n   * ### .strictEqual(actual, expected, [message])\n   *\n   * Asserts strict equality (`===`) of `actual` and `expected`.\n   *\n   *     assert.strictEqual(true, true, 'these booleans are strictly equal');\n   *\n   * @name strictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.strictEqual = function (act, exp, msg) {\n    new Assertion(act, msg).to.equal(exp);\n  };\n\n  /**\n   * ### .notStrictEqual(actual, expected, [message])\n   *\n   * Asserts strict inequality (`!==`) of `actual` and `expected`.\n   *\n   *     assert.notStrictEqual(3, '3', 'no coercion for strict equality');\n   *\n   * @name notStrictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notStrictEqual = function (act, exp, msg) {\n    new Assertion(act, msg).to.not.equal(exp);\n  };\n\n  /**\n   * ### .deepEqual(actual, expected, [message])\n   *\n   * Asserts that `actual` is deeply equal to `expected`.\n   *\n   *     assert.deepEqual({ tea: 'green' }, { tea: 'green' });\n   *\n   * @name deepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepEqual = function (act, exp, msg) {\n    new Assertion(act, msg).to.eql(exp);\n  };\n\n  /**\n   * ### .notDeepEqual(actual, expected, [message])\n   *\n   * Assert that `actual` is not deeply equal to `expected`.\n   *\n   *     assert.notDeepEqual({ tea: 'green' }, { tea: 'jasmine' });\n   *\n   * @name notDeepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notDeepEqual = function (act, exp, msg) {\n    new Assertion(act, msg).to.not.eql(exp);\n  };\n\n  /**\n   * ### .isTrue(value, [message])\n   *\n   * Asserts that `value` is true.\n   *\n   *     var teaServed = true;\n   *     assert.isTrue(teaServed, 'the tea has been served');\n   *\n   * @name isTrue\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isTrue = function (val, msg) {\n    new Assertion(val, msg).is['true'];\n  };\n\n  /**\n   * ### .isFalse(value, [message])\n   *\n   * Asserts that `value` is false.\n   *\n   *     var teaServed = false;\n   *     assert.isFalse(teaServed, 'no tea yet? hmm...');\n   *\n   * @name isFalse\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isFalse = function (val, msg) {\n    new Assertion(val, msg).is['false'];\n  };\n\n  /**\n   * ### .isNull(value, [message])\n   *\n   * Asserts that `value` is null.\n   *\n   *     assert.isNull(err, 'there was no error');\n   *\n   * @name isNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNull = function (val, msg) {\n    new Assertion(val, msg).to.equal(null);\n  };\n\n  /**\n   * ### .isNotNull(value, [message])\n   *\n   * Asserts that `value` is not null.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotNull(tea, 'great, time for tea!');\n   *\n   * @name isNotNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotNull = function (val, msg) {\n    new Assertion(val, msg).to.not.equal(null);\n  };\n\n  /**\n   * ### .isUndefined(value, [message])\n   *\n   * Asserts that `value` is `undefined`.\n   *\n   *     var tea;\n   *     assert.isUndefined(tea, 'no tea defined');\n   *\n   * @name isUndefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isUndefined = function (val, msg) {\n    new Assertion(val, msg).to.equal(undefined);\n  };\n\n  /**\n   * ### .isDefined(value, [message])\n   *\n   * Asserts that `value` is not `undefined`.\n   *\n   *     var tea = 'cup of chai';\n   *     assert.isDefined(tea, 'tea has been defined');\n   *\n   * @name isDefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isDefined = function (val, msg) {\n    new Assertion(val, msg).to.not.equal(undefined);\n  };\n\n  /**\n   * ### .isFunction(value, [message])\n   *\n   * Asserts that `value` is a function.\n   *\n   *     function serveTea() { return 'cup of tea'; };\n   *     assert.isFunction(serveTea, 'great, we can have tea now');\n   *\n   * @name isFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isFunction = function (val, msg) {\n    new Assertion(val, msg).to.be.a('function');\n  };\n\n  /**\n   * ### .isNotFunction(value, [message])\n   *\n   * Asserts that `value` is _not_ a function.\n   *\n   *     var serveTea = [ 'heat', 'pour', 'sip' ];\n   *     assert.isNotFunction(serveTea, 'great, we have listed the steps');\n   *\n   * @name isNotFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotFunction = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('function');\n  };\n\n  /**\n   * ### .isObject(value, [message])\n   *\n   * Asserts that `value` is an object (as revealed by\n   * `Object.prototype.toString`).\n   *\n   *     var selection = { name: 'Chai', serve: 'with spices' };\n   *     assert.isObject(selection, 'tea selection is an object');\n   *\n   * @name isObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isObject = function (val, msg) {\n    new Assertion(val, msg).to.be.a('object');\n  };\n\n  /**\n   * ### .isNotObject(value, [message])\n   *\n   * Asserts that `value` is _not_ an object.\n   *\n   *     var selection = 'chai'\n   *     assert.isNotObject(selection, 'tea selection is not an object');\n   *     assert.isNotObject(null, 'null is not an object');\n   *\n   * @name isNotObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotObject = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('object');\n  };\n\n  /**\n   * ### .isArray(value, [message])\n   *\n   * Asserts that `value` is an array.\n   *\n   *     var menu = [ 'green', 'chai', 'oolong' ];\n   *     assert.isArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isArray = function (val, msg) {\n    new Assertion(val, msg).to.be.an('array');\n  };\n\n  /**\n   * ### .isNotArray(value, [message])\n   *\n   * Asserts that `value` is _not_ an array.\n   *\n   *     var menu = 'green|chai|oolong';\n   *     assert.isNotArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isNotArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotArray = function (val, msg) {\n    new Assertion(val, msg).to.not.be.an('array');\n  };\n\n  /**\n   * ### .isString(value, [message])\n   *\n   * Asserts that `value` is a string.\n   *\n   *     var teaOrder = 'chai';\n   *     assert.isString(teaOrder, 'order placed');\n   *\n   * @name isString\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isString = function (val, msg) {\n    new Assertion(val, msg).to.be.a('string');\n  };\n\n  /**\n   * ### .isNotString(value, [message])\n   *\n   * Asserts that `value` is _not_ a string.\n   *\n   *     var teaOrder = 4;\n   *     assert.isNotString(teaOrder, 'order placed');\n   *\n   * @name isNotString\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotString = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('string');\n  };\n\n  /**\n   * ### .isNumber(value, [message])\n   *\n   * Asserts that `value` is a number.\n   *\n   *     var cups = 2;\n   *     assert.isNumber(cups, 'how many cups');\n   *\n   * @name isNumber\n   * @param {Number} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNumber = function (val, msg) {\n    new Assertion(val, msg).to.be.a('number');\n  };\n\n  /**\n   * ### .isNotNumber(value, [message])\n   *\n   * Asserts that `value` is _not_ a number.\n   *\n   *     var cups = '2 cups please';\n   *     assert.isNotNumber(cups, 'how many cups');\n   *\n   * @name isNotNumber\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotNumber = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('number');\n  };\n\n  /**\n   * ### .isBoolean(value, [message])\n   *\n   * Asserts that `value` is a boolean.\n   *\n   *     var teaReady = true\n   *       , teaServed = false;\n   *\n   *     assert.isBoolean(teaReady, 'is the tea ready');\n   *     assert.isBoolean(teaServed, 'has tea been served');\n   *\n   * @name isBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isBoolean = function (val, msg) {\n    new Assertion(val, msg).to.be.a('boolean');\n  };\n\n  /**\n   * ### .isNotBoolean(value, [message])\n   *\n   * Asserts that `value` is _not_ a boolean.\n   *\n   *     var teaReady = 'yep'\n   *       , teaServed = 'nope';\n   *\n   *     assert.isNotBoolean(teaReady, 'is the tea ready');\n   *     assert.isNotBoolean(teaServed, 'has tea been served');\n   *\n   * @name isNotBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.isNotBoolean = function (val, msg) {\n    new Assertion(val, msg).to.not.be.a('boolean');\n  };\n\n  /**\n   * ### .typeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.typeOf({ tea: 'chai' }, 'object', 'we have an object');\n   *     assert.typeOf(['chai', 'jasmine'], 'array', 'we have an array');\n   *     assert.typeOf('tea', 'string', 'we have a string');\n   *     assert.typeOf(/tea/, 'regexp', 'we have a regular expression');\n   *     assert.typeOf(null, 'null', 'we have a null');\n   *     assert.typeOf(undefined, 'undefined', 'we have an undefined');\n   *\n   * @name typeOf\n   * @param {Mixed} value\n   * @param {String} name\n   * @param {String} message\n   * @api public\n   */\n\n  assert.typeOf = function (val, type, msg) {\n    new Assertion(val, msg).to.be.a(type);\n  };\n\n  /**\n   * ### .notTypeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is _not_ `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.notTypeOf('tea', 'number', 'strings are not numbers');\n   *\n   * @name notTypeOf\n   * @param {Mixed} value\n   * @param {String} typeof name\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notTypeOf = function (val, type, msg) {\n    new Assertion(val, msg).to.not.be.a(type);\n  };\n\n  /**\n   * ### .instanceOf(object, constructor, [message])\n   *\n   * Asserts that `value` is an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new Tea('chai');\n   *\n   *     assert.instanceOf(chai, Tea, 'chai is an instance of tea');\n   *\n   * @name instanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @api public\n   */\n\n  assert.instanceOf = function (val, type, msg) {\n    new Assertion(val, msg).to.be.instanceOf(type);\n  };\n\n  /**\n   * ### .notInstanceOf(object, constructor, [message])\n   *\n   * Asserts `value` is not an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new String('chai');\n   *\n   *     assert.notInstanceOf(chai, Tea, 'chai is not an instance of tea');\n   *\n   * @name notInstanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notInstanceOf = function (val, type, msg) {\n    new Assertion(val, msg).to.not.be.instanceOf(type);\n  };\n\n  /**\n   * ### .include(haystack, needle, [message])\n   *\n   * Asserts that `haystack` includes `needle`. Works\n   * for strings and arrays.\n   *\n   *     assert.include('foobar', 'bar', 'foobar contains string \"bar\"');\n   *     assert.include([ 1, 2, 3 ], 3, 'array contains value');\n   *\n   * @name include\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @api public\n   */\n\n  assert.include = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.include).include(inc);\n  };\n\n  /**\n   * ### .notInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` does not include `needle`. Works\n   * for strings and arrays.\n   *i\n   *     assert.notInclude('foobar', 'baz', 'string not include substring');\n   *     assert.notInclude([ 1, 2, 3 ], 4, 'array not include contain value');\n   *\n   * @name notInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notInclude).not.include(inc);\n  };\n\n  /**\n   * ### .match(value, regexp, [message])\n   *\n   * Asserts that `value` matches the regular expression `regexp`.\n   *\n   *     assert.match('foobar', /^foo/, 'regexp matches');\n   *\n   * @name match\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @api public\n   */\n\n  assert.match = function (exp, re, msg) {\n    new Assertion(exp, msg).to.match(re);\n  };\n\n  /**\n   * ### .notMatch(value, regexp, [message])\n   *\n   * Asserts that `value` does not match the regular expression `regexp`.\n   *\n   *     assert.notMatch('foobar', /^foo/, 'regexp does not match');\n   *\n   * @name notMatch\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notMatch = function (exp, re, msg) {\n    new Assertion(exp, msg).to.not.match(re);\n  };\n\n  /**\n   * ### .property(object, property, [message])\n   *\n   * Asserts that `object` has a property named by `property`.\n   *\n   *     assert.property({ tea: { green: 'matcha' }}, 'tea');\n   *\n   * @name property\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.property = function (obj, prop, msg) {\n    new Assertion(obj, msg).to.have.property(prop);\n  };\n\n  /**\n   * ### .notProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property`.\n   *\n   *     assert.notProperty({ tea: { green: 'matcha' }}, 'coffee');\n   *\n   * @name notProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg).to.not.have.property(prop);\n  };\n\n  /**\n   * ### .deepProperty(object, property, [message])\n   *\n   * Asserts that `object` has a property named by `property`, which can be a\n   * string using dot- and bracket-notation for deep reference.\n   *\n   *     assert.deepProperty({ tea: { green: 'matcha' }}, 'tea.green');\n   *\n   * @name deepProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg).to.have.deep.property(prop);\n  };\n\n  /**\n   * ### .notDeepProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property`, which\n   * can be a string using dot- and bracket-notation for deep reference.\n   *\n   *     assert.notDeepProperty({ tea: { green: 'matcha' }}, 'tea.oolong');\n   *\n   * @name notDeepProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notDeepProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg).to.not.have.deep.property(prop);\n  };\n\n  /**\n   * ### .propertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with value given\n   * by `value`.\n   *\n   *     assert.propertyVal({ tea: 'is good' }, 'tea', 'is good');\n   *\n   * @name propertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.propertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg).to.have.property(prop, val);\n  };\n\n  /**\n   * ### .propertyNotVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property`, but with a value\n   * different from that given by `value`.\n   *\n   *     assert.propertyNotVal({ tea: 'is good' }, 'tea', 'is bad');\n   *\n   * @name propertyNotVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.propertyNotVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg).to.not.have.property(prop, val);\n  };\n\n  /**\n   * ### .deepPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with value given\n   * by `value`. `property` can use dot- and bracket-notation for deep\n   * reference.\n   *\n   *     assert.deepPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'matcha');\n   *\n   * @name deepPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg).to.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .deepPropertyNotVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property`, but with a value\n   * different from that given by `value`. `property` can use dot- and\n   * bracket-notation for deep reference.\n   *\n   *     assert.deepPropertyNotVal({ tea: { green: 'matcha' }}, 'tea.green', 'konacha');\n   *\n   * @name deepPropertyNotVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepPropertyNotVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg).to.not.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .lengthOf(object, length, [message])\n   *\n   * Asserts that `object` has a `length` property with the expected value.\n   *\n   *     assert.lengthOf([1,2,3], 3, 'array has length of 3');\n   *     assert.lengthOf('foobar', 5, 'string has length of 6');\n   *\n   * @name lengthOf\n   * @param {Mixed} object\n   * @param {Number} length\n   * @param {String} message\n   * @api public\n   */\n\n  assert.lengthOf = function (exp, len, msg) {\n    new Assertion(exp, msg).to.have.length(len);\n  };\n\n  /**\n   * ### .throws(function, [constructor/string/regexp], [string/regexp], [message])\n   *\n   * Asserts that `function` will throw an error that is an instance of\n   * `constructor`, or alternately that it will throw an error with message\n   * matching `regexp`.\n   *\n   *     assert.throw(fn, 'function throws a reference error');\n   *     assert.throw(fn, /function throws a reference error/);\n   *     assert.throw(fn, ReferenceError);\n   *     assert.throw(fn, ReferenceError, 'function throws a reference error');\n   *     assert.throw(fn, ReferenceError, /function throws a reference error/);\n   *\n   * @name throws\n   * @alias throw\n   * @alias Throw\n   * @param {Function} function\n   * @param {ErrorConstructor} constructor\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @api public\n   */\n\n  assert.Throw = function (fn, errt, errs, msg) {\n    if ('string' === typeof errt || errt instanceof RegExp) {\n      errs = errt;\n      errt = null;\n    }\n\n    var assertErr = new Assertion(fn, msg).to.Throw(errt, errs);\n    return flag(assertErr, 'object');\n  };\n\n  /**\n   * ### .doesNotThrow(function, [constructor/regexp], [message])\n   *\n   * Asserts that `function` will _not_ throw an error that is an instance of\n   * `constructor`, or alternately that it will not throw an error with message\n   * matching `regexp`.\n   *\n   *     assert.doesNotThrow(fn, Error, 'function does not throw');\n   *\n   * @name doesNotThrow\n   * @param {Function} function\n   * @param {ErrorConstructor} constructor\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @api public\n   */\n\n  assert.doesNotThrow = function (fn, type, msg) {\n    if ('string' === typeof type) {\n      msg = type;\n      type = null;\n    }\n\n    new Assertion(fn, msg).to.not.Throw(type);\n  };\n\n  /**\n   * ### .operator(val1, operator, val2, [message])\n   *\n   * Compares two values using `operator`.\n   *\n   *     assert.operator(1, '<', 2, 'everything is ok');\n   *     assert.operator(1, '>', 2, 'this will fail');\n   *\n   * @name operator\n   * @param {Mixed} val1\n   * @param {String} operator\n   * @param {Mixed} val2\n   * @param {String} message\n   * @api public\n   */\n\n  assert.operator = function (val, operator, val2, msg) {\n    if (!~['==', '===', '>', '>=', '<', '<=', '!=', '!=='].indexOf(operator)) {\n      throw new Error('Invalid operator \"' + operator + '\"');\n    }\n    var test = new Assertion(eval(val + operator + val2), msg);\n    test.assert(\n        true === flag(test, 'object')\n      , 'expected ' + util.inspect(val) + ' to be ' + operator + ' ' + util.inspect(val2)\n      , 'expected ' + util.inspect(val) + ' to not be ' + operator + ' ' + util.inspect(val2) );\n  };\n\n  /**\n   * ### .closeTo(actual, expected, delta, [message])\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     assert.closeTo(1.5, 1, 0.5, 'numbers are close');\n   *\n   * @name closeTo\n   * @param {Number} actual\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message\n   * @api public\n   */\n\n  assert.closeTo = function (act, exp, delta, msg) {\n    new Assertion(act, msg).to.be.closeTo(exp, delta);\n  };\n\n  /**\n   * ### .sameMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members.\n   * Order is not taken into account.\n   *\n   *     assert.sameMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'same members');\n   *\n   * @name sameMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @api public\n   */\n\n  assert.sameMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg).to.have.same.members(set2);\n  }\n\n  /**\n   * ### .includeMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset`.\n   * Order is not taken into account.\n   *\n   *     assert.includeMembers([ 1, 2, 3 ], [ 2, 1 ], 'include members');\n   *\n   * @name includeMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @api public\n   */\n\n  assert.includeMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg).to.include.members(subset);\n  }\n\n  /*!\n   * Undocumented / untested\n   */\n\n  assert.ifError = function (val, msg) {\n    new Assertion(val, msg).to.not.be.ok;\n  };\n\n  /*!\n   * Aliases.\n   */\n\n  (function alias(name, as){\n    assert[as] = assert[name];\n    return alias;\n  })\n  ('Throw', 'throw')\n  ('Throw', 'throws');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/chai/lib/chai/interface/assert.js\n// module id = 67\n// module chunks = 0","var should = require(\"chai\").should();\r\n\r\nexports.run = function(SPScript) {\r\n\tdescribe(\"SPScript Context\", function() {\r\n\t\tvar ctx = SPScript.createContext();\r\n\t\tdescribe(\"var ctx = SPScript.createContext(url)\", function() {\r\n\t\t\tit(\"Should create the primary object you use to interact with the site\", function() {\r\n\t\t\t\tif (!ctx) throw new Error(\"Context is null\");\r\n\t\t\t\tctx.should.have.property(\"webUrl\");\r\n\t\t\t\tctx.should.have.property(\"executeRequest\");\r\n\t\t\t\tctx.should.have.property(\"get\");\r\n\t\t\t\tctx.should.have.property(\"post\");\r\n\t\t\t\tctx.should.have.property(\"authorizedPost\");\r\n\t\t\t\tctx.should.have.property(\"lists\");\r\n\t\t\t});\r\n\t\t\tit(\"Should allow a url to be passed in\", function() {\r\n\t\t\t\tvar url = \"http://blah.sharepoint.com\";\r\n\t\t\t\tvar context = SPScript.createContext(url);\r\n\t\t\t\tcontext.webUrl.should.equal(url);\r\n\t\t\t});\r\n\t\t\tit(\"Should default to the current web if no url is passed\", function() {\r\n\t\t\t\tvar context = SPScript.createContext();\r\n\t\t\t\tcontext.webUrl.should.equal(_spPageContextInfo.webAbsoluteUrl);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"Namespaces\", function() {\r\n\t\t\tdescribe(\"ctx.web\", function() {\r\n\t\t\t\tit(\"Should have an SPScript Web object with site methods (getUser, getSubsites etc...)\", function() {\r\n\t\t\t\t\tctx.should.have.property(\"web\");\r\n\t\t\t\t\tctx.web.should.have.property(\"getUser\");\r\n\t\t\t\t\tctx.web.should.have.property(\"getSubsites\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.search\", function() {\r\n\t\t\t\tit(\"Should have an SPScript Search object with search methods (query, people, sites etc...)\", function() {\r\n\t\t\t\t\tctx.search.should.have.property(\"query\");\r\n\t\t\t\t\tctx.search.should.have.property(\"people\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.profiles\", function() {\r\n\t\t\t\tit(\"Should have an SPScript Profiles object with methods to hit the Profile Service (current, setProperty etc...)\", function() {\r\n\t\t\t\t\tctx.should.have.property(\"profiles\");\r\n\t\t\t\t\tctx.profiles.should.have.property(\"get\");\r\n\t\t\t\t\tctx.profiles.should.have.property(\"setProperty\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"Methods\", function() {\r\n\t\t\tdescribe(\"ctx.list(name)\", function() {\r\n\t\t\t\tit(\"Should return an SPScript List instance\", function() {\r\n\t\t\t\t\tvar list = ctx.lists(\"My List\");\r\n\t\t\t\t\tlist.should.have.property(\"listName\");\r\n\t\t\t\t\tlist.should.have.property(\"getInfo\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tdescribe(\"ctx.get(url, [opts])\", function() {\r\n\t\t\t\tvar promise;\r\n\t\t\t\tbefore(function() {\r\n\t\t\t\t\tpromise = ctx.get(\"/lists?$select=Title\");\r\n\t\t\t\t});\r\n\t\t\t\tit(\"Should return a Promise\", function() {\r\n\t\t\t\t\tif (!promise) throw new Error(\"Promise is null\");\r\n\t\t\t\t\tpromise.should.have.property(\"then\");\r\n\t\t\t\t});\r\n\t\t\t\tit(\"Should resolve to a JS object, not a JSON string\", function(\r\n\t\t\t\t\tdone\r\n\t\t\t\t) {\r\n\t\t\t\t\tpromise\r\n\t\t\t\t\t\t.then(function(data) {\r\n\t\t\t\t\t\t\tdata.should.have.property(\"d\");\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => done(err));\r\n\t\t\t\t});\r\n\t\t\t\tit(\"Should return valid API results: ctx.get('/lists')\", function(\r\n\t\t\t\t\tdone\r\n\t\t\t\t) {\r\n\t\t\t\t\tpromise\r\n\t\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\t\tdata.should.have.property(\"d\");\r\n\t\t\t\t\t\t\tdata.d.should.have.property(\"results\");\r\n\t\t\t\t\t\t\tdata.d.results.should.be.an(\"array\");\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => done(err));\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.post(url, [body], [opts]\", function() {\r\n\t\t\t\tit(\"Should return a Promise\");\r\n\t\t\t\tit(\"Should resolve to a JS object, not a JSON string\");\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.authorizedPost(url, [body], [opts]\", function() {\r\n\t\t\t\tit(\"Should include a request digest in the headers\");\r\n\t\t\t\tit(\"Should return a Promise\");\r\n\t\t\t\tit(\"Should resolve to a JS object, not a JSON string\");\r\n\t\t\t});\r\n\r\n\t\t\tdescribe(\"ctx.getRequestDigest()\", function() {\r\n\t\t\t\tit(\"Should resolve to a string request digest\", function(done) {\r\n\t\t\t\t\tctx.getRequestDigest().then(function(digest) {\r\n\t\t\t\t\t\tdigest.should.be.a(\"string\");\r\n\t\t\t\t\t\tdigest.should.not.be.empty;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/contextTests.js","var permissionsTests = require(\"./permissionTests.js\");\r\nvar should = require(\"chai\").should();\r\n\r\nexports.run = function(dao) {\r\n\tdescribe(\"var web = ctx.web\", function() {\r\n\t\tthis.timeout(5000);\r\n\t\tdescribe(\"ctx.web.getInfo()\", function() {\r\n\t\t\tit(\"Should return a promise that resolves to web info\", function(done) {\r\n\t\t\t\tdao.web\r\n\t\t\t\t\t.getInfo()\r\n\t\t\t\t\t.then(function(webInfo) {\r\n\t\t\t\t\t\twebInfo.should.have.property(\"Url\");\r\n\t\t\t\t\t\twebInfo.should.have.property(\"Title\");\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.web.getSubsites()\", function() {\r\n\t\t\tit(\"Should return a promise that resolves to an array of subsite web infos.\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.web.getSubsites().then(function(subsites) {\r\n\t\t\t\t\tsubsites.should.be.an(\"array\");\r\n\t\t\t\t\tif (subsites.length) {\r\n\t\t\t\t\t\tsubsites[0].should.have.property(\"Title\");\r\n\t\t\t\t\t\tsubsites[0].should.have.property(\"ServerRelativeUrl\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// var folderPath = \"/shared documents\";\r\n\t\t// describe(\"web.getFolder(serverRelativeUrl)\", function() {\r\n\t\t//     var folder = null;\r\n\t\t//     before(function(done) {\r\n\t\t//         dao.web.getFolder(folderPath).then(function(result) {\r\n\t\t//             folder = result;\r\n\t\t//             done();\r\n\t\t//         });\r\n\t\t//     });\r\n\t\t//     it(\"Should return a promise that resolves to a folder with files and folders\", function() {\r\n\t\t//         folder.should.be.an(\"object\");\r\n\t\t//         folder.should.have.property(\"name\");\r\n\t\t//         folder.should.have.property(\"serverRelativeUrl\");\r\n\t\t//         folder.should.have.property(\"files\");\r\n\t\t//         folder.files.should.be.an(\"array\");\r\n\t\t//         folder.should.have.property(\"folders\");\r\n\t\t//         folder.folders.should.be.an(\"array\");\r\n\t\t//     });\r\n\t\t// });\r\n\r\n\t\tdescribe(\"ctx.web.getUser()\", function() {\r\n\t\t\tvar user = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.web.getUser().then(function(result) {\r\n\t\t\t\t\tuser = result;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to a user object\", function() {\r\n\t\t\t\tuser.should.not.be.null;\r\n\t\t\t\tuser.should.have.property(\"Id\");\r\n\t\t\t\tuser.should.have.property(\"LoginName\");\r\n\t\t\t\tuser.should.have.property(\"Email\");\r\n\t\t\t});\r\n\t\t\tit(\"Should return the current user\", function() {\r\n\t\t\t\tuser.should.have.property(\"Id\");\r\n\t\t\t\tif (typeof window !== \"undefined\" && window._spPageContextInfo) {\r\n\t\t\t\t\tuser.Id.should.equal(_spPageContextInfo.userId);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.web.getUser(email)\", function() {\r\n\t\t\tvar email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n\t\t\tvar user = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.web.getUser(email).then(function(result) {\r\n\t\t\t\t\tuser = result;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return a promise that resolves to a user object\", function() {\r\n\t\t\t\tuser.should.not.be.null;\r\n\t\t\t\tuser.should.have.property(\"Id\");\r\n\t\t\t\tuser.should.have.property(\"LoginName\");\r\n\t\t\t\tuser.should.have.property(\"Email\");\r\n\t\t\t});\r\n\t\t\tit(\"Should return a user whose email matches the specified email\", function() {\r\n\t\t\t\tuser.should.have.property(\"Email\");\r\n\t\t\t\tuser.Email.should.equal(email);\r\n\t\t\t});\r\n\t\t});\r\n\t\tvar folderUrl = \"/spscript/Shared Documents\";\r\n\t\tvar filename = \"testfile.txt\";\r\n\t\tvar fileUrl = folderUrl + \"/\" + filename;\r\n\r\n\t\t// describe(\"web.uploadFile(fileContent, serverRelativeFolderUrl)\", function() {\r\n\t\t//     var fileContent = \"file content\";\r\n\t\t//     var fileTitle = \"test title\";\r\n\t\t//     var response = null;\r\n\t\t//     before(function(done){\r\n\t\t//         dao.web.uploadFile(fileContent, folderUrl, { name: filename, Title: fileTitle})\r\n\t\t//             .then(function(data){\r\n\t\t//                 response = data;\r\n\t\t//                 done();\r\n\t\t//             })\r\n\t\t//     })\r\n\t\t//     it(\"Should return a promise that resolves to an object with file and item\", function() {\r\n\t\t//         response.should.not.be.null;\r\n\t\t//         response.should.have.property(\"file\");\r\n\t\t//         response.should.have.property(\"item\");\r\n\t\t//         response.file.should.have.property(\"ServerRelativeUrl\");\r\n\t\t//     });\r\n\t\t//     it(\"Should return an item that has the parent list expanded\", function() {\r\n\t\t//         response.item.should.have.property(\"Id\");\r\n\t\t//         response.item.should.have.property(\"ParentList\");\r\n\t\t//         response.item.ParentList.should.have.property(\"Title\");\r\n\t\t//     })\r\n\t\t//     it(\"Should save the file to the right location\", function() {\r\n\t\t//         response.file.ServerRelativeUrl.toLowerCase().should.equal(fileUrl.toLowerCase());\r\n\t\t//     });\r\n\t\t//     it(\"Should allow setting fields after the upload completes\", function(done) {\r\n\t\t//         dao.lists(response.item.ParentList.Title).getItemById(response.item.Id).then(function(retrievedItem){\r\n\t\t//             retrievedItem.should.have.property(\"Title\");\r\n\t\t//             retrievedItem.Title.should.equal(fileTitle);\r\n\t\t//             done();\r\n\t\t//         })\r\n\t\t//     })\r\n\t\t// })\r\n\r\n\t\tdescribe(\"ctx.web.getFile(serverRelativeFileUrl)\", function() {\r\n\t\t\tvar file = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.web.getFile(fileUrl).then(function(result) {\r\n\t\t\t\t\tfile = result;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to a file object\", function() {\r\n\t\t\t\tfile.should.not.be.null;\r\n\t\t\t\tfile.should.property(\"CheckOutType\");\r\n\t\t\t\tfile.should.property(\"ETag\");\r\n\t\t\t\tfile.should.property(\"Exists\");\r\n\t\t\t\tfile.should.property(\"TimeLastModified\");\r\n\t\t\t\tfile.should.property(\"Name\");\r\n\t\t\t\tfile.should.property(\"UIVersionLabel\");\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tvar destinationUrl = \"/spscript/Shared%20Documents/testfile2.txt\";\r\n\t\tdescribe(\"ctx.web.copyFile(serverRelativeSourceUrl, serverRelativeDestUrl)\", function() {\r\n\t\t\tvar startTestTime = new Date();\r\n\t\t\tvar file = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.web\r\n\t\t\t\t\t.copyFile(fileUrl, destinationUrl)\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\treturn dao.web.getFile(destinationUrl);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\tfile = result;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(resp) {\r\n\t\t\t\t\t\t\"one\".should.equal(\"two\", \"Error in CopyFile requst\");\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise, and once resolved, the new (copied) file should be retrievable.\", function() {\r\n\t\t\t\tfile.should.not.be.null;\r\n\t\t\t\tfile.should.property(\"CheckOutType\");\r\n\t\t\t\tfile.should.property(\"ETag\");\r\n\t\t\t\tfile.should.property(\"Exists\");\r\n\t\t\t\tfile.should.property(\"TimeLastModified\");\r\n\t\t\t\tfile.should.property(\"Name\");\r\n\t\t\t\tfile.should.property(\"UIVersionLabel\");\r\n\t\t\t\t// var modified = new Date(file[\"TimeLastModified\"])\r\n\t\t\t\t// modified.should.be.above(startTestTime);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// describe(\"web.deleteFile(serverRelativeFileUrl)\", function() {\r\n\t\t//     var file = null;\r\n\t\t//     it(\"Ensure there is a file to delete.\", function(done){\r\n\t\t//         dao.web.getFile(destinationUrl).then(function(result){\r\n\t\t//             result.should.not.be.null;\r\n\t\t//             result.should.have.property(\"Name\");\r\n\t\t//             done();\r\n\t\t//         });\r\n\t\t//     })\r\n\r\n\t\t//     it(\"Should return a promise, and once resolved, the file should NOT be retrievable\", function(done){\r\n\t\t//         dao.web.deleteFile(destinationUrl).then(function(result){\r\n\t\t//             dao.web.getFile(destinationUrl)\r\n\t\t//                 .then(function(){\r\n\t\t//                     // the call to get file succeeded so for a a failure\r\n\t\t//                     (\"one\").should.equal(\"two\");\r\n\t\t//                     done();\r\n\t\t//                 })\r\n\t\t//                 .catch(function(){\r\n\t\t//                     done();\r\n\t\t//                     // call to get file failed as expected because file is gone\r\n\t\t//                 })\r\n\t\t//         })\r\n\t\t//     })\r\n\t\t// });\r\n\r\n\t\tdescribe(\"ctx.web.permissions.getRoleAssignments()\", permissionsTests.create(dao.web));\r\n\r\n\t\tif (isBrowser()) {\r\n\t\t\tdescribe(\"ctx.web.permissions.check()\", permissionsTests.create(dao.web, \"check\"));\r\n\t\t}\r\n\r\n\t\tdescribe(\r\n\t\t\t\"ctx.web.permissions.check(email)\",\r\n\t\t\tpermissionsTests.create(dao.web, \"check\", \"andrew@andrewpetersen.onmicrosoft.com\")\r\n\t\t);\r\n\t});\r\n};\r\n\r\nfunction isBrowser() {\r\n\treturn !(typeof window === \"undefined\");\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/webTests.js","var permissionsTests = require(\"./permissionTests.js\");\r\nvar should = require(\"chai\").should();\r\n\r\nexports.run = function(dao) {\r\n\tdescribe(\"var list = ctx.lists(listname)\", function() {\r\n\t\tthis.timeout(4000);\r\n\t\tvar list = dao.lists(\"TestList\");\r\n\t\tdescribe(\"list.info()\", function() {\r\n\t\t\tvar listInfo = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.getInfo().then(function(info) {\r\n\t\t\t\t\tlistInfo = info;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to list info\", function() {\r\n\t\t\t\tlistInfo.should.be.an(\"object\");\r\n\t\t\t});\r\n\t\t\tit(\"Should bring back list info like Title, ItemCount, and ListItemEntityTypeFullName\", function() {\r\n\t\t\t\tlistInfo.should.have.property(\"Title\");\r\n\t\t\t\tlistInfo.should.have.property(\"ItemCount\");\r\n\t\t\t\tlistInfo.should.have.property(\"ListItemEntityTypeFullName\");\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.getItems()\", function() {\r\n\t\t\tvar items = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.getItems().then(function(results) {\r\n\t\t\t\t\titems = results;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return a promise that resolves to an array of items\", function() {\r\n\t\t\t\titems.should.be.an(\"array\");\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return all the items in the list\", function(done) {\r\n\t\t\t\tlist.getInfo().then(function(listInfo) {\r\n\t\t\t\t\titems.length.should.equal(listInfo.ItemCount);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.getItems(odata)\", function() {\r\n\t\t\t//Get items where BoolColumn == TRUE\r\n\t\t\tvar odata = \"$filter=MyStatus eq 'Green'\";\r\n\t\t\tvar items = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.getItems(odata).then(function(results) {\r\n\t\t\t\t\titems = results;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to an array of items\", function() {\r\n\t\t\t\titems.should.be.an(\"array\");\r\n\t\t\t});\r\n\t\t\tit(\"Should return only items that match the OData params\", function() {\r\n\t\t\t\titems.forEach(function(item) {\r\n\t\t\t\t\titem.should.have.property(\"MyStatus\");\r\n\t\t\t\t\titem.MyStatus.should.equal(\"Green\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.getItemById(id)\", function() {\r\n\t\t\tvar item = null;\r\n\t\t\tvar validId = -1;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.getItems()\r\n\t\t\t\t\t.then(function(allItems) {\r\n\t\t\t\t\t\tvalidId = allItems[0].Id;\r\n\t\t\t\t\t\treturn validId;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(id) {\r\n\t\t\t\t\t\treturn list.getItemById(id);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\titem = result;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to a single item\", function() {\r\n\t\t\t\titem.should.be.an(\"object\");\r\n\t\t\t\titem.should.have.property(\"Title\");\r\n\t\t\t});\r\n\t\t\tit(\"Should resolve an item with a matching ID\", function() {\r\n\t\t\t\titem.should.have.property(\"Id\");\r\n\t\t\t\titem.Id.should.equal(validId);\r\n\t\t\t});\r\n\t\t\tit(\"Should be able to return attachments using the optional odata query\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tlist.getItemById(validId, \"$expand=AttachmentFiles\").then(function(item) {\r\n\t\t\t\t\titem.should.have.property(\"AttachmentFiles\");\r\n\t\t\t\t\titem.AttachmentFiles.should.have.property(\"results\");\r\n\t\t\t\t\titem.AttachmentFiles.results.should.be.an(\"Array\");\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.findItems(key, value)\", function() {\r\n\t\t\tvar matches = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.findItems(\"MyStatus\", \"Green\").then(function(results) {\r\n\t\t\t\t\tmatches = results;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to an array of list items\", function() {\r\n\t\t\t\tmatches.should.be.an(\"array\");\r\n\t\t\t\tmatches.should.not.be.empty;\r\n\t\t\t});\r\n\t\t\tit(\"Should only bring back items the match the key value query\", function() {\r\n\t\t\t\tmatches.forEach(function(item) {\r\n\t\t\t\t\titem.should.have.property(\"MyStatus\");\r\n\t\t\t\t\titem.MyStatus.should.equal(\"Green\");\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t\tdescribe(\"list.findItem(key, value)\", function() {\r\n\t\t\tvar match = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.findItem(\"MyStatus\", \"Green\").then(function(result) {\r\n\t\t\t\t\tmatch = result;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should resolve to one list item\", function() {\r\n\t\t\t\tmatch.should.be.an(\"object\");\r\n\t\t\t});\r\n\t\t\tit(\"Should only bring back an item if it matches the key value query\", function() {\r\n\t\t\t\tmatch.should.have.property(\"MyStatus\");\r\n\t\t\t\tmatch.MyStatus.should.equal(\"Green\");\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.addItem()\", function() {\r\n\t\t\tvar newItem = {\r\n\t\t\t\tTitle: \"Test Created Item\",\r\n\t\t\t\tMyStatus: \"Red\"\r\n\t\t\t};\r\n\t\t\tvar insertedItem = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.addItem(newItem)\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\tinsertedItem = result;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves with the new list item\", function() {\r\n\t\t\t\tinsertedItem.should.not.be.null;\r\n\t\t\t\tinsertedItem.should.be.an(\"object\");\r\n\t\t\t\tinsertedItem.should.have.property(\"Id\");\r\n\t\t\t});\r\n\t\t\tit(\"Should save the item right away so it can be queried.\", function() {\r\n\t\t\t\tlist.getItemById(insertedItem.Id).then(function(foundItem) {\r\n\t\t\t\t\tfoundItem.should.not.be.null;\r\n\t\t\t\t\tfoundItem.should.have.property(\"Title\");\r\n\t\t\t\t\tfoundItem.Title.should.equal(newItem.Title);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should throw an error if a invalid field is set\", function(done) {\r\n\t\t\t\tnewItem.InvalidColumn = \"test\";\r\n\t\t\t\tlist\r\n\t\t\t\t\t.addItem(newItem)\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\t//supposed to fail\r\n\t\t\t\t\t\t\"one\".should.equal(\"two\");\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(xhr, status, msg) {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// var itemIdWithAttachment = null;\r\n\t\t// var attachmentFilename = \"testAttachment.txt\";\r\n\t\t// var attachmentContent = \"test content\";\r\n\r\n\t\t// describe(\"list.addAttachment(id, filename, content)\", function() {\r\n\r\n\t\t//     before(function(done) {\r\n\t\t//         list.getItems(\"$orderby=Id\").then(function(items) {\r\n\t\t//             itemIdWithAttachment = items[items.length - 1].Id;\r\n\t\t//             return list.addAttachment(itemIdWithAttachment, attachmentFilename, attachmentContent);\r\n\t\t//         }).then(function() {\r\n\t\t//             done();\r\n\t\t//         });\r\n\t\t//     });\r\n\t\t//     it(\"Should add an attachment file to the list item\", function(done) {\r\n\t\t//         list.getItemById(itemIdWithAttachment, \"$expand=AttachmentFiles\").then(function(item){\r\n\t\t//             item.should.have.property('AttachmentFiles');\r\n\t\t//             item.AttachmentFiles.should.have.property('results');\r\n\t\t//             item.AttachmentFiles.results.should.be.an('Array');\r\n\t\t//             item.AttachmentFiles.results.should.not.be.empty;\r\n\t\t//             done();\r\n\t\t//         });\r\n\t\t//     })\r\n\t\t// });\r\n\r\n\t\t// describe(\"list.deleteAttachment(id, filename)\", function() {\r\n\t\t//     var getAttachment = function(id, filename) {\r\n\t\t//         return list.getItemById(itemIdWithAttachment, \"$expand=AttachmentFiles\").then(function(item){\r\n\t\t//             var attachments = item.AttachmentFiles.results;\r\n\t\t//             return attachments.find(function(a) { return a.FileName === attachmentFilename});\r\n\t\t//         });\r\n\t\t//     };\r\n\t\t//     before(function(done) {\r\n\t\t//         getAttachment(itemIdWithAttachment, attachmentFilename).then(function(attachment) {\r\n\t\t//             if (attachment) {\r\n\t\t//                 return list.deleteAttachment(itemIdWithAttachment, attachmentFilename);\r\n\t\t//             }\r\n\t\t//             return false;\r\n\t\t//         }).then(function(){\r\n\t\t//             done();\r\n\t\t//         }).catch(function(res) {\r\n\t\t//             done();\r\n\t\t//             console.log(\"REQUEST ERROR\")\r\n\t\t//         });\r\n\t\t//     });\r\n\t\t//     it(\"Should delete the attachment\", function(done) {\r\n\t\t//         getAttachment(itemIdWithAttachment, attachmentFilename).then(function(attachment) {\r\n\t\t//             if (attachment) (\"attachment\").should.equal(\"null\");\r\n\t\t//             done();\r\n\t\t//         });\r\n\t\t//     })\r\n\t\t// });\r\n\r\n\t\tdescribe(\"list.deleteItem(id)\", function() {\r\n\t\t\tvar itemToDelete = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.getItems(\"$orderby=Id\")\r\n\t\t\t\t\t.then(function(items) {\r\n\t\t\t\t\t\titemToDelete = items[items.length - 1];\r\n\t\t\t\t\t\treturn list.deleteItem(itemToDelete.Id);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should delete that item\", function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.getItemById(itemToDelete.Id)\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\tthrow \"Should have failed because item has been deleted\";\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function() {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should reject the promise if the item id can not be found\", function(done) {\r\n\t\t\t\tlist\r\n\t\t\t\t\t.deleteItem(99999999)\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\tthrow \"Should have failed because id doesnt exist\";\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function() {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.updateItem()\", function() {\r\n\t\t\tvar itemToUpdate = null;\r\n\t\t\tvar updates = {\r\n\t\t\t\tTitle: \"Updated Title\"\r\n\t\t\t};\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tlist.getItems(\"$orderby=Id desc\").then(function(items) {\r\n\t\t\t\t\titemToUpdate = items[items.length - 1];\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise\", function(done) {\r\n\t\t\t\tlist.updateItem(itemToUpdate.Id, updates).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should update only the properties that were passed\", function(done) {\r\n\t\t\t\tlist.getItemById(itemToUpdate.Id).then(function(item) {\r\n\t\t\t\t\titem.should.have.property(\"Title\");\r\n\t\t\t\t\titem.Title.should.equal(updates.Title);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"list.permissions.getRoleAssignments()\", permissionsTests.create(list));\r\n\r\n\t\tif (isBrowser()) {\r\n\t\t\tdescribe(\"list.permissions.check()\", permissionsTests.create(list, \"check\"));\r\n\t\t}\r\n\r\n\t\tdescribe(\r\n\t\t\t\"list.permissions.check(email)\",\r\n\t\t\tpermissionsTests.create(list, \"check\", \"andrew@andrewpetersen.onmicrosoft.com\")\r\n\t\t);\r\n\t});\r\n};\r\n\r\nfunction isBrowser() {\r\n\treturn !(typeof window === \"undefined\");\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/listTests.js","exports.run = function(dao) {\r\n\tdescribe(\"ctx.customActions\", function() {\r\n\t\tthis.timeout(10000);\r\n\r\n\t\tvar customAction = {\r\n\t\t\tName: \"spscript-test\",\r\n\t\t\tLocation: \"ScriptLink\",\r\n\t\t\tScriptBlock: \"console.log('deployed from spscript-mocha test');\"\r\n\t\t};\r\n\t\tdescribe(\"ctx.customActions.add(customAction)\", function() {\r\n\t\t\tvar beforeCount = 0;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.get().then(function(all) {\r\n\t\t\t\t\tbeforeCount = all.length;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a Custom Action with the given name\", function(done) {\r\n\t\t\t\tdao.customActions.add(customAction).then(function() {\r\n\t\t\t\t\tdao.customActions.get().then(function(all) {\r\n\t\t\t\t\t\tall.length.should.equal(beforeCount + 1);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should not add duplicate Custom Action names. It should remove old one first.\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.add(customAction).then(function() {\r\n\t\t\t\t\tdao.customActions.get().then(function(all) {\r\n\t\t\t\t\t\tall.length.should.equal(beforeCount + 1);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.get()\", function() {\r\n\t\t\tvar results = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.get().then(function(data) {\r\n\t\t\t\t\tresults = data;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return a promise that resolves to an array of custom actions\", function() {\r\n\t\t\t\tresults.should.be.an(\"array\");\r\n\t\t\t\tresults.should.not.be.empty;\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should bring back properties like Name, Url, and Location\", function() {\r\n\t\t\t\tvar firstItem = results[0];\r\n\t\t\t\tfirstItem.should.have.property(\"Name\");\r\n\t\t\t\tfirstItem.should.have.property(\"Url\");\r\n\t\t\t\tfirstItem.should.have.property(\"Location\");\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.get(name)\", function() {\r\n\t\t\tvar result = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.get().then(function(allCustomActions) {\r\n\t\t\t\t\tdao.customActions.get(allCustomActions[0].Name).then(function(res) {\r\n\t\t\t\t\t\tresult = res;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return one object w/ properties like Name, Location, Url, Id\", function() {\r\n\t\t\t\tresult.should.not.be.null;\r\n\t\t\t\tresult.should.have.property(\"Name\");\r\n\t\t\t\tresult.should.have.property(\"Location\");\r\n\t\t\t\tresult.should.have.property(\"Id\");\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should reject the promise with a decent error if the Custom Action name is not found\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions\r\n\t\t\t\t\t.get(\"INVALID-NAME\")\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\t\"one\".should.equal(\"two\");\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.update(updates)\", function() {\r\n\t\t\tvar result = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.get(customAction.Name).then(function(ca) {\r\n\t\t\t\t\tresult = ca;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tvar newTitle = \"updated title - \" + Date.now();\r\n\t\t\tit(\"Should update the property\", function(done) {\r\n\t\t\t\tdao.customActions.update({ Name: result.Name, Title: newTitle }).then(function() {\r\n\t\t\t\t\tdao.customActions.get(result.Name).then(function(i) {\r\n\t\t\t\t\t\ti.Title.should.equal(newTitle);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"dao.customActions.remove(name)\", function() {\r\n\t\t\tvar beforeCount = 0;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions\r\n\t\t\t\t\t.get()\r\n\t\t\t\t\t.then(function(all) {\r\n\t\t\t\t\t\tbeforeCount = all.filter(function(a) {\r\n\t\t\t\t\t\t\treturn a.Name === customAction.Name;\r\n\t\t\t\t\t\t}).length;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should remove all custom actions with that name\", function(done) {\r\n\t\t\t\tdao.customActions.remove(customAction.Name).then(function() {\r\n\t\t\t\t\tdao.customActions.get().then(function(all) {\r\n\t\t\t\t\t\tvar matches = all.filter(function(a) {\r\n\t\t\t\t\t\t\treturn a.Name === customAction.Name;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tmatches.should.be.empty();\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.addScriptLink(name, url)\", function() {\r\n\t\t\tvar jsUrl = \"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js\";\r\n\t\t\tvar caName = \"SPScriptJSTest-Web\";\r\n\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.addScriptLink(caName, jsUrl).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a custom action with that name and ScriptBlock with specified URL\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.get(caName).then(function(ca) {\r\n\t\t\t\t\tca.should.have.property(\"Name\");\r\n\t\t\t\t\tca.Name.should.equal(caName);\r\n\t\t\t\t\tca.should.have.property(\"ScriptBlock\");\r\n\t\t\t\t\tca.ScriptBlock.should.contain(jsUrl);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tafter(function(done) {\r\n\t\t\t\tdao.customActions.remove(caName).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.addScriptLink(name, url, opts)\", function() {\r\n\t\t\tvar jsUrl = \"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js\";\r\n\t\t\tvar caName = \"SPScriptJSTest-Site\";\r\n\t\t\tvar opts = { Sequence: 25, Group: \"Custom Group\" };\r\n\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.addScriptLink(caName, jsUrl, opts).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a custom action with that name and ScriptBlock with specified URL\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.get(caName).then(function(ca) {\r\n\t\t\t\t\tca.should.have.property(\"Name\");\r\n\t\t\t\t\tca.Name.should.equal(caName);\r\n\t\t\t\t\tca.should.have.property(\"ScriptBlock\");\r\n\t\t\t\t\tca.ScriptBlock.should.contain(jsUrl);\r\n\t\t\t\t\tca.should.have.property(\"Group\");\r\n\t\t\t\t\tca.Group.should.equal(opts.Group);\r\n\t\t\t\t\tca.should.have.property(\"Sequence\");\r\n\t\t\t\t\tca.Sequence.should.equal(25);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tafter(function(done) {\r\n\t\t\t\tdao.customActions.remove(caName).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.addCSSLink(name, url)\", function() {\r\n\t\t\tvar cssUrl = \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\";\r\n\t\t\tvar caName = \"SPScriptCSSTest-Web\";\r\n\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.addCSSLink(caName, cssUrl).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a custom action with that name and ScriptBlock containing specified URL\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.get(caName).then(function(ca) {\r\n\t\t\t\t\tca.should.have.property(\"Name\");\r\n\t\t\t\t\tca.Name.should.equal(caName);\r\n\t\t\t\t\tca.should.have.property(\"ScriptBlock\");\r\n\t\t\t\t\tca.ScriptBlock.should.contain(cssUrl);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tafter(function(done) {\r\n\t\t\t\tdao.customActions.remove(caName).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.customActions.addCSSLink(name, url, opts)\", function() {\r\n\t\t\tvar cssUrl = \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\";\r\n\t\t\tvar caName = \"SPScriptCSSTest-Site\";\r\n\t\t\tvar opts = { Sequence: 50, Group: \"Custom Group\" };\r\n\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.customActions.addCSSLink(caName, cssUrl, opts).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should add a custom action with that name and ScriptBlock containing specified URL with Site scope\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tdao.customActions.get(caName).then(function(ca) {\r\n\t\t\t\t\tca.should.have.property(\"Name\");\r\n\t\t\t\t\tca.Name.should.equal(caName);\r\n\t\t\t\t\tca.should.have.property(\"ScriptBlock\");\r\n\t\t\t\t\tca.ScriptBlock.should.contain(cssUrl);\r\n\t\t\t\t\tca.should.have.property(\"Group\");\r\n\t\t\t\t\tca.Group.should.equal(opts.Group);\r\n\t\t\t\t\tca.should.have.property(\"Sequence\");\r\n\t\t\t\t\tca.Sequence.should.equal(50);\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tafter(function(done) {\r\n\t\t\t\tdao.customActions.remove(caName).then(function() {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/customActionTests.js","var should = require(\"chai\").should();\r\n\r\nexports.run = function(dao) {\r\n    describe(\"var search = ctx.search;\", function() {\r\n        this.timeout(5000);\r\n        describe(\"ctx.search.query(queryText)\", function() {\r\n            it(\"Should return promise that resolves to a SearchResults object\", function(done) {\r\n                var queryText = \"andrew\";\r\n                dao.search.query(queryText).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"resultsCount\");\r\n                    searchResults.should.have.property(\"totalResults\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.should.have.property(\"refiners\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty;\r\n                    done();\r\n                });\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.search.query(queryText, queryOptions)\", function() {\r\n            it(\"Should obey the extra query options that were passed\", function(done) {\r\n                var queryText = \"andrew\";\r\n                var options = {\r\n                    rowLimit: 1\r\n                };\r\n                dao.search.query(queryText, options).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"resultsCount\");\r\n                    searchResults.should.have.property(\"totalResults\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.should.have.property(\"refiners\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty;\r\n                    searchResults.items.length.should.equal(1);\r\n                    done();\r\n                });\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.search.query(queryText, queryOptions) - w/ Refiners\", function() {\r\n            it(\"Should return SearchResults that include a refiners array\", function(done) {\r\n                var refinerName = \"FileType\";\r\n                var queryText = \"andrew\";\r\n                var options = {\r\n                    refiners: refinerName\r\n                };\r\n                dao.search.query(queryText, options).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"refiners\");\r\n                    searchResults.refiners.should.not.be.empty;\r\n                    var firstRefiner = searchResults.refiners[0];\r\n                    firstRefiner.should.have.property(\"RefinerName\");\r\n                    firstRefiner.should.have.property(\"RefinerOptions\");\r\n                    firstRefiner.RefinerName.should.equal(refinerName);\r\n                    firstRefiner.RefinerOptions.should.be.an(\"array\");\r\n                    done();\r\n                });\r\n            });\r\n        });\r\n        describe(\"ctx.search.people(queryText)\", function() {\r\n            it(\"Should only return search results that are people\", function(done) {\r\n                var queryText = \"andrew\";\r\n                dao.search.people(queryText).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty;\r\n\r\n                    var person = searchResults.items[0];\r\n                    person.should.have.property(\"AccountName\")\r\n                    person.should.have.property(\"PreferredName\")\r\n                    person.should.have.property(\"AboutMe\")\r\n                    person.should.have.property(\"WorkEmail\")\r\n                    person.should.have.property(\"PictureURL\")\r\n                    done();\r\n                })\r\n            });\r\n        });\r\n\r\n        describe(\"ctx.search.sites(queryText, scope)\", function() {\r\n            it(\"Should only return search results that are sites\", function(done) {\r\n                var queryText = \"\";\r\n                dao.search.sites(queryText).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty();\r\n                    \r\n                    var site;\r\n                    for(var i = 0; i < searchResults.items.length; i++) {\r\n                        site = searchResults.items[i];\r\n                        site.should.have.property(\"Path\");\r\n                        site.should.have.property(\"contentclass\");\r\n                        site.contentclass.should.equal(\"STS_Web\");\r\n                    }\r\n\r\n                    done();\r\n                })\r\n            });\r\n\r\n            it(\"Should only return sites underneath the specified scope\", function(done){\r\n                var scope = \"https://andrewpetersen.sharepoint.com/sites/ep\";\r\n                dao.search.sites(\"\", scope).then(function(searchResults) {\r\n                    searchResults.should.be.an(\"object\");\r\n                    searchResults.should.have.property(\"items\");\r\n                    searchResults.items.should.be.an(\"array\");\r\n                    searchResults.items.should.not.be.empty();\r\n                    \r\n                    var site;\r\n                    for(var i = 0; i < searchResults.items.length; i++) {\r\n                        site = searchResults.items[i];\r\n                        site.should.have.property(\"Path\");\r\n                        site.Path.indexOf(scope).should.equal(0);\r\n                        site.should.have.property(\"contentclass\");\r\n                        site.contentclass.should.equal(\"STS_Web\");\r\n                    }\r\n\r\n                    done();\r\n                })\r\n            })\r\n        });\r\n    })\r\n\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/searchTests.js","var should = require(\"chai\").should();\r\n\r\nexports.run = function(dao) {\r\n\tdescribe(\"var profiles = ctx.profiles\", function() {\r\n\t\tthis.timeout(5000);\r\n\r\n\t\tdescribe(\"ctx.profiles.current()\", function() {\r\n\t\t\tvar profile = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.profiles.current().then(function(result) {\r\n\t\t\t\t\tprofile = result;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return a promise that resolves to a profile properties object\", function() {\r\n\t\t\t\tprofile.should.be.an(\"object\");\r\n\t\t\t\tprofile.should.have.property(\"AccountName\");\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.should.have.property(\"PreferredName\");\r\n\t\t\t});\r\n\t\t\tit(\"Should return the profile of the current user\", function() {\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.Email.should.equal(_spPageContextInfo.userEmail);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.profiles.get()\", function() {\r\n\t\t\tvar profile = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.profiles.get().then(function(result) {\r\n\t\t\t\t\tprofile = result;\r\n\t\t\t\t\tdone();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to a profile properties object\", function() {\r\n\t\t\t\tprofile.should.be.an(\"object\");\r\n\t\t\t\tprofile.should.have.property(\"AccountName\");\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.should.have.property(\"PreferredName\");\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should return the profile of the current user\", function() {\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.Email.should.equal(_spPageContextInfo.userEmail);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.profiles.get(email)\", function() {\r\n\t\t\tvar email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n\t\t\tvar profile = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.profiles\r\n\t\t\t\t\t.get(email)\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\tprofile = result;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to a profile properties object\", function() {\r\n\t\t\t\tprofile.should.be.an(\"object\");\r\n\t\t\t\tprofile.should.have.property(\"AccountName\");\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.should.have.property(\"PreferredName\");\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should give you the matching person\", function() {\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.Email.should.equal(email);\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should reject the promise for an invalid email\", function(done) {\r\n\t\t\t\tdao.profiles\r\n\t\t\t\t\t.get(\"invalid@invalid123.com\")\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\tdone(\"The request should have failed.\");\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function() {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.profiles.get({ AccountName })\", function() {\r\n\t\t\tvar email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n\t\t\tvar accountName = \"i:0#.f|membership|andrew@andrewpetersen.onmicrosoft.com\";\r\n\t\t\tvar profile = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.profiles\r\n\t\t\t\t\t.get({ AccountName: accountName })\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\tprofile = result;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to a profile properties object\", function() {\r\n\t\t\t\tprofile.should.be.an(\"object\");\r\n\t\t\t\tprofile.should.have.property(\"AccountName\");\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.should.have.property(\"PreferredName\");\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should give you the matching person\", function() {\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.Email.should.equal(email);\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should reject the promise for an invalid account name\", function(done) {\r\n\t\t\t\tdao.profiles\r\n\t\t\t\t\t.get({ AccountName: \"Invalid\" })\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\tdone(\"The request should have failed.\");\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function() {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.profiles.get({ LoginName })\", function() {\r\n\t\t\tvar email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n\t\t\tvar accountName = \"i:0#.f|membership|andrew@andrewpetersen.onmicrosoft.com\";\r\n\t\t\tvar profile = null;\r\n\t\t\tbefore(function(done) {\r\n\t\t\t\tdao.profiles\r\n\t\t\t\t\t.get({ LoginName: accountName })\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\tprofile = result;\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tit(\"Should return a promise that resolves to a profile properties object\", function() {\r\n\t\t\t\tprofile.should.be.an(\"object\");\r\n\t\t\t\tprofile.should.have.property(\"AccountName\");\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.should.have.property(\"PreferredName\");\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should give you the matching person\", function() {\r\n\t\t\t\tprofile.should.have.property(\"Email\");\r\n\t\t\t\tprofile.Email.should.equal(email);\r\n\t\t\t});\r\n\r\n\t\t\tit(\"Should reject the promise for an invalid account name\", function(done) {\r\n\t\t\t\tdao.profiles\r\n\t\t\t\t\t.get({ LoginName: \"Invalid\" })\r\n\t\t\t\t\t.then(function(result) {\r\n\t\t\t\t\t\tdone(\"The request should have failed.\");\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function() {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.profiles.setProperty(propertyName, propertyValue)\", function() {\r\n\t\t\tit(\"Should update the About Me profile property of the current user\", function(done) {\r\n\t\t\t\tvar aboutMeValue = \"Hi there. I was updated with SPScript 1\";\r\n\t\t\t\tdao.profiles\r\n\t\t\t\t\t.setProperty(\"AboutMe\", aboutMeValue)\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\treturn dao.profiles.current();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(profile) {\r\n\t\t\t\t\t\tprofile.should.have.property(\"AboutMe\");\r\n\t\t\t\t\t\tprofile.AboutMe.should.equal(aboutMeValue);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.profiles.setProperty(propertyName, propertyValue, email)\", function() {\r\n\t\t\tvar email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n\t\t\tit(\"Should update the About Me profile property based on the specified email\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tvar aboutMeValue = \"Hi there. I was updated with SPScript 2\";\r\n\t\t\t\tdao.profiles\r\n\t\t\t\t\t.setProperty(\"AboutMe\", aboutMeValue, email)\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\treturn dao.profiles.get(email);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(profile) {\r\n\t\t\t\t\t\tprofile.should.have.property(\"AboutMe\");\r\n\t\t\t\t\t\tprofile.AboutMe.should.equal(aboutMeValue);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdescribe(\"ctx.profiles.setProperty(propertyName, propertyValue, { AccountName|LoginName })\", function() {\r\n\t\t\tvar accountName = \"i:0#.f|membership|andrew@andrewpetersen.onmicrosoft.com\";\r\n\t\t\tvar email = \"andrew@andrewpetersen.onmicrosoft.com\";\r\n\t\t\tit(\"Should update the About Me profile property of the passed in User object\", function(\r\n\t\t\t\tdone\r\n\t\t\t) {\r\n\t\t\t\tvar aboutMeValue = \"Hi there. I was updated with SPScript 3\";\r\n\t\t\t\tdao.profiles\r\n\t\t\t\t\t.setProperty(\"AboutMe\", aboutMeValue, { AccountName: accountName })\r\n\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\treturn dao.profiles.get({ AccountName: accountName });\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(profile) {\r\n\t\t\t\t\t\tprofile.should.have.property(\"AboutMe\");\r\n\t\t\t\t\t\tprofile.AboutMe.should.equal(aboutMeValue);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err) {\r\n\t\t\t\t\t\tdone(err);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/profileTests.js","var should = require(\"chai\").should();\r\n\r\nexports.run = function(utils) {\r\n\tdescribe(\"var utils = SPScript.utils\", function() {\r\n        describe(\"utils.parseJSON(data)\", function() {\r\n            it(\"Should exist on the utils object\", function() {\r\n                utils.should.have.property(\"parseJSON\");\r\n                utils.parseJSON.should.be.a(\"function\");\r\n            })\r\n            it(\"Should take a string or an object and return an object\", function() {\r\n                var obj = { one: \"value of one\", two: \"value of two\" };\r\n                var jsonStr = JSON.stringify(obj);\r\n\r\n                var res1 = utils.parseJSON(obj);\r\n                res1.should.not.be.null;\r\n                res1.should.have.property(\"one\");\r\n                res1.one.should.equal(obj.one);\r\n\r\n                var res2 = utils.parseJSON(jsonStr);\r\n                res2.should.not.be.null;\r\n                res2.should.have.property(\"one\");\r\n                res2.one.should.equal(obj.one);\r\n            })\r\n        })\r\n\r\n        describe(\"Query String\", function() {\r\n            describe(\"utils.qs.toObj(str)\", function() {\r\n                it(\"Should take in a string in the form of key=value&key2=value and return an Object\", function() {\r\n                    var str1 = \"key1=value1\";\r\n                    var str2 = \"key1=value1&key2=value2\";\r\n                    var obj1 = utils.qs.toObj(str1)\r\n                    obj1.should.have.property(\"key1\");\r\n                    obj1.key1.should.equal(\"value1\");\r\n\r\n                    var obj2 = utils.qs.toObj(str2);\r\n                    obj2.should.have.property(\"key1\");\r\n                    obj2.should.have.property(\"key2\");\r\n                    obj2.key2.should.equal(\"value2\");\r\n                })\r\n                it(\"Should support an optional leading '?' \", function() {\r\n                    var str1 = \"?key1=value1\";\r\n                    var obj1 = utils.qs.toObj(str1)\r\n                    obj1.should.have.property(\"key1\");\r\n                    obj1.key1.should.equal(\"value1\");\r\n                });\r\n                it(\"Should default to 'window.location.search' if no value is passed\")\r\n            })\r\n\r\n            describe(\"utils.qs.fromObj(obj, quoteValues?)\", function() {\r\n                it(\"Should turn { key1: 'value1', key2: 'value2' } into 'key1=value1&key2=value2'\", function() {\r\n                    var obj = { key1: \"value1\", key2: \"value2\" }\r\n                    var str = utils.qs.fromObj(obj);\r\n                    str.should.equal(\"key1=value1&key2=value2\");\r\n                })\r\n                it(\"Should put single quotes around words with spaces\", function() {\r\n                    var obj = { key1: \"my value\" }\r\n                    var str = utils.qs.fromObj(obj);\r\n                    str.should.equal(\"key1='my value'\");\r\n                })\r\n                it(\"Should put single quotes around every value is an optional 'quoteValues' param is set to true\", function() {\r\n                    var obj = { key1: \"value1\", key2: \"value2\" }\r\n                    var str = utils.qs.fromObj(obj, true);\r\n                    str.should.equal(\"key1='value1'&key2='value2'\");\r\n                })\r\n            });\r\n        })\r\n\r\n        describe(\"Headers\", function() {\r\n\r\n            describe(\"utils.headers.getStandardHeaders(digest?)\", function() {\r\n                var jsonMimeType = \"application/json;odata=verbose\";\r\n                it(\"Should set the Accept header\", function() {\r\n                    var headers = utils.headers.getStandardHeaders();\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                })\r\n                it(\"Should set the Request Digest if a digest is passed\", function() {\r\n                    var digest = \"123Fake\"\r\n                    var headers = utils.headers.getStandardHeaders(digest);\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                    headers.should.have.property(\"X-RequestDigest\");\r\n                    headers[\"X-RequestDigest\"].should.equal(digest);\r\n                })\r\n            })\r\n\r\n            describe(\"utils.headers.getAddHeaders(digest)\", function() {\r\n                var jsonMimeType = \"application/json;odata=verbose\";\r\n                it(\"Should set the Request Digest if a digest is passed\", function() {\r\n                    var digest = \"123Fake\"\r\n                    var headers = utils.headers.getAddHeaders(digest);\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                    headers.should.have.property(\"X-RequestDigest\");\r\n                    headers[\"X-RequestDigest\"].should.equal(digest);\r\n                })\r\n            })\r\n\r\n            describe(\"utils.headers.getUpdateHeaders(digest)\", function() {\r\n                var jsonMimeType = \"application/json;odata=verbose\";\r\n                it(\"Should set X-HTTP-Method to MERGE and include X-RequestDigest\", function() {\r\n                    var digest = \"123Fake\"\r\n                    var headers = utils.headers.getUpdateHeaders(digest);\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                    headers.should.have.property(\"X-RequestDigest\");\r\n                    headers[\"X-RequestDigest\"].should.equal(digest);\r\n                    headers.should.have.property(\"X-HTTP-Method\");\r\n                    headers[\"X-HTTP-Method\"].should.equal(\"MERGE\");\r\n                })\r\n            })\r\n\r\n            describe(\"utils.headers.getDeleteHeaders(digest)\", function() {\r\n                var jsonMimeType = \"application/json;odata=verbose\";\r\n                it(\"Should set X-HTTP-Method to DELETE and include X-RequestDigest\", function() {\r\n                    var digest = \"123Fake\"\r\n                    var headers = utils.headers.getDeleteHeaders(digest);\r\n                    headers.should.have.property(\"Accept\");\r\n                    headers.Accept.should.equal(jsonMimeType);\r\n                    headers.should.have.property(\"X-RequestDigest\");\r\n                    headers[\"X-RequestDigest\"].should.equal(digest);\r\n                    headers.should.have.property(\"X-HTTP-Method\");\r\n                    headers[\"X-HTTP-Method\"].should.equal(\"DELETE\");\r\n                })\r\n            })\r\n        })\r\n\r\n        describe(\"Dependency Management\", function() {\r\n            describe(\"utils.validateNamespace(namespace)\", function() {\r\n                it(\"Should return false if that namespace is not on global window\")\r\n                it(\"Should return true if that namespace is on global window\")\r\n            })\r\n\r\n            describe(\"utils.waitForLibrary(namespace)\", function() {\r\n                it(\"Should return a promise that resolves when that namespace is on the global\")\r\n            })\r\n\r\n            describe(\"utils.waitForLibraries(namespaces)\", function() {\r\n                it(\"Should return a promise that resolves when all the namespacea are on the global\")\r\n            })\r\n\r\n            describe(\"utils.waitForElement(selector)\", function() {\r\n                it(\"Should return a promise that resolves an element that matches the selector is on the page\");\r\n                it(\"Should eventually time out\")\r\n            })\r\n        })\r\n\t})\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/test/tests/utilsTests.js"],"sourceRoot":""}