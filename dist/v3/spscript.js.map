{"version":3,"sources":["webpack:///spscript.js","webpack:///webpack/bootstrap 82e5df9034432cfa8170?2d20","webpack:///./lib/entry.browser.js","webpack:///./lib/utils/index.js?45ab","webpack:///./lib/permissions/Securable.js?6d73","webpack:///./lib/List/List.js?3b33","webpack:///./lib/SPScript.js?68af","webpack:///./lib/context/Context.js?be93","webpack:///./lib/context/request.js?d689","webpack:///./lib/context/xhr.js?24b2","webpack:///./lib/csr/index.js?7170","webpack:///./lib/customActions/CustomActions.js?3ee4","webpack:///./lib/customActions/ICustomActions.js?67ed","webpack:///./lib/permissions/IPermissions.js?fb0e","webpack:///./lib/profiles/Profiles.js?1498","webpack:///./lib/search/Search.js?05d4","webpack:///./lib/search/searchMappers.js?2228","webpack:///./lib/utils/dependencyManagement.js?3c69","webpack:///./lib/utils/headers.js?f5bb","webpack:///./lib/utils/loaders.js?df7c","webpack:///./lib/utils/queryString.js?7bb0","webpack:///./lib/web/Web.js?2b4a","webpack:///./~/process/browser.js?82e4","webpack:///./~/promise-polyfill/promise.js?6ded","webpack:///./~/querystring/decode.js?c250","webpack:///./~/querystring/encode.js?e86b","webpack:///./~/querystring/index.js?fce8","webpack:///./~/setimmediate/setImmediate.js?4a80","webpack:///./~/timers-browserify/main.js?b088"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","global","promise_polyfill_1","SPScript_1","Promise","default","this","isBrowser","window","parseJSON","data","JSON","parse","e","validateODataV2","results","d","length","openModal","url","modalOptions","dependencyManagement_1","validateNamespace","Error","defaults","width","title","options","__assign","SP","UI","ModalDialog","showModalDialog","Object","assign","t","s","i","n","arguments","prototype","hasOwnProperty","defineProperty","value","queryString_1","headers_1","loaders_1","getArrayBuffer","file","File","resolve","reject","reader","FileReader","onload","target","result","readAsArrayBuffer","utils","headers","qs","toObj","fromObj","loadScript","loadScripts","loadCSS","waitForLibraries","waitForLibrary","waitForElement","utils_1","IPermissions_1","Securable","baseUrl","ctx","_dao","getRoleAssignments","get","then","map","transformRoleAssignment","checkPrivs","user","login","encodeURIComponent","LoginName","check","email","_this","req","web","getUser","_spPageContextInfo","userId","privs","permissionMaskToStrings","GetUserEffectivePermissions","Low","High","raw","member","Member","name","Title","Id","roles","RoleDefinitionBindings","roleDef","Name","description","Description","basePermissions","BasePermissions","lowMask","highMask","permissions","forEach","basePermission","low","high","push","_extends","source","key","Securable_1","List","listName","getItems","odata","appendOData","getItemById","findItems","filterValue","findItem","items","getInfo","addItem","item","digest","_ensureRequestDigest","__metadata","type","ListItemEntityTypeFullName","customOptions","getAddHeaders","post","updateItem","itemId","updates","getUpdateHeaders","etag","uri","deleteItem","getDeleteHeaders","prefix","Context_1","csr_1","spscript","CSR","createContext","clientId","clientSecret","webAbsoluteUrl","ex","message","request_1","List_1","Web_1","Search_1","CustomActions_1","Profiles_1","Context","webUrl","ensureToken","search","customActions","profiles","executeRequest","opts","fullUrl","test","defaultOptions","method","Accept","Content-Type","accessToken","requestOptions","body","_packagePostBody","authorizedPost","verb","getRequestDigest","getActionHeaders","GetContextWebInformation","FormDigestValue","lists","indexOf","stringify","xhr_1","request","_typeof","Symbol","iterator","obj","constructor","async","undefined","validMethods","validateOptions","setHeaders","xhr","headersObj","keys","setRequestHeader","XMLHttpRequest","open","responseType","onreadystatechange","readyState","status","response","err","send","createFormFieldRenderer","field","formCtx","FormContext","clonedCtx","onReady","registerInitCallback","bind","setTimeout","getValue","registerGetValueCallback","updateControlValue","setValue","render","createDisplayFieldRenderer","registerField","renderer","renderers","locations","l","Templates","Fields","templateOverride","SPClientTemplates","TemplateManager","RegisterTemplateOverrides","registerDisplayField","fieldComponent","registerFormField","ICustomActions_1","CustomActions","getScope","scopeId","scopes","Web","Site","siteCustomActions","webCustomActions","concat","matches","filter","a","_getUrl","Scope","_getUrlAndDigest","prep","update","metadata","remove","add","customAction","Group","Sequence","Location","existingCustomActions","ca","scope","addScriptBlock","block","ScriptBlock","addCSSLink","scriptBlockStr","addScriptLink","Profiles","current","transformPersonProperties","getUserObj","AccountName","setProperty","args","propertyName","propertyValue","accountName","profile","console","log","UserProfileProperties","keyvalue","Key","Value","searchMappers_1","Search","sourceid","startrow","rowlimit","selectedproperties","refiners","refinementfilters","hiddencontstraints","sortlist","enumerable","configurable","query","queryText","queryOptions","optionsQueryString","resp","mapResponse","people","sites","urlScope","trim","rawResponse","elapsedTime","ElapsedTime","suggestion","SpellingSuggestion","resultsCount","PrimaryQueryResult","RelevantResults","RowCount","totalResults","TotalRows","totalResultsIncludingDuplicates","TotalRowsIncludingDuplicates","mapItems","Table","Rows","mapRefiners","RefinementResults","refinementResults","Refiners","r","RefinerName","RefinerOptions","Entries","itemRows","row","j","Cells","namespace","sections","split","sectionsLength","prop","_waitForLibraries","namespaces","missing","selector","timeout","counter","INTERVAL","MAX_ATTEMPTS","_waitForElement","elem","document","querySelector","getStandardHeaders","jsonMimeType","getFilestreamHeaders","X-RequestDigest","binaryStringRequestBody","X-HTTP-Method","decorateETag","headerUtils","link","createElement","setAttribute","appendChild","scriptTag","firstScriptTag","getElementsByTagName","parentNode","insertBefore","arg","isAbort","src","urls","all","quoteValues","writeParam","str","join","location","substr","getSubsites","ensureUser","getFile","_copyFile","sourceUrl","destinationUrl","strNewUrl","bOverWrite","copyFile","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","len","run","Item","array","noop","process","nextTick","Array","apply","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","setImmediate","root","fn","thisArg","TypeError","_state","_handled","_value","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","promise","ret","newValue","finale","_unhandledRejectionFn","Handler","done","reason","setTimeoutFunc","prom","arr","slice","res","val","remaining","race","values","warn","_setImmediateFn","_setUnhandledRejectionFn","sep","eq","regexp","maxKeys","kstr","vstr","k","v","x","replace","idx","decodeURIComponent","isArray","stringifyPrimitive","isFinite","ks","decode","encode","callback","Function","task","tasksByHandle","nextHandle","registerImmediate","clearImmediate","runIfPresent","currentlyRunningATask","installNextTickImplementation","canUsePostMessage","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","installPostMessageImplementation","messagePrefix","Math","random","onGlobalMessage","event","addEventListener","attachEvent","installMessageChannelImplementation","channel","MessageChannel","port1","port2","installReadyStateChangeImplementation","html","doc","documentElement","script","removeChild","installSetTimeoutImplementation","attachTo","getPrototypeOf","toString","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDMM,SAAUI,EAAQD,EAASH,IE5CjC,SAAAW,GAAA,YACA,IAAIC,GAAqBZ,EAAQ,IAC7Ba,EAAab,EAAQ,EACpBW,GAAOG,UACRH,EAAOG,QAAUF,EAAmBG,SAExCX,EAAOD,QAAUU,EAAWE,UFiDER,KAAKJ,EAAU,WAAa,MAAOa,WAI3D,SAAUZ,EAAQD,EAASH,GG3DjC,YAcA,SAASiB,KACL,QAA4B,mBAAXC,SAErB,QAASC,GAAUC,GACf,GAAoB,gBAATA,GACP,IACIA,EAAOC,KAAKC,MAAMF,GAEtB,MAAOG,GACH,MAAO,MAGf,MAAOH,GAgBX,QAASI,GAAgBJ,GACrBA,EAAOD,EAAUC,EACjB,IAAIK,GAAU,IAOd,OANIL,GAAKM,GAAKN,EAAKM,EAAED,SAAoC,MAAzBL,EAAKM,EAAED,QAAQE,OAC3CF,EAAUL,EAAKM,EAAED,QAEZL,EAAKM,IACVD,EAAUL,EAAKM,GAEZD,GAAWL,EAEtB,QAASQ,GAAUC,EAAKC,GACpB,IAAKC,EAAuBC,kBAAkB,qBAC1C,KAAM,IAAIC,OAAM,+FAEpB,IAAIC,IACAC,MAAO,IACPC,MAAO,KAIPC,EAAUC,KAAaJ,EAAUJ,GAAgBD,IAAKA,GAC1D,OAAOU,IAAGC,GAAGC,YAAYC,gBAAgBL,GA/D7C,GAAIC,GAAsCK,OAAOC,QAAU,SAASC,GAChE,IAAK,GAAIC,GAAGC,EAAI,EAAGC,EAAIC,UAAUtB,OAAQoB,EAAIC,EAAGD,IAAK,CACjDD,EAAIG,UAAUF,EACd,KAAK,GAAIrC,KAAKoC,GAAOH,OAAOO,UAAUC,eAAe5C,KAAKuC,EAAGpC,KACzDmC,EAAEnC,GAAKoC,EAAEpC,IAEjB,MAAOmC,GAEXF,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAIC,GAAgBtD,EAAQ,IACxBuD,EAAYvD,EAAQ,IACpBwD,EAAYxD,EAAQ,IACpB+B,EAAyB/B,EAAQ,IAejCyD,EAAiB,SAAUC,GAC3B,GAAIA,GAAQA,YAAgBC,MACxB,MAAO,IAAI7C,SAAQ,SAAU8C,EAASC,GAClC,GAAIC,GAAS,GAAIC,WACjBD,GAAOE,OAAS,SAAUzC,GACtBqC,EAAQrC,EAAE0C,OAAOC,SAErBJ,EAAOK,kBAAkBT,IAI7B,MAAM,mFA2BVU,GACAnD,UAAWA,EACXoD,QAASd,EAAUxC,QACnBI,UAAWA,EACXK,gBAAiBA,EACjB8C,IAAMC,MAAOjB,EAAciB,MAAOC,QAASlB,EAAckB,SACzDC,WAAYjB,EAAUiB,WACtBC,YAAalB,EAAUkB,YACvBC,QAASnB,EAAUmB,QACnBlB,eAAgBA,EAChBmB,iBAAkB7C,EAAuB6C,iBACzCC,eAAgB9C,EAAuB8C,eACvC7C,kBAAmBD,EAAuBC,kBAC1C8C,eAAgB/C,EAAuB+C,eACvClD,UAAWA,EAEfzB,GAAQY,QAAUqD,GHgEX,CAED,SAAUhE,EAAQD,EAASH,GIpJjC,YACA2C,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAI0B,GAAU/E,EAAQ,GAClBgF,EAAiBhF,EAAQ,IAEzBiF,EAAa,WACb,QAASA,GAAUC,EAASC,GACxBnE,KAAKkE,QAAUA,EACflE,KAAKoE,KAAOD,EA2BhB,MAxBAF,GAAU/B,UAAUmC,mBAAqB,WACrC,GAAIxD,GAAMb,KAAKkE,QAAU,wDACzB,OAAOlE,MAAKoE,KAAKE,IAAIzD,GAChB0D,KAAKR,EAAQhE,QAAQS,iBACrB+D,KAAK,SAAU9D,GAAW,MAAOA,GAAQ+D,IAAIC,MAEtDR,EAAU/B,UAAUwC,WAAa,SAAUC,GACvC,GAAIC,GAAQC,mBAAmBF,EAAKG,WAChCjE,EAAMb,KAAKkE,QAAU,wCAA0CU,EAAQ,GAC3E,OAAO5E,MAAKoE,KAAKE,IAAIzD,GAAK0D,KAAKR,EAAQhE,QAAQS,kBAGnDyD,EAAU/B,UAAU6C,MAAQ,SAAUC,GAClC,GAAIC,GAAQjF,IACZ,KAAKgF,IAAUjB,EAAQhE,QAAQE,YAC3B,MAAOH,SAAQ+C,OAAO,+DAG1B,IAAIqC,GAAOF,EAELhF,KAAKoE,KAAKe,IAAIC,QAAQJ,GADtBhF,KAAKoE,KAAKE,IAAI,oBAAsBe,mBAAmBC,OAAS,KAAKf,KAAK,SAAUnE,GAAQ,MAAOA,GAAKM,GAE9G,OAAOwE,GAAIX,KAAK,SAAUI,GAAQ,MAAOM,GAAMP,WAAWC,KACrDJ,KAAK,SAAUgB,GAAS,MAAOC,GAAwBD,EAAME,4BAA4BC,IAAKH,EAAME,4BAA4BE,SAElI1B,IAEX9E,GAAQY,QAAUkE,CAClB,IAAIQ,GAA0B,SAAUmB,GACpC,GAAIC,IACAjB,MAAOgB,EAAIE,OAAOhB,UAClBiB,KAAMH,EAAIE,OAAOE,MACjB3G,GAAIuG,EAAIE,OAAOG,IAEfC,EAAQN,EAAIO,uBAAuB1F,QAAQ+D,IAAI,SAAU4B,GACzD,OACIL,KAAMK,EAAQC,KACdC,YAAaF,EAAQG,YACrBC,gBAAiBhB,EAAwBY,EAAQK,gBAAgBf,IAAKU,EAAQK,gBAAgBd,QAGtG,QAASE,OAAQA,EAAQK,MAAOA,IAEhCV,EAA0B,SAAUkB,EAASC,GAC7C,GAAIC,KAMJ,OALA5C,GAAewC,gBAAgBK,QAAQ,SAAUC,KACxCA,EAAeC,IAAML,GAAW,IAAMI,EAAeE,KAAOL,GAAY,IACzEC,EAAYK,KAAKH,EAAef,QAGjCa,IJ+JJ,CACA,CAED,SAAUxH,EAAQD,EAASH,GK9NjC,YLkOC,IAAIkI,GAAWvF,OAAOC,QAAU,SAAUqB,GAAU,IAAK,GAAIlB,GAAI,EAAGA,EAAIE,UAAUtB,OAAQoB,IAAK,CAAE,GAAIoF,GAASlF,UAAUF,EAAI,KAAK,GAAIqF,KAAOD,GAAcxF,OAAOO,UAAUC,eAAe5C,KAAK4H,EAAQC,KAAQnE,EAAOmE,GAAOD,EAAOC,IAAY,MAAOnE,GKjOxPtB,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAI0B,GAAU/E,EAAQ,GAClBqI,EAAcrI,EAAQ,GACtBsI,EAAQ,WACR,QAASA,GAAKvB,EAAM5B,GAChBnE,KAAKuH,SAAWxB,EAChB/F,KAAKkE,QAAU,0BAA4BlE,KAAKuH,SAAW,KAC3DvH,KAAKoE,KAAOD,EACZnE,KAAK4G,YAAc,GAAIS,GAAYtH,QAAQC,KAAKkE,QAASC,GAmF7D,MAhFAmD,GAAKpF,UAAUsF,SAAW,SAAUC,GAChC,MAAOzH,MAAKoE,KACPE,IAAItE,KAAKkE,QAAU,SAAWwD,EAAYD,IAC1ClD,KAAKR,EAAQhE,QAAQS,kBAG9B8G,EAAKpF,UAAUyF,YAAc,SAAUtI,EAAIoI,GACvC,GAAI5G,GAAMb,KAAKkE,QAAU,UAAY7E,EAAK,IAAMqI,EAAYD,EAC5D,OAAOzH,MAAKoE,KAAKE,IAAIzD,GAAK0D,KAAKR,EAAQhE,QAAQS,kBAInD8G,EAAKpF,UAAU0F,UAAY,SAAUR,EAAK/E,EAAOoF,GAC7C,GAAII,GAA+B,gBAAVxF,GAAqB,IAAMA,EAAQ,IAAMA,CAElE,OADAoF,GAAQ,WAAaL,EAAM,OAASS,EAAcH,EAAYD,EAAO,KAC9DzH,KAAKwH,SAASC,IAGzBH,EAAKpF,UAAU4F,SAAW,SAAUV,EAAK/E,EAAOoF,GAC5C,MAAOzH,MAAK4H,UAAUR,EAAK/E,EAAOoF,GAC7BlD,KAAK,SAAUwD,GAChB,MAAIA,IAASA,EAAMpH,QAAUoH,EAAMpH,OAAS,EACjCoH,EAAM,GACV,QAIfT,EAAKpF,UAAU8F,QAAU,WACrB,MAAOhI,MAAKoE,KAAKE,IAAItE,KAAKkE,SAASK,KAAKR,EAAQhE,QAAQS,kBAG5D8G,EAAKpF,UAAU+F,QAAU,SAAUC,EAAMC,GACrC,GAAIlD,GAAQjF,IACZ,OAAOA,MAAKoE,KAAKgE,qBAAqBD,GAAQ5D,KAAK,SAAU4D,GACzD,MAAOlD,GAAMb,KAAKE,IAAIW,EAAMf,SACvBK,KAAK,SAAUnE,GAEhB8H,EAAOhB,MACHmB,YACIC,KAAQlI,EAAA,EAAUmI,6BAEvBL,EACH,IAAIM,IACAnF,QAASU,EAAQhE,QAAQsD,QAAQoF,cAAcN,GAEnD,OAAOlD,GAAMb,KAAKsE,KAAKzD,EAAMf,QAAU,SAAUgE,EAAMM,KAEtDjE,KAAKR,EAAQhE,QAAQS,oBAIlC8G,EAAKpF,UAAUyG,WAAa,SAAUC,EAAQC,EAASV,GACnD,GAAIlD,GAAQjF,IACZ,OAAOA,MAAKoE,KAAKgE,qBAAqBD,GAAQ5D,KAAK,SAAU4D,GACzD,MAAOlD,GAAM0C,YAAYiB,GAAQrE,KAAK,SAAU2D,GAE5CW,EAAU3B,MACNmB,YACIC,KAAQJ,EAAA,WAAmBI,OAEhCO,EACH,IAAIL,IACAnF,QAASU,EAAQhE,QAAQsD,QAAQyF,iBAAiBX,EAAQD,EAAA,WAAmBa,MAEjF,OAAO9D,GAAMb,KAAKsE,KAAKR,EAAA,WAAmBc,IAAKH,EAASL,QAKpElB,EAAKpF,UAAU+G,WAAa,SAAUL,EAAQT,GAC1C,GAAIlD,GAAQjF,IACZ,OAAOA,MAAKoE,KAAKgE,qBAAqBD,GAAQ5D,KAAK,SAAU4D,GACzD,MAAOlD,GAAM0C,YAAYiB,GAAQrE,KAAK,SAAU2D,GAC5C,GAAIM,IACAnF,QAASU,EAAQhE,QAAQsD,QAAQ6F,iBAAiBf,EAAQD,EAAA,WAAmBa,MAEjF,OAAO9D,GAAMb,KAAKsE,KAAKR,EAAA,WAAmBc,IAAK,GAAIR,QAIxDlB,IAEXnI,GAAQY,QAAUuH,CAClB,IAAII,GAAc,SAAUD,EAAO0B,GAE/B,MADAA,GAASA,GAAU,IACf1B,EACO0B,EAAS1B,EACb,KLkOL,SAAUrI,EAAQD,EAASH,IMrUjC,SAAAW,GAAA,YACAgC,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAI0B,GAAU/E,EAAQ,GAClBoK,EAAYpK,EAAQ,GACpBqK,EAAQrK,EAAQ,IAChBsK,GACAlG,MAAOW,EAAQhE,QACfwJ,IAAKF,EAAMtJ,QACXyJ,cAAe,SAAU3I,EAAK4I,EAAUC,GACpC,IAII,OAHK7I,GAAOlB,EAAO0F,qBACfxE,EAAMlB,EAAO0F,mBAAmBsE,gBAE7B,GAAIP,GAAUrJ,QAAQc,GAEjC,MAAO+I,GACH,KAAM,IAAI3I,OAAM,sCAAwC2I,EAAGC,WAIvE1K,GAAQY,QAAUuJ,INyUY/J,KAAKJ,EAAU,WAAa,MAAOa,WAI3D,SAAUZ,EAAQD,EAASH,GOjWjC,YPqWC,IAAIkI,GAAWvF,OAAOC,QAAU,SAAUqB,GAAU,IAAK,GAAIlB,GAAI,EAAGA,EAAIE,UAAUtB,OAAQoB,IAAK,CAAE,GAAIoF,GAASlF,UAAUF,EAAI,KAAK,GAAIqF,KAAOD,GAAcxF,OAAOO,UAAUC,eAAe5C,KAAK4H,EAAQC,KAAQnE,EAAOmE,GAAOD,EAAOC,IAAY,MAAOnE,GOpWxPtB,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAIyH,GAAY9K,EAAQ,GACpB+E,EAAU/E,EAAQ,GAClB+K,EAAS/K,EAAQ,GACjBgL,EAAQhL,EAAQ,IAChBiL,EAAWjL,EAAQ,IACnBkL,EAAkBlL,EAAQ,IAC1BmL,EAAanL,EAAQ,IACrBoL,EAAW,WACX,QAASA,GAAQvJ,EAAK4I,EAAUC,GAC5B1J,KAAKqK,OAASxJ,EACdb,KAAKyJ,SAAWA,EAChBzJ,KAAK0J,aAAeA,EAEpB1J,KAAKsK,YAAeb,EAA+B3J,QAAQ8C,UAA5B9C,QAAQ8C,UACvC5C,KAAKuK,OAAS,GAAIN,GAASlK,QAAQC,MACnCA,KAAKwK,cAAgB,GAAIN,GAAgBnK,QAAQC,MACjDA,KAAKmF,IAAM,GAAI6E,GAAMjK,QAAQC,MAC7BA,KAAKyK,SAAW,GAAIN,GAAWpK,QAAQC,MAqE3C,MAnEAoK,GAAQlI,UAAUwI,eAAiB,SAAU7J,EAAK8J,GAC9C,GAAIC,GAAW,SAAUC,KAAKhK,GAAOA,EAAMb,KAAKqK,OAAS,QAAUxJ,EAC/DiK,GACAjK,IAAK+J,EACLG,OAAQ,MACR1H,SACI2H,OAAU,kCACVC,eAAgB,mCAGpBjL,MAAKkL,cACLJ,EAAezH,QAAf,cAA0C,UAAYrD,KAAKkL,YAE/D,IAAIC,GAAiBjE,KAAkB4D,EAAgBH,EACvD,OAAOb,GAAU/J,QAAQoL,IAI7Bf,EAAQlI,UAAUoC,IAAM,SAAUzD,EAAK8J,GACnC,GAAItJ,GAAU6F,MAAoB6D,OAAQ,OAASJ,EACnD,OAAO3K,MAAK0K,eAAe7J,EAAKQ,GAASkD,KAAKR,EAAQhE,QAAQI,YAIlEiK,EAAQlI,UAAUwG,KAAO,SAAU7H,EAAKuK,EAAMT,GAC1CS,EAAOpL,KAAKqL,iBAAiBD,EAAMT,EACnC,IAAItJ,IACA0J,OAAQ,OACR3K,KAAMgL,EAGV,OADA/J,GAAU6F,KAAkB7F,EAASsJ,GAC9B3K,KAAK0K,eAAe7J,EAAKQ,GAASkD,KAAKR,EAAQhE,QAAQI,YAIlEiK,EAAQlI,UAAUoJ,eAAiB,SAAUzK,EAAKuK,EAAMG,GACpD,GAAItG,GAAQjF,IACZ,OAAOA,MAAKwL,mBACPjH,KAAK,SAAU4D,GAAU,MAAOpE,GAAQhE,QAAQsD,QAAQoI,iBAAiBF,EAAMpD,KAC/E5D,KAAK,SAAUlB,GAAW,MAAO4B,GAAMyD,KAAK7H,EAAKuK,GAAQ/H,QAASA,OAG3E+G,EAAQlI,UAAUkG,qBAAuB,SAAUD,GAC/C,MAAOA,GAASrI,QAAQ8C,QAAQuF,GAAUnI,KAAKwL,oBAInDpB,EAAQlI,UAAUsJ,iBAAmB,WACjC,MAAOxL,MAAK0I,KAAK,mBAAoBnE,KAAK,SAAUnE,GAAQ,MAAOA,GAAA,EAAUsL,yBAAyBC,mBAI1GvB,EAAQlI,UAAU0J,MAAQ,SAAU7F,GAChC,MAAO,IAAIgE,GAAOhK,QAAQgG,EAAM/F,OAEpCoK,EAAQlI,UAAUmJ,iBAAmB,SAAUD,EAAMT,GAEjD,MAAoB,gBAATS,GACAA,EAEPT,GAAQA,EAAKtH,SAAWsH,EAAKtH,QAAQ,iBAAmBsH,EAAKtH,QAAQ,gBAAgBwI,QAAQ,WAAY,EAClGT,EAGJ/K,KAAKyL,UAAUV,IAGnBhB,IAEXjL,GAAQY,QAAUqK,GP8WZ,SAAUhL,EAAQD,EAASH,GQxcjC,YACA2C,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAI0J,GAAQ/M,EAAQ,IAChBgN,EAAU,SAAU3K,GAIpB,GAAsB,mBAAXnB,QACP,KAAM,IAAIe,OAAM,gDAEpB,OAAO8K,GAAMhM,QAAQsB,GAEzBlC,GAAQY,QAAUiM,GRgdZ,SAAU5M,EAAQD,GS5dxB,YTgeC,IAAI8M,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOhK,UAAY,eAAkBkK,IAElQlF,EAAWvF,OAAOC,QAAU,SAAUqB,GAAU,IAAK,GAAIlB,GAAI,EAAGA,EAAIE,UAAUtB,OAAQoB,IAAK,CAAE,GAAIoF,GAASlF,UAAUF,EAAI,KAAK,GAAIqF,KAAOD,GAAcxF,OAAOO,UAAUC,eAAe5C,KAAK4H,EAAQC,KAAQnE,EAAOmE,GAAOD,EAAOC,IAAY,MAAOnE,GSjexPtB,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAInB,IACA6J,OAAQ,MACRuB,OAAO,EACPlM,KAAMmM,QAENC,GACA,MACA,OACA,MACA,OACA,SACA,SAGAC,EAAkB,SAAUpL,GAC5B,SAAKA,IAAYA,EAAQR,KAAO2L,EAAaX,QAAQxK,EAAQ0J,QAAU,IAKvE2B,EAAa,SAAUC,EAAKC,GACxBA,GACAjL,OAAOkL,KAAKD,GAAY/F,QAAQ,SAAUO,GACtCuF,EAAIG,iBAAiB1F,EAAKwF,EAAWxF,OAI7CuF,EAAM,QAAAA,GAAUtL,GAChB,GAAIsJ,GAAOzD,KAAkBhG,EAAUG,EACvC,KAAKoL,EAAgBpL,GACjB,MAAOvB,SAAQ+C,OAAO,GAAI5B,OAAM,0CACpC,IAAI0L,GAAM,GAAII,eACd,OAAW,OAAPJ,EACO7M,QAAQ+C,OAAO,GAAI5B,OAAM,yDACpC0L,EAAIK,KAAKrC,EAAKI,OAAQJ,EAAK9J,IAAK8J,EAAK2B,OACrCI,EAAWC,EAAKhC,EAAKtH,SACrBsJ,EAAIM,aAAe,OACZ,GAAInN,SAAQ,SAAU8C,EAASC,GAClC8J,EAAIO,mBAAqB,WAErB,GAAuB,IAAnBP,EAAIQ,WAEJ,GAAIR,EAAIS,OAAS,KAAOT,EAAIS,QAAU,IAE9BxK,EADA+J,EAAIS,QAAU,KAAOT,EAAIS,OAAS,KAAsB,MAAfT,EAAIS,OACrCT,EAAIU,UAAYV,EAAIS,OAAS,GAG7BT,EAAIU,cAEf,CACD,GAAIC,GAAM,GAAIrM,OAAM,wBAA0B0L,EAAIS,OAC9CT,GAAIU,UAAoC,WAAxBpB,EAAOU,EAAIU,YAC3BC,EAAIzD,SAAW,KAAOxJ,KAAKyL,UAAUa,EAAIU,SAAU,KAAM,OAE7DxK,EAAOyK,KAInBX,EAAIY,KAAK5C,EAAKvK,SAGtBjB,GAAQY,QAAU4M,GTydZ,SAAUvN,EAAQD,EAASH,GUxhBjC,YAiCA,SAASwO,GAAwBC,GAC7B,MAAO,UAAUtJ,GACb,GAAIuJ,GAAUvJ,EAAIwJ,YAEdC,EAAY1G,KAAkB/C,EAkBlC,OAjBIsJ,GAAMI,UACFH,EACAA,EAAQI,qBAAqBL,EAAM1H,KAAM0H,EAAMI,QAAQE,KAAK,KAAMH,IAGlEI,WAAWP,EAAMI,QAAQE,KAAK,KAAMH,GAAY,MAGpDH,EAAMQ,UAAYP,GAClBA,EAAQQ,yBAAyBT,EAAM1H,KAAM0H,EAAMQ,SAASF,KAAK,KAAMH,IAGvEF,GAAWA,EAAQS,qBACnBV,EAAMW,SAAW,SAAU/L,GACvBqL,EAAQS,mBAAmBV,EAAM1H,KAAM1D,KAGxCoL,EAAMY,OAAOlK,IAG5B,QAASmK,GAA2Bb,GAChC,MAAO,UAAUtJ,GACb,GAAIuJ,GAAUvJ,EAAIwJ,WAIlB,OAHID,IAAWA,EAAQI,sBAAwBL,EAAMI,SACjDH,EAAQI,qBAAqBL,EAAM1H,KAAM0H,EAAMI,SAE5CJ,EAAMY,OAAOlK,IV4d3B,GAAI+C,GAAWvF,OAAOC,QAAU,SAAUqB,GAAU,IAAK,GAAIlB,GAAI,EAAGA,EAAIE,UAAUtB,OAAQoB,IAAK,CAAE,GAAIoF,GAASlF,UAAUF,EAAI,KAAK,GAAIqF,KAAOD,GAAcxF,OAAOO,UAAUC,eAAe5C,KAAK4H,EAAQC,KAAQnE,EAAOmE,GAAOD,EAAOC,IAAY,MAAOnE,GU3hBxPtB,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAI0B,GAAU/E,EAAQ,GAClBuP,EAAgB,SAAUd,EAAOe,EAAU7D,GAE3C,GADa,SAATA,IAAmBA,OAClB5G,EAAQhE,QAAQiB,kBAAkB,qCACnC,KAAM,IAAIC,OAAM,qFAEpB,IAAIwN,KAEJhB,GAAMiB,UAAU7H,QAAQ,SAAU8H,GAAK,MAAOF,GAAUE,GAAKH,GAC7D,IAAItN,IACA0N,WACIC,YAGJC,EAAmB5H,KAAkBhG,EAAUyJ,EAGnD,OAFAmE,GAAiBF,UAAUC,OAAOpB,EAAM1H,MAAQ0I,EAChDM,kBAAkBC,gBAAgBC,0BAA0BH,GACrDrB,GAEPyB,EAAuB,SAAUC,EAAgBxE,GACpC,SAATA,IAAmBA,KACvB,IAAI6D,GAAWF,EAA2Ba,EAE1C,OADAA,GAAeT,UAAYS,EAAeT,YAAc,OAAQ,eACzDH,EAAcY,EAAgBX,EAAU7D,IAE/CyE,EAAoB,SAAUD,EAAgBxE,GACjC,SAATA,IAAmBA,KACvB,IAAI6D,GAAWhB,EAAwB2B,EAEvC,OADAA,GAAeT,UAAYS,EAAeT,YAAc,UAAW,YAC5DH,EAAcY,EAAgBX,EAAU7D,IAoC/CpB,GACA2F,qBAAsBA,EACtBE,kBAAmBA,EAEvBjQ,GAAQY,QAAUwJ,GVyiBZ,SAAUnK,EAAQD,EAASH,GWhnBjC,YXonBC,IAAIkI,GAAWvF,OAAOC,QAAU,SAAUqB,GAAU,IAAK,GAAIlB,GAAI,EAAGA,EAAIE,UAAUtB,OAAQoB,IAAK,CAAE,GAAIoF,GAASlF,UAAUF,EAAI,KAAK,GAAIqF,KAAOD,GAAcxF,OAAOO,UAAUC,eAAe5C,KAAK4H,EAAQC,KAAQnE,EAAOmE,GAAOD,EAAOC,IAAY,MAAOnE,GWnnBxPtB,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAI0B,GAAU/E,EAAQ,GAClBqQ,EAAmBrQ,EAAQ,IAC3BsQ,EAAiB,WACjB,QAASA,GAAcnL,GACnBnE,KAAKoE,KAAOD,EAoIhB,MAlIAmL,GAAcpN,UAAUqN,SAAW,SAAUC,GACzC,GAAgB,IAAZA,EACA,MAAOH,GAAiBI,OAAOC,GACnC,IAAgB,IAAZF,EACA,MAAOH,GAAiBI,OAAOE,IACnC,MAAM,IAAI1O,OAAM,gCAEpBqO,EAAcpN,UAAUoC,IAAM,SAAUyB,GACpC,GAAId,GAAQjF,IAEZ,OAAOA,MAAKoE,KAAKE,IAAI+K,EAAiBI,OAAOE,KAAK9O,KAC7C0D,KAAKR,EAAQhE,QAAQS,iBACrB+D,KAAK,SAAUqL,GAChB,MAAO3K,GAAMb,KAAKE,IAAI+K,EAAiBI,OAAOC,IAAI7O,KAC7C0D,KAAKR,EAAQhE,QAAQS,iBACrB+D,KAAK,SAAUsL,GAAoB,MAAOD,GAAkBE,OAAOD,OAEvEtL,KAAK,SAAUiG,GAEhB,GAAIzE,EAAM,CACN,GAAIgK,GAAUvF,EAAcwF,OAAO,SAAUC,GAAK,MAAOA,GAAE5J,OAASN,GACpE,IAAIgK,EAAQpP,OACR,MAAOoP,GAAQ,EAEnB,MAAM,IAAI9O,OAAM,2CAA6C8E,GAG7D,MAAOyE,MAInB8E,EAAcpN,UAAUgO,QAAU,SAAUnK,GACxC,GAAId,GAAQjF,IACZ,OAAOA,MAAKsE,IAAIyB,GACXxB,KAAK,SAAU0L,GAAK,MAAOhL,GAAMsK,SAASU,EAAEE,OAAOtP,IAAM,KAAOoP,EAAEhK,GAAK,QAEhFqJ,EAAcpN,UAAUkO,iBAAmB,SAAUrK,GACjD,GAAId,GAAQjF,KACRqQ,IACJ,OAAOrQ,MAAKkQ,QAAQnK,GACfxB,KAAK,SAAU1D,GAEhB,MADAwP,GAAKxP,IAAMA,EACJoE,EAAMb,KAAKoH,qBAEjBjH,KAAK,SAAU4D,GAEhB,MADAkI,GAAKlI,OAASA,EACPkI,KAIff,EAAcpN,UAAUoO,OAAS,SAAUzH,GACvC,GAAI5D,GAAQjF,IACZ,KAAK6I,IAAYA,EAAQxC,KACrB,KAAM,IAAIpF,OAAM,gDACpB,OAAOjB,MAAKoQ,iBAAiBvH,EAAQxC,MAChC9B,KAAK,SAAU8L,GAChBxH,EAAU3B,KAAkBmI,EAAiBkB,SAAU1H,EACvD,IAAI8B,IACAtH,QAASU,EAAQhE,QAAQsD,QAAQyF,iBAAiBuH,EAAKlI,QAE3D,OAAOlD,GAAMb,KAAKsE,KAAK2H,EAAKxP,IAAKgI,EAAS8B,MAIlD2E,EAAcpN,UAAUsO,OAAS,SAAUzK,GACvC,GAAId,GAAQjF,IACZ,KAAK+F,EACD,KAAM,IAAI9E,OAAM,wDACpB,OAAOjB,MAAKoQ,iBAAiBrK,GACxBxB,KAAK,SAAU8L,GAChB,GAAI1F,IACAtH,QAASU,EAAQhE,QAAQsD,QAAQ6F,iBAAiBmH,EAAKlI,QAE3D,OAAOlD,GAAMb,KAAKsE,KAAK2H,EAAKxP,OAAS8J,MAI7C2E,EAAcpN,UAAUuO,IAAM,SAAUC,GACpC,GAAIzL,GAAQjF,IACZ,KAAK0Q,IAAiBA,EAAarK,KAC/B,KAAM,IAAIpF,OAAM,gDACpB,IAAIC,IACAmF,KAAMqK,EAAarK,KACnBL,MAAO0K,EAAarK,KACpBE,YAAamK,EAAarK,KAC1BsK,MAAOD,EAAarK,KACpBuK,SAAU,IACVT,MAAO,OACPU,SAAU,aAId,OAFAH,GAAexJ,KAAkBhG,EAAUwP,GAEpC1Q,KAAKsE,MACPC,KAAK,SAAUuM,GAChB,OAAIA,EAAsBd,OAAO,SAAUe,GAAM,MAAOA,GAAG1K,OAASqK,EAAarK,OAAS1F,QAC/EsE,EAAMuL,OAAOE,EAAarK,QAIpC9B,KAAK,WAAc,MAAOU,GAAMb,KAAKoH,qBACrCjH,KAAK,SAAU4D,GAChBuI,EAAexJ,KAAkBmI,EAAiBkB,SAAUG,EAC5D,IAAIM,GAAQ3B,EAAiBI,OAAOiB,EAAaP,MACjDO,GAAaP,MAAQa,EAAM3R,EAC3B,IAAIsL,IACAtH,QAASU,EAAQhE,QAAQsD,QAAQoF,cAAcN,GAEnD,OAAOlD,GAAMb,KAAKsE,KAAKsI,EAAMnQ,IAAK6P,EAAc/F,MAGxD2E,EAAcpN,UAAU+O,eAAiB,SAAUlL,EAAMmL,EAAOvG,GAC/C,SAATA,IAAmBA,KACvB,IAAI+F,IACArK,KAAMN,EACNoL,YAAaD,EAGjB,OADAR,GAAexJ,KAAkBwJ,EAAc/F,GACxC3K,KAAKyQ,IAAIC,IAGpBpB,EAAcpN,UAAUkP,WAAa,SAAUrL,EAAMlF,EAAK8J,GACzC,SAATA,IAAmBA,KACvB,IAAI0G,GAAiB,8TAA2UxQ,EAAM,sNACtW,OAAOb,MAAKiR,eAAelL,EAAMsL,EAAgB1G,IAErD2E,EAAcpN,UAAUoP,cAAgB,SAAUvL,EAAMlF,EAAK8J,GAC5C,SAATA,IAAmBA,KACvB,IAAI0G,GAAiB,gKAAuKxQ,EAAM,oGAClM,OAAOb,MAAKiR,eAAelL,EAAMsL,EAAgB1G,IAE9C2E,IAEXnQ,GAAQY,QAAUuP,GXunBZ,SAAUlQ,EAAQD,GYnwBxB,YACAwC,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,IACtDlD,EAAQoR,UACJlI,YACIC,KAAQ,wBAGhBnJ,EAAQsQ,QACJC,KACIrQ,GAAI,EACJ0G,KAAM,MACNlF,IAAK,0BAET8O,MACItQ,GAAI,EACJ0G,KAAM,OACNlF,IAAK,6BZ6wBP,SAAUzB,EAAQD,Ga7xBxB,YACAwC,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,IACtDlD,EAAQqH,kBACAT,KAAQ,YACRgB,IAAO,EACPC,KAAQ,IAERjB,KAAQ,gBACRgB,IAAO,EACPC,KAAQ,IAERjB,KAAQ,eACRgB,IAAO,EACPC,KAAQ,IAERjB,KAAQ,gBACRgB,IAAO,EACPC,KAAQ,IAERjB,KAAQ,kBACRgB,IAAO,EACPC,KAAQ,IAERjB,KAAQ,eACRgB,IAAO,GACPC,KAAQ,IAERjB,KAAQ,YACRgB,IAAO,GACPC,KAAQ,IAERjB,KAAQ,eACRgB,IAAO,GACPC,KAAQ,IAERjB,KAAQ,iBACRgB,IAAO,IACPC,KAAQ,IAERjB,KAAQ,iBACRgB,IAAO,IACPC,KAAQ,IAERjB,KAAQ,sBACRgB,IAAO,IACPC,KAAQ,IAERjB,KAAQ,cACRgB,IAAO,KACPC,KAAQ,IAERjB,KAAQ,gBACRgB,IAAO,KACPC,KAAQ,IAERjB,KAAQ,4BACRgB,IAAO,KACPC,KAAQ,IAERjB,KAAQ,OACRgB,IAAO,MACPC,KAAQ,IAERjB,KAAQ,YACRgB,IAAO,OACPC,KAAQ,IAERjB,KAAQ,uBACRgB,IAAO,OACPC,KAAQ,IAERjB,KAAQ,sBACRgB,IAAO,OACPC,KAAQ,IAERjB,KAAQ,mBACRgB,IAAO,QACPC,KAAQ,IAERjB,KAAQ,gBACRgB,IAAO,QACPC,KAAQ,IAERjB,KAAQ,gBACRgB,IAAO,QACPC,KAAQ,IAERjB,KAAQ,gBACRgB,IAAO,QACPC,KAAQ,IAERjB,KAAQ,eACRgB,IAAO,SACPC,KAAQ,IAERjB,KAAQ,oBACRgB,IAAO,SACPC,KAAQ,IAERjB,KAAQ,oBACRgB,IAAO,SACPC,KAAQ,IAERjB,KAAQ,iBACRgB,IAAO,UACPC,KAAQ,IAERjB,KAAQ,wBACRgB,IAAO,UACPC,KAAQ,IAERjB,KAAQ,yBACRgB,IAAO,UACPC,KAAQ,IAERjB,KAAQ,YACRgB,IAAO,WACPC,KAAQ,IAERjB,KAAQ,gCACRgB,KAAO,WACPC,KAAQ,IAERjB,KAAQ,uBACRgB,IAAO,EACPC,KAAQ,KAERjB,KAAQ,gBACRgB,IAAO,EACPC,KAAQ,KAERjB,KAAQ,eACRgB,IAAO,EACPC,KAAQ,KAERjB,KAAQ,eACRgB,IAAO,EACPC,KAAQ,MAERjB,KAAQ,iBACRgB,IAAO,EACPC,KAAQ,MAERjB,KAAQ,uBACRgB,IAAO,EACPC,KAAQ,cbsyBV,SAAU5H,EAAQD,EAASH,Gcv7BjC,YACA2C,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAI0B,GAAU/E,EAAQ,GAClBuS,EAAY,WACZ,QAASA,GAASpN,GACdnE,KAAKoE,KAAOD,EACZnE,KAAKkE,QAAU,iCA2CnB,MAxCAqN,GAASrP,UAAUsP,QAAU,WACzB,GAAI3Q,GAAMb,KAAKkE,QAAU,kBACzB,OAAOlE,MAAKoE,KAAKE,IAAIzD,GAChB0D,KAAKR,EAAQhE,QAAQS,iBACrB+D,KAAKkN,IAEdF,EAASrP,UAAUoC,IAAM,SAAUK,GAC/B,GAAIM,GAAQjF,IACZ,OAAK2E,GAEE3E,KAAK0R,WAAW/M,GAAMJ,KAAK,SAAUI,GACxC,GAAIC,GAAQC,mBAAmBF,EAAKG,WAAaH,EAAKgN,aAClD9Q,EAAMoE,EAAMf,QAAU,yCAA2CU,EAAQ,GAC7E,OAAOK,GAAMb,KAAKE,IAAIzD,GACjB0D,KAAKR,EAAQhE,QAAQS,iBACrB+D,KAAKkN,KANHzR,KAAKwR,WASpBD,EAASrP,UAAUwP,WAAa,SAAU/M,GACtC,GAAKA,GAAwB,gBAATA,GAGf,IAAIA,EAAKgN,aAAehN,EAAKG,UAC9B,MAAOhF,SAAQ8C,QAAQ+B,EAGvB,MAAM,IAAI1D,OAAM,sDANhB,MAAOjB,MAAKoE,KAAKe,IAAIC,QAAQT,IAQrC4M,EAASrP,UAAU0P,YAAc,SAAUxK,EAAK/E,EAAOsC,GACnD,GAAIM,GAAQjF,IACZ,OAAOA,MAAK0R,WAAW/M,GAAMJ,KAAK,SAAUI,GACxC,GAAIkN,IACAC,aAAc1K,EACd2K,cAAe1P,EACf2P,YAAarN,EAAKG,WAAaH,EAAKgN,aAEpC9Q,EAAMoE,EAAMf,QAAU,gCAC1B,OAAOe,GAAMb,KAAKkH,eAAezK,EAAKgR,MAGvCN,IAEXpS,GAAQY,QAAUwR,CAClB,IAAIE,GAA4B,SAAUQ,GAKtC,MAJAC,SAAQC,IAAIF,GACZA,EAAQG,sBAAsB3R,QAAQoG,QAAQ,SAAUwL,GACpDJ,EAAQI,EAASC,KAAOD,EAASE,QAE9BN,Idw7BL,SAAU7S,EAAQD,EAASH,Gej/BjC,YACA2C,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAI0B,GAAU/E,EAAQ,GAClBwT,EAAkBxT,EAAQ,IAC1ByT,EAAU,WACV,QAASA,GAAOtO,GACZnE,KAAKoE,KAAOD,EAqDhB,MAlDAxC,QAAOS,eAAeqQ,EAAOvQ,UAAW,uBAEpCoC,IAAK,WACD,OACIoO,SAAU,KACVC,SAAU,KACVC,SAAU,IACVC,mBAAoB,KACpBC,SAAU,KACVC,kBAAmB,KACnBC,mBAAoB,KACpBC,SAAU,OAGlBC,YAAY,EACZC,cAAc,IAIlBV,EAAOvQ,UAAUkR,MAAQ,SAAUC,EAAWC,GACrB,SAAjBA,IAA2BA,KAC/B,IAAIC,GAAqBxP,EAAQhE,QAAQuD,GAAGE,QAAQ8P,GAAc,GAC9DzS,EAAM,4BAA8BwS,EAAY,KAAOE,CAC3D,OAAOvT,MAAKoE,KAAKE,IAAIzD,GAChB0D,KAAKR,EAAQhE,QAAQS,iBACrB+D,KAAK,SAAUiP,GAChB,GAAIA,EAAKJ,MACL,MAAOZ,GAAgBiB,YAAYD,EAAKJ,MAC5C,MAAM,IAAInS,OAAM,gDAKxBwR,EAAOvQ,UAAUwR,OAAS,SAAUL,EAAWC,GAG3C,MAFqB,UAAjBA,IAA2BA,MAC/BA,EAAaZ,SAAW,uCACjB1S,KAAKoT,MAAMC,EAAWC,IAIjCb,EAAOvQ,UAAUyR,MAAQ,SAAUN,EAAWO,EAAUN,GAClC,SAAdD,IAAwBA,EAAY,IACvB,SAAbO,IAAuBA,EAAW,IACjB,SAAjBN,IAA2BA,MAC/BM,EAAWA,EAAW,QAAUA,EAAW,IAAM,EACjD,IAAIR,IAASC,EAAY,yBAA2BO,GAAUC,MAE9D,OADAP,GAAaV,SAAWU,EAAaV,UAAY,IAC1C5S,KAAKoT,MAAMA,EAAOE,IAGtBb,IAEXtT,GAAQY,QAAU0S,GfggCZ,SAAUrT,EAAQD,GgB7jCxB,YACAwC,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,IACtDlD,EAAQsU,YAAc,SAAUK,GAC5B,OACIC,YAAaD,EAAYE,YACzBC,WAAYH,EAAYI,mBACxBC,aAAcL,EAAYM,mBAAmBC,gBAAgBC,SAC7DC,aAAcT,EAAYM,mBAAmBC,gBAAgBG,UAC7DC,gCAAiCX,EAAYM,mBAAmBC,gBAAgBK,6BAChF3M,MAAO5I,EAAQwV,SAASb,EAAYM,mBAAmBC,gBAAgBO,MAAMC,KAAKpU,SAClFqS,SAAU3T,EAAQ2V,YAAYhB,EAAYM,mBAAmBW,qBAGrE5V,EAAQ2V,YAAc,SAAUE,GAC5B,GAAIlC,KASJ,OARIkC,IAAqBA,EAAkBC,UAAYD,EAAkBC,SAASxU,UAC9EqS,EAAWkC,EAAkBC,SAASxU,QAAQ+D,IAAI,SAAU0Q,GACxD,OACIC,YAAaD,EAAE7O,KACf+O,eAAgBF,EAAEG,QAAQ5U,YAI/BqS,GAEX3T,EAAQwV,SAAW,SAAUW,GAEzB,IAAK,GADDvN,MACKhG,EAAI,EAAGA,EAAIuT,EAAS3U,OAAQoB,IAAK,CAEtC,IAAK,GADDwT,GAAMD,EAASvT,GAAImG,KACdsN,EAAI,EAAGA,EAAID,EAAIE,MAAMhV,QAAQE,OAAQ6U,IAC1CtN,EAAKqN,EAAIE,MAAMhV,QAAQ+U,GAAGlD,KAAOiD,EAAIE,MAAMhV,QAAQ+U,GAAGjD,KAE1DxK,GAAMd,KAAKiB,GAEf,MAAOH,KhBukCL,SAAU3I,EAAQD,GiBzmCxB,YACAwC,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,IACtDlD,EAAQ6B,kBAAoB,SAAU0U,GAIlC,IAAK,GAHD1E,GAAQ9Q,OACRyV,EAAWD,EAAUE,MAAM,KAC3BC,EAAiBF,EAAShV,OACrBoB,EAAI,EAAGA,EAAI8T,EAAgB9T,IAAK,CACrC,GAAI+T,GAAOH,EAAS5T,EACpB,MAAI+T,IAAQ9E,IAIR,OAAO,CAHPA,GAAQA,EAAM8E,GAMtB,OAAO,EAEX,IAAIC,GAAoB,QAApBA,GAA8BC,EAAYpT,GAC1C,GAAIqT,GAAUD,EAAWhG,OAAO,SAAU0F,GAAa,OAAQvW,EAAQ6B,kBAAkB0U,IAClE,KAAnBO,EAAQtV,OACRiC,IAEAoL,WAAW,WAAc,MAAO+H,GAAkBC,EAAYpT,IAAa,IAEnFzD,GAAQyE,iBAAmB,SAAUoS,GACjC,MAAO,IAAIlW,SAAQ,SAAU8C,EAASC,GAAU,MAAOkT,GAAkBC,EAAYpT,MAEzFzD,EAAQ0E,eAAiB,SAAU6R,GAC/B,MAAOvW,GAAQyE,kBAAkB8R,KAErCvW,EAAQ2E,eAAiB,SAAUoS,EAAUC,GACzB,SAAZA,IAAsBA,EAAU,IACpC,IAAIC,GAAU,EACVC,EAAW,GACXC,EAAeH,EAAUE,CAC7B,OAAO,IAAIvW,SAAQ,SAAU8C,EAASC,GAClC,GAAI0T,GAAkB,QAAlBA,KACIH,EAAUE,GACVzT,EAAO,2BAA6BqT,EACxC,IAAIM,GAAOC,SAASC,cAAcR,EAC7BM,GAKD5T,EAAQ4T,IAJRJ,IACApI,WAAWuI,EAAiBF,IAKpCE,SjBonCF,SAAUnX,EAAQD,GkBnqCxB,YAIA,SAASwX,GAAmBxO,GACxB,GAAI9E,IACA2H,OAAU4L,EACV3L,eAAgB2L,EAIpB,OAFIzO,KACA9E,EAAQ,mBAAqB8E,GAC1B9E,ElB4pCV,GAAI6D,GAAWvF,OAAOC,QAAU,SAAUqB,GAAU,IAAK,GAAIlB,GAAI,EAAGA,EAAIE,UAAUtB,OAAQoB,IAAK,CAAE,GAAIoF,GAASlF,UAAUF,EAAI,KAAK,GAAIqF,KAAOD,GAAcxF,OAAOO,UAAUC,eAAe5C,KAAK4H,EAAQC,KAAQnE,EAAOmE,GAAOD,EAAOC,IAAY,MAAOnE,GkBtqCxPtB,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GAEtD,IAAIuU,GAAe,iCAUfnO,EAAgBkO,EAChBE,EAAuB,SAAU1O,GACjC,OACI6C,OAAU4L,EACVE,kBAAmB3O,EACnB8C,eAAgB,2BAChB8L,wBAA2B,SAG/BtL,EAAmB,SAAUF,EAAMpD,GACnC,MAAOjB,MAAkByP,EAAmBxO,IACxC6O,gBAAiBzL,KAGrB0L,EAAe,SAAU5T,EAAS0F,GAGlC,MAFIA,KACA1F,EAAQ,YAAc0F,GACnB1F,GAEPyF,EAAmB,SAAUX,EAAQY,GAAQ,MAAOkO,GAAaxL,EAAiB,QAAStD,GAASY,IACpGG,EAAmB,SAAUf,EAAQY,GAAQ,MAAOkO,GAAaxL,EAAiB,SAAUtD,GAASY,IACrGmO,GACAP,mBAAoBA,EACpBlO,cAAeA,EACfoO,qBAAsBA,EACtB/N,iBAAkBA,EAClBI,iBAAkBA,EAClBuC,iBAAkBA,EAEtBtM,GAAQY,QAAUmX,GlB+qCZ,SAAU9X,EAAQD,GmBztCxB,YACAwC,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,IACtDlD,EAAQwE,QAAU,SAAU9C,GACxB,GAAIsW,GAAOV,SAASW,cAAc,OAClCD,GAAKE,aAAa,MAAO,cACzBF,EAAKE,aAAa,OAAQ,YAC1BF,EAAKE,aAAa,OAAQxW,GAC1B4V,SAASC,cAAc,QAAQY,YAAYH,IAE/ChY,EAAQsE,WAAa,SAAU5C,GAC3B,MAAO,IAAIf,SAAQ,SAAU8C,EAASC,GAClC,GAAI0U,GAAYrX,OAAOuW,SAASW,cAAc,UAC1CI,EAAiBf,SAASgB,qBAAqB,UAAU,EAC7DF,GAAUjL,OAAQ,EAClBkL,EAAeE,WAAWC,aAAaJ,EAAWC,GAClDD,EAAUvU,OAASuU,EAAUrK,mBAAqB,SAAU0K,EAAKC,IAEzDA,IAAYN,EAAUpK,YAAc,kBAAkBtC,KAAK0M,EAAUpK,eAErEoK,EAAUvU,OAASuU,EAAUrK,mBAAqB,KAClDqK,EAAYhL,OAEPsL,GACDjV,MAKZ2U,EAAUO,IAAMjX,KAGxB1B,EAAQuE,YAAc,SAAUqU,GAC5B,MAAOjY,SAAQkY,IAAID,EAAKvT,IAAIrF,EAAQsE,enB+tClC,SAAUrE,EAAQD,EAASH,GoB/vCjC,YAGA,SAASwE,GAAQ4I,EAAK6L,GAClB,GAAIC,GAAa,SAAU9Q,GACvB,GAAI/E,IAAS+J,EAAIhF,GAAO,IAAIyM,MAI5B,QAFIxR,EAAMwJ,QAAQ,MAAO,GAAMoM,KAC3B5V,EAAQ,IAAMA,EAAQ,KACnB+E,EAAM,IAAM/E,GAEnB8V,EAAMxW,OAAOkL,KAAKT,GACjB5H,IAAI0T,GACJE,KAAK,IACV,OAAOD,GAGX,QAAS5U,GAAM4U,GAKX,MAHY5L,UAAR4L,GAAqBjY,QAAUA,OAAOmY,UAAYnY,OAAOmY,SAAS9N,SAClE4N,EAAMjY,OAAOmY,SAAS9N,QAErB4N,GAGU,MAAXA,EAAI,KACJA,EAAMA,EAAIG,OAAO,IACdhV,EAAGhD,MAAM6X,OA1BpBxW,OAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAIiB,GAAKtE,EAAQ,GAcjBG,GAAQqE,QAAUA,EAalBrE,EAAQoE,MAAQA,GpBkwCV,SAAUnE,EAAQD,EAASH,GqB/xCjC,YACA2C,QAAOS,eAAejD,EAAS,cAAgBkD,OAAO,GACtD,IAAI0B,GAAU/E,EAAQ,GAClBqI,EAAcrI,EAAQ,GACtB0Q,EAAO,WACP,QAASA,GAAIvL,GACTnE,KAAKkE,QAAU,OACflE,KAAKoE,KAAOD,EACZnE,KAAK4G,YAAc,GAAIS,GAAYtH,QAAQC,KAAKkE,QAASC,GA+C7D,MA5CAuL,GAAIxN,UAAU8F,QAAU,WACpB,MAAOhI,MAAKoE,KACPE,IAAItE,KAAKkE,SACTK,KAAKR,EAAQhE,QAAQS,kBAG9BkP,EAAIxN,UAAUqW,YAAc,WACxB,MAAOvY,MAAKoE,KACPE,IAAItE,KAAKkE,QAAU,aACnBK,KAAKR,EAAQhE,QAAQS,kBAE9BkP,EAAIxN,UAAUkD,QAAU,SAAUJ,GAC9B,GAAInE,GAAMmE,EAAQhF,KAAKkE,QAAU,0BAA4Bc,EAAQ,KAAOhF,KAAKkE,QAAU,cAC3F,OAAOlE,MAAKoE,KAAKE,IAAIzD,GAAK0D,KAAKR,EAAQhE,QAAQS,kBAEnDkP,EAAIxN,UAAUsW,WAAa,SAAU5T,GACjC,MAAO5E,MAAKoE,KAAKsE,KAAK,oBAAsB9D,EAAQ,MAAML,KAAKR,EAAQhE,QAAQS,kBAGnFkP,EAAIxN,UAAUuW,QAAU,SAAU5X,GAC9B,GAAIA,GAAM,oCAAsCA,EAAM,IACtD,OAAOb,MAAKoE,KAAKE,IAAIzD,GAAK0D,KAAKR,EAAQhE,QAAQS,kBAEnDkP,EAAIxN,UAAUwW,UAAY,SAAUC,EAAWC,EAAgBzQ,GAC3D,GAAItH,GAAM,oCAAsC8X,EAAY,YACxDtX,GACAgC,QAASU,EAAQhE,QAAQsD,QAAQoF,cAAcN,IAE/CiD,GACAyN,UAAWD,EACXE,YAAY,EAEhB,OAAO9Y,MAAKoE,KAAKsE,KAAK7H,EAAKuK,EAAM/J,IAOrCqO,EAAIxN,UAAU6W,SAAW,SAAUJ,EAAWC,EAAgBzQ,GAC1D,GAAIlD,GAAQjF,IACZ,OAAOA,MAAKoE,KAAKgE,qBAAqBD,GACjC5D,KAAK,SAAU4D,GAAU,MAAOlD,GAAMyT,UAAUC,EAAWC,EAAgBzQ,MAE7EuH,IAEXvQ,GAAQY,QAAU2P,GrBmyCV,CAEF,SAAUtQ,EAAQD,GsBn1CxB,QAAA6Z,KACA,SAAA/X,OAAA,mCAEA,QAAAgY,KACA,SAAAhY,OAAA,qCAsBA,QAAAiY,GAAAC,GACA,GAAAC,IAAApL,WAEA,MAAAA,YAAAmL,EAAA,EAGA,KAAAC,IAAAJ,IAAAI,IAAApL,WAEA,MADAoL,GAAApL,WACAA,WAAAmL,EAAA,EAEA,KAEA,MAAAC,GAAAD,EAAA,GACK,MAAA5Y,GACL,IAEA,MAAA6Y,GAAA7Z,KAAA,KAAA4Z,EAAA,GACS,MAAA5Y,GAET,MAAA6Y,GAAA7Z,KAAAS,KAAAmZ,EAAA,KAMA,QAAAE,GAAAC,GACA,GAAAC,IAAAC,aAEA,MAAAA,cAAAF,EAGA,KAAAC,IAAAN,IAAAM,IAAAC,aAEA,MADAD,GAAAC,aACAA,aAAAF,EAEA,KAEA,MAAAC,GAAAD,GACK,MAAA/Y,GACL,IAEA,MAAAgZ,GAAAha,KAAA,KAAA+Z,GACS,MAAA/Y,GAGT,MAAAgZ,GAAAha,KAAAS,KAAAsZ,KAYA,QAAAG,KACAC,GAAAC,IAGAD,GAAA,EACAC,EAAAhZ,OACAiZ,EAAAD,EAAA7J,OAAA8J,GAEAC,GAAA,EAEAD,EAAAjZ,QACAmZ,KAIA,QAAAA,KACA,IAAAJ,EAAA,CAGA,GAAAvD,GAAA+C,EAAAO,EACAC,IAAA,CAGA,KADA,GAAAK,GAAAH,EAAAjZ,OACAoZ,GAAA,CAGA,IAFAJ,EAAAC,EACAA,OACAC,EAAAE,GACAJ,GACAA,EAAAE,GAAAG,KAGAH,IAAA,EACAE,EAAAH,EAAAjZ,OAEAgZ,EAAA,KACAD,GAAA,EACAL,EAAAlD,IAiBA,QAAA8D,GAAAd,EAAAe,GACAla,KAAAmZ,MACAnZ,KAAAka,QAYA,QAAAC,MAhKA,GAOAf,GACAG,EARAa,EAAAhb,EAAAD,YAgBA,WACA,IAEAia,EADA,kBAAApL,YACAA,WAEAgL,EAEK,MAAAzY,GACL6Y,EAAAJ,EAEA,IAEAO,EADA,kBAAAC,cACAA,aAEAP,EAEK,MAAA1Y,GACLgZ,EAAAN,KAuDA,IAEAU,GAFAC,KACAF,GAAA,EAEAG,GAAA,CAyCAO,GAAAC,SAAA,SAAAlB,GACA,GAAAtH,GAAA,GAAAyI,OAAArY,UAAAtB,OAAA,EACA,IAAAsB,UAAAtB,OAAA,EACA,OAAAoB,GAAA,EAAuBA,EAAAE,UAAAtB,OAAsBoB,IAC7C8P,EAAA9P,EAAA,GAAAE,UAAAF,EAGA6X,GAAA3S,KAAA,GAAAgT,GAAAd,EAAAtH,IACA,IAAA+H,EAAAjZ,QAAA+Y,GACAR,EAAAY,IASAG,EAAA/X,UAAA8X,IAAA,WACAha,KAAAmZ,IAAAoB,MAAA,KAAAva,KAAAka,QAEAE,EAAAhZ,MAAA,UACAgZ,EAAAI,SAAA,EACAJ,EAAAK,OACAL,EAAAM,QACAN,EAAAO,QAAA,GACAP,EAAAQ,YAIAR,EAAAS,GAAAV,EACAC,EAAAU,YAAAX,EACAC,EAAAW,KAAAZ,EACAC,EAAAY,IAAAb,EACAC,EAAAa,eAAAd,EACAC,EAAAc,mBAAAf,EACAC,EAAAe,KAAAhB,EACAC,EAAAgB,gBAAAjB,EACAC,EAAAiB,oBAAAlB,EAEAC,EAAAkB,UAAA,SAAAvV,GAAqC,UAErCqU,EAAAmB,QAAA,SAAAxV,GACA,SAAA9E,OAAA,qCAGAmZ,EAAAoB,IAAA,WAA2B,WAC3BpB,EAAAqB,MAAA,SAAAC,GACA,SAAAza,OAAA,mCAEAmZ,EAAAuB,MAAA,WAA4B,WtBq2CtB,SAAUvc,EAAQD,EAASH,IuB5hDjC,SAAA4c,IAAA,SAAAC,GAMA,QAAA1B,MAGA,QAAApM,GAAA+N,EAAAC,GACA,kBACAD,EAAAvB,MAAAwB,EAAA9Z,YAIA,QAAAnC,GAAAgc,GACA,mBAAA9b,MAAA,SAAAgc,WAAA,uCACA,sBAAAF,GAAA,SAAAE,WAAA,iBACAhc,MAAAic,OAAA,EACAjc,KAAAkc,UAAA,EACAlc,KAAAmc,OAAA5P,OACAvM,KAAAoc,cAEAC,EAAAP,EAAA9b,MAGA,QAAAsc,GAAAC,EAAAC,GACA,SAAAD,EAAAN,QACAM,IAAAJ,MAEA,YAAAI,EAAAN,WACAM,GAAAH,WAAAnV,KAAAuV,IAGAD,EAAAL,UAAA,MACApc,GAAA2c,aAAA,WACA,GAAAC,GAAA,IAAAH,EAAAN,OAAAO,EAAAG,YAAAH,EAAAI,UACA,WAAAF,EAEA,YADA,IAAAH,EAAAN,OAAArZ,EAAAC,GAAA2Z,EAAAK,QAAAN,EAAAJ,OAGA,IAAAW,EACA,KACAA,EAAAJ,EAAAH,EAAAJ,QACO,MAAA5b,GAEP,WADAsC,GAAA2Z,EAAAK,QAAAtc,GAGAqC,EAAA4Z,EAAAK,QAAAC,MAIA,QAAAla,GAAA2Z,EAAAQ,GACA,IAEA,GAAAA,IAAAR,EAAA,SAAAP,WAAA,4CACA,IAAAe,IAAA,gBAAAA,IAAA,kBAAAA,IAAA,CACA,GAAAxY,GAAAwY,EAAAxY,IACA,IAAAwY,YAAAjd,GAIA,MAHAyc,GAAAN,OAAA,EACAM,EAAAJ,OAAAY,MACAC,GAAAT,EAES,sBAAAhY,GAET,WADA8X,GAAAtO,EAAAxJ,EAAAwY,GAAAR,GAIAA,EAAAN,OAAA,EACAM,EAAAJ,OAAAY,EACAC,EAAAT,GACK,MAAAhc,GACLsC,EAAA0Z,EAAAhc,IAIA,QAAAsC,GAAA0Z,EAAAQ,GACAR,EAAAN,OAAA,EACAM,EAAAJ,OAAAY,EACAC,EAAAT,GAGA,QAAAS,GAAAT,GACA,IAAAA,EAAAN,QAAA,IAAAM,EAAAH,WAAAzb,QACAb,EAAA2c,aAAA,WACAF,EAAAL,UACApc,EAAAmd,sBAAAV,EAAAJ,SAKA,QAAApa,GAAA,EAAAgY,EAAAwC,EAAAH,WAAAzb,OAAiDoB,EAAAgY,EAAShY,IAC1Dua,EAAAC,IAAAH,WAAAra,GAEAwa,GAAAH,WAAA,KAGA,QAAAc,GAAAP,EAAAC,EAAAC,GACA7c,KAAA2c,YAAA,kBAAAA,KAAA,KACA3c,KAAA4c,WAAA,kBAAAA,KAAA,KACA5c,KAAA6c,UASA,QAAAR,GAAAP,EAAAS,GACA,GAAAY,IAAA,CACA,KACArB,EAAA,SAAAzZ,GACA8a,IACAA,GAAA,EACAva,EAAA2Z,EAAAla,KACO,SAAA+a,GACPD,IACAA,GAAA,EACAta,EAAA0Z,EAAAa,MAEK,MAAAxT,GACL,GAAAuT,EAAA,MACAA,IAAA,EACAta,EAAA0Z,EAAA3S,IAxHA,GAAAyT,GAAArP,UA4HAlO,GAAAoC,UAAA,eAAA0a,GACA,MAAA5c,MAAAuE,KAAA,KAAAqY,IAGA9c,EAAAoC,UAAAqC,KAAA,SAAAoY,EAAAC,GACA,GAAAU,GAAA,GAAAtd,MAAA,YAAAma,EAGA,OADAmC,GAAAtc,KAAA,GAAAkd,GAAAP,EAAAC,EAAAU,IACAA,GAGAxd,EAAAkY,IAAA,SAAAuF,GACA,GAAA1L,GAAAyI,MAAApY,UAAAsb,MAAAje,KAAAge,EAEA,WAAAzd,GAAA,SAAA8C,EAAAC,GAIA,QAAA4a,GAAA1b,EAAA2b,GACA,IACA,GAAAA,IAAA,gBAAAA,IAAA,kBAAAA,IAAA,CACA,GAAAnZ,GAAAmZ,EAAAnZ,IACA,sBAAAA,GAIA,WAHAA,GAAAhF,KAAAme,EAAA,SAAAA,GACAD,EAAA1b,EAAA2b,IACe7a,GAIfgP,EAAA9P,GAAA2b,EACA,MAAAC,GACA/a,EAAAiP,GAES,MAAAjI,GACT/G,EAAA+G,IAnBA,OAAAiI,EAAAlR,OAAA,MAAAiC,MAuBA,QAtBA+a,GAAA9L,EAAAlR,OAsBAoB,EAAA,EAAqBA,EAAA8P,EAAAlR,OAAiBoB,IACtC0b,EAAA1b,EAAA8P,EAAA9P,OAKAjC,EAAA8C,QAAA,SAAAP,GACA,MAAAA,IAAA,gBAAAA,MAAAgK,cAAAvM,EACAuC,EAGA,GAAAvC,GAAA,SAAA8C,GACAA,EAAAP,MAIAvC,EAAA+C,OAAA,SAAAR,GACA,UAAAvC,GAAA,SAAA8C,EAAAC,GACAA,EAAAR,MAIAvC,EAAA8d,KAAA,SAAAC,GACA,UAAA/d,GAAA,SAAA8C,EAAAC,GACA,OAAAd,GAAA,EAAAgY,EAAA8D,EAAAld,OAA0CoB,EAAAgY,EAAShY,IACnD8b,EAAA9b,GAAAwC,KAAA3B,EAAAC,MAMA/C,EAAA2c,aAAA,kBAAAb,IAAA,SAAAE,GAA+EF,EAAAE,KAC/E,SAAAA,GACAuB,EAAAvB,EAAA,IAGAhc,EAAAmd,sBAAA,SAAA3P,GACA,mBAAA4E,mBACAA,QAAA4L,KAAA,wCAAAxQ,IASAxN,EAAAie,gBAAA,SAAAjC,GACAhc,EAAA2c,aAAAX,GAQAhc,EAAAke,yBAAA,SAAAlC,GACAhc,EAAAmd,sBAAAnB,GAGA,mBAAA1c,MAAAD,QACAC,EAAAD,QAAAW,EACG+b,EAAA/b,UACH+b,EAAA/b,YAGCE,QvBgiD6BT,KAAKJ,EAASH,EAAoB,IAAI4c,eAI9D,SAAUxc,EAAQD,GwBvvDxB,YAKA,SAAAgD,GAAAiK,EAAA0J,GACA,MAAAnU,QAAAO,UAAAC,eAAA5C,KAAA6M,EAAA0J,GAGA1W,EAAAD,QAAA,SAAAmE,EAAA2a,EAAAC,EAAA7c,GACA4c,KAAA,IACAC,KAAA,GACA,IAAA9R,KAEA,oBAAA9I,IAAA,IAAAA,EAAA3C,OACA,MAAAyL,EAGA,IAAA+R,GAAA,KACA7a,KAAAsS,MAAAqI,EAEA,IAAAG,GAAA,GACA/c,IAAA,gBAAAA,GAAA+c,UACAA,EAAA/c,EAAA+c,QAGA,IAAArE,GAAAzW,EAAA3C,MAEAyd,GAAA,GAAArE,EAAAqE,IACArE,EAAAqE,EAGA,QAAArc,GAAA,EAAiBA,EAAAgY,IAAShY,EAAA,CAC1B,GAEAsc,GAAAC,EAAAC,EAAAC,EAFAC,EAAAnb,EAAAvB,GAAA2c,QAAAP,EAAA,OACAQ,EAAAF,EAAA5S,QAAAqS,EAGAS,IAAA,GACAN,EAAAI,EAAAnG,OAAA,EAAAqG,GACAL,EAAAG,EAAAnG,OAAAqG,EAAA,KAEAN,EAAAI,EACAH,EAAA,IAGAC,EAAAK,mBAAAP,GACAG,EAAAI,mBAAAN,GAEAnc,EAAAiK,EAAAmS,GAEKjE,MAAAuE,QAAAzS,EAAAmS,IACLnS,EAAAmS,GAAAtX,KAAAuX,GAEApS,EAAAmS,IAAAnS,EAAAmS,GAAAC,GAJApS,EAAAmS,GAAAC,EAQA,MAAApS,KxBoxDM,SAAUhN,EAAQD,GyB70DxB,YAEA,IAAA2f,GAAA,SAAAN,GACA,aAAAA,IACA,aACA,MAAAA,EAEA,eACA,MAAAA,GAAA,cAEA,cACA,MAAAO,UAAAP,KAAA,EAEA,SACA,UAIApf,GAAAD,QAAA,SAAAiN,EAAA6R,EAAAC,EAAAnY,GAOA,MANAkY,MAAA,IACAC,KAAA,IACA,OAAA9R,IACAA,EAAAG,QAGA,gBAAAH,GACAzK,OAAAkL,KAAAT,GAAA5H,IAAA,SAAA+Z,GACA,GAAAS,GAAAna,mBAAAia,EAAAP,IAAAL,CACA,OAAA5D,OAAAuE,QAAAzS,EAAAmS,IACAnS,EAAAmS,GAAA/Z,IAAA,SAAAga,GACA,MAAAQ,GAAAna,mBAAAia,EAAAN,MACSpG,KAAA6F,GAETe,EAAAna,mBAAAia,EAAA1S,EAAAmS,OAEKnG,KAAA6F,GAILlY,EACAlB,mBAAAia,EAAA/Y,IAAAmY,EACArZ,mBAAAia,EAAA1S,IAFA,KzB42DM,SAAUhN,EAAQD,EAASH,G0Bx6DjC,YAEAG,GAAA8f,OAAA9f,EAAAmB,MAAAtB,EAAA,IACAG,EAAA+f,OAAA/f,EAAA2M,UAAA9M,EAAA,K1B+6DM,SAAUI,EAAQD,EAASH,I2Bl7DjC,SAAAW,EAAAya,IAAA,SAAAza,EAAA4M,GACA,YAYA,SAAAqP,GAAAuD,GAEA,kBAAAA,KACAA,EAAA,GAAAC,UAAA,GAAAD,GAIA,QADAtN,GAAA,GAAAyI,OAAArY,UAAAtB,OAAA,GACAoB,EAAA,EAAqBA,EAAA8P,EAAAlR,OAAiBoB,IACtC8P,EAAA9P,GAAAE,UAAAF,EAAA,EAGA,IAAAsd,IAAkBF,WAAAtN,OAGlB,OAFAyN,GAAAC,GAAAF,EACAG,EAAAD,GACAA,IAGA,QAAAE,GAAAnD,SACAgD,GAAAhD,GAGA,QAAAtC,GAAAqF,GACA,GAAAF,GAAAE,EAAAF,SACAtN,EAAAwN,EAAAxN,IACA,QAAAA,EAAAlR,QACA,OACAwe,GACA,MACA,QACAA,EAAAtN,EAAA,GACA,MACA,QACAsN,EAAAtN,EAAA,GAAAA,EAAA,GACA,MACA,QACAsN,EAAAtN,EAAA,GAAAA,EAAA,GAAAA,EAAA,GACA,MACA,SACAsN,EAAA5E,MAAAhO,EAAAsF,IAKA,QAAA6N,GAAApD,GAGA,GAAAqD,EAGA3R,WAAA0R,EAAA,EAAApD,OACS,CACT,GAAA+C,GAAAC,EAAAhD,EACA,IAAA+C,EAAA,CACAM,GAAA,CACA,KACA3F,EAAAqF,GACiB,QACjBI,EAAAnD,GACAqD,GAAA,KAMA,QAAAC,KACAJ,EAAA,SAAAlD,GACAlC,EAAAC,SAAA,WAA0CqF,EAAApD,MAI1C,QAAAuD,KAGA,GAAAlgB,EAAAmgB,cAAAngB,EAAAogB,cAAA,CACA,GAAAC,IAAA,EACAC,EAAAtgB,EAAAugB,SAMA,OALAvgB,GAAAugB,UAAA,WACAF,GAAA,GAEArgB,EAAAmgB,YAAA,QACAngB,EAAAugB,UAAAD,EACAD,GAIA,QAAAG,KAKA,GAAAC,GAAA,gBAAAC,KAAAC,SAAA,IACAC,EAAA,SAAAC,GACAA,EAAArZ,SAAAxH,GACA,gBAAA6gB,GAAApgB,MACA,IAAAogB,EAAApgB,KAAAyL,QAAAuU,IACAV,GAAAc,EAAApgB,KAAAod,MAAA4C,EAAAzf,SAIAhB,GAAA8gB,iBACA9gB,EAAA8gB,iBAAA,UAAAF,GAAA,GAEA5gB,EAAA+gB,YAAA,YAAAH,GAGAf,EAAA,SAAAlD,GACA3c,EAAAmgB,YAAAM,EAAA9D,EAAA,MAIA,QAAAqE,KACA,GAAAC,GAAA,GAAAC,eACAD,GAAAE,MAAAZ,UAAA,SAAAM,GACA,GAAAlE,GAAAkE,EAAApgB,IACAsf,GAAApD,IAGAkD,EAAA,SAAAlD,GACAsE,EAAAG,MAAAjB,YAAAxD,IAIA,QAAA0E,KACA,GAAAC,GAAAC,EAAAC,eACA3B,GAAA,SAAAlD,GAGA,GAAA8E,GAAAF,EAAA9J,cAAA,SACAgK,GAAAlU,mBAAA,WACAwS,EAAApD,GACA8E,EAAAlU,mBAAA,KACA+T,EAAAI,YAAAD,GACAA,EAAA,MAEAH,EAAA3J,YAAA8J,IAIA,QAAAE,KACA9B,EAAA,SAAAlD,GACAtO,WAAA0R,EAAA,EAAApD,IAtJA,IAAA3c,EAAAic,aAAA,CAIA,GAIA4D,GAJAD,EAAA,EACAD,KACAK,GAAA,EACAuB,EAAAvhB,EAAA8W,SAoJA8K,EAAA5f,OAAA6f,gBAAA7f,OAAA6f,eAAA7hB,EACA4hB,QAAAvT,WAAAuT,EAAA5hB,EAGU,wBAAA8hB,SAAAliB,KAAAI,EAAAya,SAEVwF,IAEKC,IAELM,IAEKxgB,EAAAkhB,eAELF,IAEKO,GAAA,sBAAAA,GAAA9J,cAAA,UAEL4J,IAIAM,IAGAC,EAAA3F,eACA2F,EAAA9B,mBACC,mBAAAlD,MAAA,mBAAA5c,GAAAK,KAAAL,EAAA4c,Q3Bs7D6Bhd,KAAKJ,EAAU,WAAa,MAAOa,SAAYhB,EAAoB,MAI3F,SAAUI,EAAQD,EAASH,G4BlmEjC,QAAA0iB,GAAAriB,EAAAsiB,GACA3hB,KAAA4hB,IAAAviB,EACAW,KAAA6hB,SAAAF,EAnBA,GAAApH,GAAA6E,SAAAld,UAAAqY,KAIApb,GAAA6O,WAAA,WACA,UAAA0T,GAAAnH,EAAAhb,KAAAyO,WAAA9N,OAAA+B,WAAAuX,eAEAra,EAAA2iB,YAAA,WACA,UAAAJ,GAAAnH,EAAAhb,KAAAuiB,YAAA5hB,OAAA+B,WAAA8f,gBAEA5iB,EAAAqa,aACAra,EAAA4iB,cAAA,SAAA5L,GACAA,GACAA,EAAA6L,SAQAN,EAAAxf,UAAA+f,MAAAP,EAAAxf,UAAAggB,IAAA,aACAR,EAAAxf,UAAA8f,MAAA,WACAhiB,KAAA6hB,SAAAtiB,KAAAW,OAAAF,KAAA4hB,MAIAziB,EAAAgjB,OAAA,SAAAja,EAAAka,GACA5I,aAAAtR,EAAAma,gBACAna,EAAAoa,aAAAF,GAGAjjB,EAAAojB,SAAA,SAAAra,GACAsR,aAAAtR,EAAAma,gBACAna,EAAAoa,cAAA,GAGAnjB,EAAAqjB,aAAArjB,EAAAsjB,OAAA,SAAAva,GACAsR,aAAAtR,EAAAma,eAEA,IAAAD,GAAAla,EAAAoa,YACAF,IAAA,IACAla,EAAAma,eAAArU,WAAA,WACA9F,EAAAwa,YACAxa,EAAAwa,cACKN,KAKLpjB,EAAA,IACAG,EAAAyc,0BACAzc,EAAAsgB","file":"spscript.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\t\n\tvar promise_polyfill_1 = __webpack_require__(25);\n\tvar SPScript_1 = __webpack_require__(7);\n\tif (!global.Promise) {\n\t    global.Promise = promise_polyfill_1.default;\n\t}\n\tmodule.exports = SPScript_1.default;\n\t//# sourceMappingURL=entry.browser.js.map\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar __assign = undefined && undefined.__assign || Object.assign || function (t) {\n\t    for (var s, i = 1, n = arguments.length; i < n; i++) {\n\t        s = arguments[i];\n\t        for (var p in s) {\n\t            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n\t        }\n\t    }\n\t    return t;\n\t};\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar queryString_1 = __webpack_require__(21);\n\tvar headers_1 = __webpack_require__(19);\n\tvar loaders_1 = __webpack_require__(20);\n\tvar dependencyManagement_1 = __webpack_require__(18);\n\tfunction isBrowser() {\n\t    return !(typeof window === 'undefined');\n\t}\n\tfunction parseJSON(data) {\n\t    if (typeof data === \"string\") {\n\t        try {\n\t            data = JSON.parse(data);\n\t        } catch (e) {\n\t            return null;\n\t        }\n\t    }\n\t    return data;\n\t}\n\tvar getArrayBuffer = function getArrayBuffer(file) {\n\t    if (file && file instanceof File) {\n\t        return new Promise(function (resolve, reject) {\n\t            var reader = new FileReader();\n\t            reader.onload = function (e) {\n\t                resolve(e.target.result);\n\t            };\n\t            reader.readAsArrayBuffer(file);\n\t        });\n\t    } else {\n\t        throw \"SPScript.utils.getArrayBuffer: Cant get ArrayBuffer if you don't pass in a file\";\n\t    }\n\t};\n\tfunction validateODataV2(data) {\n\t    data = parseJSON(data);\n\t    var results = null;\n\t    if (data.d && data.d.results && data.d.results.length != null) {\n\t        results = data.d.results;\n\t    } else if (data.d) {\n\t        results = data.d;\n\t    }\n\t    return results || data;\n\t}\n\tfunction openModal(url, modalOptions) {\n\t    if (!dependencyManagement_1.validateNamespace(\"SP.UI.ModalDialog\")) {\n\t        throw new Error(\"Sorry. Unable to open modal because native SharePoint Modal JavaScript is on loaded on page.\");\n\t    }\n\t    var defaults = {\n\t        width: 800,\n\t        title: \" \"\n\t    };\n\t    // This is a test to move it down \n\t    // blah\n\t    var options = __assign({}, defaults, modalOptions, { url: url });\n\t    return SP.UI.ModalDialog.showModalDialog(options);\n\t}\n\tvar utils = {\n\t    isBrowser: isBrowser,\n\t    headers: headers_1.default,\n\t    parseJSON: parseJSON,\n\t    validateODataV2: validateODataV2,\n\t    qs: { toObj: queryString_1.toObj, fromObj: queryString_1.fromObj },\n\t    loadScript: loaders_1.loadScript,\n\t    loadScripts: loaders_1.loadScripts,\n\t    loadCSS: loaders_1.loadCSS,\n\t    getArrayBuffer: getArrayBuffer,\n\t    waitForLibraries: dependencyManagement_1.waitForLibraries,\n\t    waitForLibrary: dependencyManagement_1.waitForLibrary,\n\t    validateNamespace: dependencyManagement_1.validateNamespace,\n\t    waitForElement: dependencyManagement_1.waitForElement,\n\t    openModal: openModal\n\t};\n\texports.default = utils;\n\t//# sourceMappingURL=index.js.map\n\n/***/ }),\n/* 2 */,\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar utils_1 = __webpack_require__(1);\n\tvar IPermissions_1 = __webpack_require__(14);\n\t/** Allows you to check the permissions of a securable (list or site) */\n\tvar Securable = function () {\n\t    function Securable(baseUrl, ctx) {\n\t        this.baseUrl = baseUrl;\n\t        this._dao = ctx;\n\t    }\n\t    /** Gets all the role assignments on that securable  */\n\t    Securable.prototype.getRoleAssignments = function () {\n\t        var url = this.baseUrl + \"/RoleAssignments?$expand=Member,RoleDefinitionBindings\";\n\t        return this._dao.get(url).then(utils_1.default.validateODataV2).then(function (results) {\n\t            return results.map(transformRoleAssignment);\n\t        });\n\t    };\n\t    Securable.prototype.checkPrivs = function (user) {\n\t        var login = encodeURIComponent(user.LoginName);\n\t        var url = this.baseUrl + \"/getusereffectivepermissions(@v)?@v='\" + login + \"'\";\n\t        return this._dao.get(url).then(utils_1.default.validateODataV2);\n\t    };\n\t    /** Gets all the role assignments on that securable. If you don't pass an email, it will use the current user. */\n\t    Securable.prototype.check = function (email) {\n\t        var _this = this;\n\t        if (!email && !utils_1.default.isBrowser()) {\n\t            return Promise.reject(\"Can't check permissions. No email passed and no current user\");\n\t        }\n\t        // If no email is passed, then get current user, else get user by email\n\t        var req = !email ? this._dao.get('/web/getuserbyid(' + _spPageContextInfo.userId + ')').then(function (data) {\n\t            return data.d;\n\t        }) : this._dao.web.getUser(email);\n\t        return req.then(function (user) {\n\t            return _this.checkPrivs(user);\n\t        }).then(function (privs) {\n\t            return permissionMaskToStrings(privs.GetUserEffectivePermissions.Low, privs.GetUserEffectivePermissions.High);\n\t        });\n\t    };\n\t    return Securable;\n\t}();\n\texports.default = Securable;\n\tvar transformRoleAssignment = function transformRoleAssignment(raw) {\n\t    var member = {\n\t        login: raw.Member.LoginName,\n\t        name: raw.Member.Title,\n\t        id: raw.Member.Id\n\t    };\n\t    var roles = raw.RoleDefinitionBindings.results.map(function (roleDef) {\n\t        return {\n\t            name: roleDef.Name,\n\t            description: roleDef.Description,\n\t            basePermissions: permissionMaskToStrings(roleDef.BasePermissions.Low, roleDef.BasePermissions.High)\n\t        };\n\t    });\n\t    return { member: member, roles: roles };\n\t};\n\tvar permissionMaskToStrings = function permissionMaskToStrings(lowMask, highMask) {\n\t    var permissions = [];\n\t    IPermissions_1.basePermissions.forEach(function (basePermission) {\n\t        if ((basePermission.low & lowMask) > 0 || (basePermission.high & highMask) > 0) {\n\t            permissions.push(basePermission.name);\n\t        }\n\t    });\n\t    return permissions;\n\t};\n\t//# sourceMappingURL=Securable.js.map\n\n/***/ }),\n/* 4 */,\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar utils_1 = __webpack_require__(1);\n\tvar Securable_1 = __webpack_require__(3);\n\tvar List = function () {\n\t    function List(name, ctx) {\n\t        this.listName = name;\n\t        this.baseUrl = \"/web/lists/getbytitle('\" + this.listName + \"')\";\n\t        this._dao = ctx;\n\t        this.permissions = new Securable_1.default(this.baseUrl, ctx);\n\t    }\n\t    /** Get items from the list. Will return all items if no OData is passed. */\n\t    List.prototype.getItems = function (odata) {\n\t        return this._dao.get(this.baseUrl + \"/items\" + appendOData(odata)).then(utils_1.default.validateODataV2);\n\t    };\n\t    /** Get a specific item by SharePoint ID */\n\t    List.prototype.getItemById = function (id, odata) {\n\t        var url = this.baseUrl + \"/items(\" + id + \")\" + appendOData(odata);\n\t        return this._dao.get(url).then(utils_1.default.validateODataV2);\n\t    };\n\t    ;\n\t    /** Gets you all items whose field(key) matches the value. Currently only text and number columns are supported. */\n\t    List.prototype.findItems = function (key, value, odata) {\n\t        var filterValue = typeof value === \"string\" ? \"'\" + value + \"'\" : value;\n\t        odata = \"$filter=\" + key + \" eq \" + filterValue + appendOData(odata, \"&\");\n\t        return this.getItems(odata);\n\t    };\n\t    /** Get the item whose field(key) matches the value. If multiple matches are found, the first is returned. Currently only text and number columns are supported. */\n\t    List.prototype.findItem = function (key, value, odata) {\n\t        return this.findItems(key, value, odata).then(function (items) {\n\t            if (items && items.length && items.length > 0) return items[0];\n\t            return null;\n\t        });\n\t    };\n\t    /** Get all the properties of the List */\n\t    List.prototype.getInfo = function () {\n\t        return this._dao.get(this.baseUrl).then(utils_1.default.validateODataV2);\n\t    };\n\t    /** Insert a List Item */\n\t    List.prototype.addItem = function (item, digest) {\n\t        var _this = this;\n\t        return this._dao._ensureRequestDigest(digest).then(function (digest) {\n\t            return _this._dao.get(_this.baseUrl).then(function (data) {\n\t                //decorate the item with the 'type' metadata\n\t                item = _extends({}, {\n\t                    \"__metadata\": {\n\t                        \"type\": data[\"d\"].ListItemEntityTypeFullName\n\t                    }\n\t                }, item);\n\t                var customOptions = {\n\t                    headers: utils_1.default.headers.getAddHeaders(digest)\n\t                };\n\t                return _this._dao.post(_this.baseUrl + \"/items\", item, customOptions);\n\t            }).then(utils_1.default.validateODataV2);\n\t        });\n\t    };\n\t    /** Takes a SharePoint Id, and updates that item ONLY with properties that are found in the passed in updates object. */\n\t    List.prototype.updateItem = function (itemId, updates, digest) {\n\t        var _this = this;\n\t        return this._dao._ensureRequestDigest(digest).then(function (digest) {\n\t            return _this.getItemById(itemId).then(function (item) {\n\t                //decorate the item with the 'type' metadata\n\t                updates = _extends({}, {\n\t                    \"__metadata\": {\n\t                        \"type\": item[\"__metadata\"].type\n\t                    }\n\t                }, updates);\n\t                var customOptions = {\n\t                    headers: utils_1.default.headers.getUpdateHeaders(digest, item[\"__metadata\"].etag)\n\t                };\n\t                return _this._dao.post(item[\"__metadata\"].uri, updates, customOptions);\n\t            });\n\t        });\n\t    };\n\t    /** deletes the item with the specified SharePoint Id */\n\t    List.prototype.deleteItem = function (itemId, digest) {\n\t        var _this = this;\n\t        return this._dao._ensureRequestDigest(digest).then(function (digest) {\n\t            return _this.getItemById(itemId).then(function (item) {\n\t                var customOptions = {\n\t                    headers: utils_1.default.headers.getDeleteHeaders(digest, item[\"__metadata\"].etag)\n\t                };\n\t                return _this._dao.post(item[\"__metadata\"].uri, \"\", customOptions);\n\t            });\n\t        });\n\t    };\n\t    return List;\n\t}();\n\texports.default = List;\n\tvar appendOData = function appendOData(odata, prefix) {\n\t    prefix = prefix || \"?\";\n\t    if (odata) return prefix + odata;\n\t    return \"\";\n\t};\n\t//# sourceMappingURL=List.js.map\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar utils_1 = __webpack_require__(1);\n\tvar Context_1 = __webpack_require__(8);\n\tvar csr_1 = __webpack_require__(11);\n\tvar spscript = {\n\t    utils: utils_1.default,\n\t    CSR: csr_1.default,\n\t    createContext: function createContext(url, clientId, clientSecret) {\n\t        try {\n\t            if (!url && global._spPageContextInfo) {\n\t                url = global._spPageContextInfo.webAbsoluteUrl;\n\t            }\n\t            return new Context_1.default(url);\n\t        } catch (ex) {\n\t            throw new Error(\"Unable to create SPScript Context: \" + ex.message);\n\t        }\n\t    }\n\t};\n\texports.default = spscript;\n\t//# sourceMappingURL=SPScript.js.map\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar request_1 = __webpack_require__(9);\n\tvar utils_1 = __webpack_require__(1);\n\tvar List_1 = __webpack_require__(6);\n\tvar Web_1 = __webpack_require__(22);\n\tvar Search_1 = __webpack_require__(16);\n\tvar CustomActions_1 = __webpack_require__(12);\n\tvar Profiles_1 = __webpack_require__(15);\n\tvar Context = function () {\n\t    function Context(url, clientId, clientSecret) {\n\t        this.webUrl = url;\n\t        this.clientId = clientId;\n\t        this.clientSecret = clientSecret;\n\t        // TODO serverside: replace with tokenHelper.getAppOnlyToken(this.webUrl, this.clientKey, this.clientSecret).then(token => this.accessToken = token);\n\t        this.ensureToken = !clientId ? Promise.resolve() : Promise.resolve();\n\t        this.search = new Search_1.default(this);\n\t        this.customActions = new CustomActions_1.default(this);\n\t        this.web = new Web_1.default(this);\n\t        this.profiles = new Profiles_1.default(this);\n\t    }\n\t    Context.prototype.executeRequest = function (url, opts) {\n\t        var fullUrl = /^http/i.test(url) ? url : this.webUrl + \"/_api\" + url;\n\t        var defaultOptions = {\n\t            url: fullUrl,\n\t            method: \"GET\",\n\t            headers: {\n\t                \"Accept\": \"application/json; odata=verbose\",\n\t                \"Content-Type\": \"application/json; odata=verbose\"\n\t            }\n\t        };\n\t        if (this.accessToken) {\n\t            defaultOptions.headers['Authorization'] = 'Bearer ' + this.accessToken;\n\t        }\n\t        var requestOptions = _extends({}, defaultOptions, opts);\n\t        return request_1.default(requestOptions);\n\t    };\n\t    ;\n\t    /** Make a 'GET' request to the '<site>/_api' relative url. */\n\t    Context.prototype.get = function (url, opts) {\n\t        var options = _extends({}, { method: \"GET\" }, opts);\n\t        return this.executeRequest(url, options).then(utils_1.default.parseJSON);\n\t    };\n\t    ;\n\t    /** Make a 'POST' request to the '<site>/_api' relative url. */\n\t    Context.prototype.post = function (url, body, opts) {\n\t        body = this._packagePostBody(body, opts);\n\t        var options = {\n\t            method: \"POST\",\n\t            data: body\n\t        };\n\t        options = _extends({}, options, opts);\n\t        return this.executeRequest(url, options).then(utils_1.default.parseJSON);\n\t    };\n\t    ;\n\t    /** Make a 'POST' request to the '<site>/_api' relative url. SPScript will handle authorizing the request for you.*/\n\t    Context.prototype.authorizedPost = function (url, body, verb) {\n\t        var _this = this;\n\t        return this.getRequestDigest().then(function (digest) {\n\t            return utils_1.default.headers.getActionHeaders(verb, digest);\n\t        }).then(function (headers) {\n\t            return _this.post(url, body, { headers: headers });\n\t        });\n\t    };\n\t    ;\n\t    Context.prototype._ensureRequestDigest = function (digest) {\n\t        return digest ? Promise.resolve(digest) : this.getRequestDigest();\n\t    };\n\t    ;\n\t    /** Get a Request Digest token to authorize a request */\n\t    Context.prototype.getRequestDigest = function () {\n\t        return this.post(\"/contextInfo\", {}).then(function (data) {\n\t            return data[\"d\"].GetContextWebInformation.FormDigestValue;\n\t        });\n\t    };\n\t    ;\n\t    /** Get an SPScript List instance */\n\t    Context.prototype.lists = function (name) {\n\t        return new List_1.default(name, this);\n\t    };\n\t    Context.prototype._packagePostBody = function (body, opts) {\n\t        // if its already a string just return\n\t        if (typeof body === \"string\") return body;\n\t        // if it has an explicit content-type, asssume the body is already that type\n\t        if (opts && opts.headers && opts.headers[\"Content-Type\"] && opts.headers[\"Content-Type\"].indexOf(\"json\") === -1) {\n\t            return body;\n\t        }\n\t        //others stringify\n\t        return JSON.stringify(body);\n\t    };\n\t    ;\n\t    return Context;\n\t}();\n\texports.default = Context;\n\t//# sourceMappingURL=Context.js.map\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar xhr_1 = __webpack_require__(10);\n\tvar request = function request(options) {\n\t    // if node, use request-promise-native\n\t    // if fetch is available, use that\n\t    // else use xhr\n\t    if (typeof window === \"undefined\") {\n\t        throw new Error(\"No Node.js HTTP request module available yet.\");\n\t    }\n\t    return xhr_1.default(options);\n\t};\n\texports.default = request;\n\t//# sourceMappingURL=request.js.map\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar defaults = {\n\t    method: \"GET\",\n\t    async: true,\n\t    data: undefined\n\t};\n\tvar validMethods = [\"GET\", \"POST\", \"PUT\", \"HEAD\", \"DELETE\", \"PATCH\"];\n\tvar errorHandlers = [];\n\tvar validateOptions = function validateOptions(options) {\n\t    if (!options || !options.url || validMethods.indexOf(options.method) < 0) return false;else return true;\n\t};\n\tvar setHeaders = function setHeaders(xhr, headersObj) {\n\t    if (headersObj) {\n\t        Object.keys(headersObj).forEach(function (key) {\n\t            xhr.setRequestHeader(key, headersObj[key]);\n\t        });\n\t    }\n\t};\n\tvar xhr = function xhr(options) {\n\t    var opts = _extends({}, defaults, options);\n\t    if (!validateOptions(options)) return Promise.reject(new Error(\"Invalid options passed into ajax call.\"));\n\t    var xhr = new XMLHttpRequest();\n\t    if (xhr == null) return Promise.reject(new Error(\"Your browser doesn't support XMLHttpRequest (ajax).\"));\n\t    xhr.open(opts.method, opts.url, opts.async);\n\t    setHeaders(xhr, opts.headers);\n\t    xhr.responseType = \"json\";\n\t    return new Promise(function (resolve, reject) {\n\t        xhr.onreadystatechange = function () {\n\t            //completed\n\t            if (xhr.readyState === 4) {\n\t                // SUCCESS\n\t                if (xhr.status < 400 && xhr.status >= 100) {\n\t                    if (xhr.status >= 200 && xhr.status < 300 && xhr.status !== 204) {\n\t                        resolve(xhr.response || xhr.status + \"\");\n\t                    } else resolve(xhr.response);\n\t                } else {\n\t                    var err = new Error(\"SPScript HTTP Error: \" + xhr.status);\n\t                    if (xhr.response && _typeof(xhr.response) === \"object\") {\n\t                        err.message += \"\\n\" + JSON.stringify(xhr.response, null, \"  \");\n\t                    }\n\t                    reject(err);\n\t                }\n\t            }\n\t        };\n\t        xhr.send(opts.data);\n\t    });\n\t};\n\texports.default = xhr;\n\t//# sourceMappingURL=xhr.js.map\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar utils_1 = __webpack_require__(1);\n\tvar registerField = function registerField(field, renderer, opts) {\n\t    if (opts === void 0) {\n\t        opts = {};\n\t    }\n\t    if (!utils_1.default.validateNamespace(\"SPClientTemplates.TemplateManager\")) {\n\t        throw new Error(\"Unable to register CSR template.  SPClientTemplates.TemplateManager does not exist\");\n\t    }\n\t    var renderers = {};\n\t    //View, DisplayForm, EditForm, NewForm\n\t    field.locations.forEach(function (l) {\n\t        return renderers[l] = renderer;\n\t    });\n\t    var defaults = {\n\t        Templates: {\n\t            Fields: {}\n\t        }\n\t    };\n\t    var templateOverride = _extends({}, defaults, opts);\n\t    templateOverride.Templates.Fields[field.name] = renderers;\n\t    SPClientTemplates.TemplateManager.RegisterTemplateOverrides(templateOverride);\n\t    return field;\n\t};\n\tvar registerDisplayField = function registerDisplayField(fieldComponent, opts) {\n\t    if (opts === void 0) {\n\t        opts = {};\n\t    }\n\t    var renderer = createDisplayFieldRenderer(fieldComponent);\n\t    fieldComponent.locations = fieldComponent.locations || [\"View\", \"DisplayForm\"];\n\t    return registerField(fieldComponent, renderer, opts);\n\t};\n\tvar registerFormField = function registerFormField(fieldComponent, opts) {\n\t    if (opts === void 0) {\n\t        opts = {};\n\t    }\n\t    var renderer = createFormFieldRenderer(fieldComponent);\n\t    fieldComponent.locations = fieldComponent.locations || [\"NewForm\", \"EditForm\"];\n\t    return registerField(fieldComponent, renderer, opts);\n\t};\n\tfunction createFormFieldRenderer(field) {\n\t    return function (ctx) {\n\t        var formCtx = ctx.FormContext;\n\t        // need to clone ctx, it is getting overwritten so we lost CurrentItem\n\t        var clonedCtx = _extends({}, ctx);\n\t        if (field.onReady) {\n\t            if (formCtx) {\n\t                formCtx.registerInitCallback(field.name, field.onReady.bind(null, clonedCtx));\n\t            } else {\n\t                setTimeout(field.onReady.bind(null, clonedCtx), 100);\n\t            }\n\t        }\n\t        if (field.getValue && formCtx) {\n\t            formCtx.registerGetValueCallback(field.name, field.getValue.bind(null, clonedCtx));\n\t        }\n\t        // tack on 'setValue' function\n\t        if (formCtx && formCtx.updateControlValue) {\n\t            field.setValue = function (value) {\n\t                formCtx.updateControlValue(field.name, value);\n\t            };\n\t        }\n\t        return field.render(ctx);\n\t    };\n\t}\n\tfunction createDisplayFieldRenderer(field) {\n\t    return function (ctx) {\n\t        var formCtx = ctx.FormContext;\n\t        if (formCtx && formCtx.registerInitCallback && field.onReady) {\n\t            formCtx.registerInitCallback(field.name, field.onReady);\n\t        }\n\t        return field.render(ctx);\n\t    };\n\t}\n\tvar CSR = {\n\t    registerDisplayField: registerDisplayField,\n\t    registerFormField: registerFormField\n\t};\n\texports.default = CSR;\n\t//# sourceMappingURL=index.js.map\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar utils_1 = __webpack_require__(1);\n\tvar ICustomActions_1 = __webpack_require__(13);\n\tvar CustomActions = function () {\n\t    function CustomActions(ctx) {\n\t        this._dao = ctx;\n\t    }\n\t    CustomActions.prototype.getScope = function (scopeId) {\n\t        if (scopeId === 3) return ICustomActions_1.scopes.Web;\n\t        if (scopeId === 2) return ICustomActions_1.scopes.Site;\n\t        throw new Error(\"Invalid Custom Action Scope\");\n\t    };\n\t    CustomActions.prototype.get = function (name) {\n\t        var _this = this;\n\t        // first get the site scoped ones, then the web scoped ones\n\t        return this._dao.get(ICustomActions_1.scopes.Site.url).then(utils_1.default.validateODataV2).then(function (siteCustomActions) {\n\t            return _this._dao.get(ICustomActions_1.scopes.Web.url).then(utils_1.default.validateODataV2).then(function (webCustomActions) {\n\t                return siteCustomActions.concat(webCustomActions);\n\t            });\n\t        }).then(function (customActions) {\n\t            // if a name was passed filter it otherwise return everything\n\t            if (name) {\n\t                var matches = customActions.filter(function (a) {\n\t                    return a.Name === name;\n\t                });\n\t                if (matches.length) {\n\t                    return matches[0];\n\t                }\n\t                throw new Error(\"Unable to find Custom Action with name: \" + name);\n\t            } else return customActions;\n\t        });\n\t    };\n\t    /** Gets the API url of a specific Custom Action */\n\t    CustomActions.prototype._getUrl = function (name) {\n\t        var _this = this;\n\t        return this.get(name).then(function (a) {\n\t            return _this.getScope(a.Scope).url + \"('\" + a.Id + \"')\";\n\t        });\n\t    };\n\t    CustomActions.prototype._getUrlAndDigest = function (name) {\n\t        var _this = this;\n\t        var prep = {};\n\t        return this._getUrl(name).then(function (url) {\n\t            prep.url = url;\n\t            return _this._dao.getRequestDigest();\n\t        }).then(function (digest) {\n\t            prep.digest = digest;\n\t            return prep;\n\t        });\n\t    };\n\t    /** Update an existing Custom Action. You must pass a custom action with a 'Name' property */\n\t    CustomActions.prototype.update = function (updates) {\n\t        var _this = this;\n\t        if (!updates || !updates.Name) throw new Error(\"You must at least pass a Custom Action 'Name'\");\n\t        return this._getUrlAndDigest(updates.Name).then(function (prep) {\n\t            updates = _extends({}, ICustomActions_1.metadata, updates);\n\t            var opts = {\n\t                headers: utils_1.default.headers.getUpdateHeaders(prep.digest)\n\t            };\n\t            return _this._dao.post(prep.url, updates, opts);\n\t        });\n\t    };\n\t    /** Remove an existing Custom Action. Searches both Site and Web scoped */\n\t    CustomActions.prototype.remove = function (name) {\n\t        var _this = this;\n\t        if (!name) throw new Error(\"You must at least pass an existing Custom Action name\");\n\t        return this._getUrlAndDigest(name).then(function (prep) {\n\t            var opts = {\n\t                headers: utils_1.default.headers.getDeleteHeaders(prep.digest)\n\t            };\n\t            return _this._dao.post(prep.url, {}, opts);\n\t        });\n\t    };\n\t    /** Adds a new custom action. If the custom action name already exists, it will be deleted first */\n\t    CustomActions.prototype.add = function (customAction) {\n\t        var _this = this;\n\t        if (!customAction || !customAction.Name) throw new Error(\"You must at least pass a Custom Action 'Name'\");\n\t        var defaults = {\n\t            Name: customAction.Name,\n\t            Title: customAction.Name,\n\t            Description: customAction.Name,\n\t            Group: customAction.Name,\n\t            Sequence: 100,\n\t            Scope: \"Site\",\n\t            Location: \"ScriptLink\"\n\t        };\n\t        customAction = _extends({}, defaults, customAction);\n\t        // if it exists already, delete it\n\t        return this.get().then(function (existingCustomActions) {\n\t            if (existingCustomActions.filter(function (ca) {\n\t                return ca.Name === customAction.Name;\n\t            }).length) {\n\t                return _this.remove(customAction.Name);\n\t            }\n\t            return true;\n\t        }).then(function () {\n\t            return _this._dao.getRequestDigest();\n\t        }).then(function (digest) {\n\t            customAction = _extends({}, ICustomActions_1.metadata, customAction);\n\t            var scope = ICustomActions_1.scopes[customAction.Scope];\n\t            customAction.Scope = scope.id;\n\t            var opts = {\n\t                headers: utils_1.default.headers.getAddHeaders(digest)\n\t            };\n\t            return _this._dao.post(scope.url, customAction, opts);\n\t        });\n\t    };\n\t    CustomActions.prototype.addScriptBlock = function (name, block, opts) {\n\t        if (opts === void 0) {\n\t            opts = {};\n\t        }\n\t        var customAction = {\n\t            Name: name,\n\t            ScriptBlock: block\n\t        };\n\t        customAction = _extends({}, customAction, opts);\n\t        return this.add(customAction);\n\t    };\n\t    /** Injects a CSS file onto your site. Defaults to Site scoped */\n\t    CustomActions.prototype.addCSSLink = function (name, url, opts) {\n\t        if (opts === void 0) {\n\t            opts = {};\n\t        }\n\t        var scriptBlockStr = \"\\n\\t\\t(function() {\\n\\t\\t\\tvar head = document.querySelector(\\\"head\\\");\\n\\t\\t\\tvar styleTag = document.createElement(\\\"style\\\");\\n\\t\\t\\tstyleTag.appendChild(document.createTextNode(\\\"body { opacity: 0 }\\\"));\\n\\t\\t\\t\\n\\t\\t\\tvar linkTag = document.createElement(\\\"link\\\");\\n\\t\\t\\tlinkTag.rel = \\\"stylesheet\\\";\\tlinkTag.href = \\\"\" + url + \"\\\"; linkTag.type = \\\"text/css\\\";\\n\\t\\t\\tlinkTag.addEventListener(\\\"load\\\", function() {\\n\\t\\t\\t\\thead.removeChild(styleTag);\\n\\t\\t\\t});\\n\\n\\t\\t\\thead.appendChild(styleTag);\\n\\t\\t\\thead.appendChild(linkTag);\\n\\t\\t})();\";\n\t        return this.addScriptBlock(name, scriptBlockStr, opts);\n\t    };\n\t    CustomActions.prototype.addScriptLink = function (name, url, opts) {\n\t        if (opts === void 0) {\n\t            opts = {};\n\t        }\n\t        var scriptBlockStr = \"\\n\\t\\t(function() {\\n\\t\\t\\tvar head = document.querySelector(\\\"head\\\");\\n\\t\\t\\tvar scriptTag = document.createElement(\\\"script\\\");\\n            scriptTag.src = \\\"\" + url + \"\\\";\\n            scriptTag.type = \\\"text/javascript\\\";\\n\\t\\t\\thead.appendChild(scriptTag);\\n\\t\\t})();\";\n\t        return this.addScriptBlock(name, scriptBlockStr, opts);\n\t    };\n\t    return CustomActions;\n\t}();\n\texports.default = CustomActions;\n\t;\n\t//# sourceMappingURL=CustomActions.js.map\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.metadata = {\n\t    __metadata: {\n\t        \"type\": \"SP.UserCustomAction\"\n\t    }\n\t};\n\texports.scopes = {\n\t    \"Web\": {\n\t        id: 3,\n\t        name: \"Web\",\n\t        url: \"/web/usercustomactions\"\n\t    },\n\t    \"Site\": {\n\t        id: 2,\n\t        name: \"Site\",\n\t        url: \"/site/usercustomactions\"\n\t    }\n\t};\n\t//# sourceMappingURL=ICustomActions.js.map\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.basePermissions = [{\n\t    \"name\": \"emptyMask\",\n\t    \"low\": 0,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"viewListItems\",\n\t    \"low\": 1,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"addListItems\",\n\t    \"low\": 2,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"editListItems\",\n\t    \"low\": 4,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"deleteListItems\",\n\t    \"low\": 8,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"approveItems\",\n\t    \"low\": 16,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"openItems\",\n\t    \"low\": 32,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"viewVersions\",\n\t    \"low\": 64,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"deleteVersions\",\n\t    \"low\": 128,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"cancelCheckout\",\n\t    \"low\": 256,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"managePersonalViews\",\n\t    \"low\": 512,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"manageLists\",\n\t    \"low\": 2048,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"viewFormPages\",\n\t    \"low\": 4096,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"anonymousSearchAccessList\",\n\t    \"low\": 8192,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"open\",\n\t    \"low\": 65536,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"viewPages\",\n\t    \"low\": 131072,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"addAndCustomizePages\",\n\t    \"low\": 262144,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"applyThemeAndBorder\",\n\t    \"low\": 524288,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"applyStyleSheets\",\n\t    \"low\": 1048576,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"viewUsageData\",\n\t    \"low\": 2097152,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"createSSCSite\",\n\t    \"low\": 4194304,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"manageSubwebs\",\n\t    \"low\": 8388608,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"createGroups\",\n\t    \"low\": 16777216,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"managePermissions\",\n\t    \"low\": 33554432,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"browseDirectories\",\n\t    \"low\": 67108864,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"browseUserInfo\",\n\t    \"low\": 134217728,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"addDelPrivateWebParts\",\n\t    \"low\": 268435456,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"updatePersonalWebParts\",\n\t    \"low\": 536870912,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"manageWeb\",\n\t    \"low\": 1073741824,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"anonymousSearchAccessWebLists\",\n\t    \"low\": -2147483648,\n\t    \"high\": 0\n\t}, {\n\t    \"name\": \"useClientIntegration\",\n\t    \"low\": 0,\n\t    \"high\": 16\n\t}, {\n\t    \"name\": \"useRemoteAPIs\",\n\t    \"low\": 0,\n\t    \"high\": 32\n\t}, {\n\t    \"name\": \"manageAlerts\",\n\t    \"low\": 0,\n\t    \"high\": 64\n\t}, {\n\t    \"name\": \"createAlerts\",\n\t    \"low\": 0,\n\t    \"high\": 128\n\t}, {\n\t    \"name\": \"editMyUserInfo\",\n\t    \"low\": 0,\n\t    \"high\": 256\n\t}, {\n\t    \"name\": \"enumeratePermissions\",\n\t    \"low\": 0,\n\t    \"high\": 1073741824\n\t}];\n\t//# sourceMappingURL=IPermissions.js.map\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar utils_1 = __webpack_require__(1);\n\tvar Profiles = function () {\n\t    function Profiles(ctx) {\n\t        this._dao = ctx;\n\t        this.baseUrl = \"/SP.UserProfiles.PeopleManager\";\n\t    }\n\t    /** Gets the profile of the current user.  */\n\t    Profiles.prototype.current = function () {\n\t        var url = this.baseUrl + \"/GetMyProperties\";\n\t        return this._dao.get(url).then(utils_1.default.validateODataV2).then(transformPersonProperties);\n\t    };\n\t    Profiles.prototype.get = function (user) {\n\t        var _this = this;\n\t        if (!user) return this.current();\n\t        return this.getUserObj(user).then(function (user) {\n\t            var login = encodeURIComponent(user.LoginName || user.AccountName);\n\t            var url = _this.baseUrl + \"/GetPropertiesFor(accountName=@v)?@v='\" + login + \"'\";\n\t            return _this._dao.get(url).then(utils_1.default.validateODataV2).then(transformPersonProperties);\n\t        });\n\t    };\n\t    Profiles.prototype.getUserObj = function (user) {\n\t        if (!user || typeof user === \"string\") {\n\t            return this._dao.web.getUser(user);\n\t        } else if (user.AccountName || user.LoginName) {\n\t            return Promise.resolve(user);\n\t        } else throw new Error(\"profiles.setProperty Error: Invalid user parameter\");\n\t    };\n\t    Profiles.prototype.setProperty = function (key, value, user) {\n\t        var _this = this;\n\t        return this.getUserObj(user).then(function (user) {\n\t            var args = {\n\t                propertyName: key,\n\t                propertyValue: value,\n\t                accountName: user.LoginName || user.AccountName\n\t            };\n\t            var url = _this.baseUrl + \"/SetSingleValueProfileProperty\";\n\t            return _this._dao.authorizedPost(url, args);\n\t        });\n\t    };\n\t    return Profiles;\n\t}();\n\texports.default = Profiles;\n\tvar transformPersonProperties = function transformPersonProperties(profile) {\n\t    console.log(profile);\n\t    profile.UserProfileProperties.results.forEach(function (keyvalue) {\n\t        profile[keyvalue.Key] = keyvalue.Value;\n\t    });\n\t    return profile;\n\t};\n\t//# sourceMappingURL=Profiles.js.map\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar utils_1 = __webpack_require__(1);\n\tvar searchMappers_1 = __webpack_require__(17);\n\tvar Search = function () {\n\t    function Search(ctx) {\n\t        this._dao = ctx;\n\t    }\n\t    ;\n\t    Object.defineProperty(Search.prototype, \"defaultQueryOptions\", {\n\t        /** get default/empty QueryOptions */\n\t        get: function get() {\n\t            return {\n\t                sourceid: null,\n\t                startrow: null,\n\t                rowlimit: 100,\n\t                selectedproperties: null,\n\t                refiners: null,\n\t                refinementfilters: null,\n\t                hiddencontstraints: null,\n\t                sortlist: null\n\t            };\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    ;\n\t    /** Query the SP Search Service */\n\t    Search.prototype.query = function (queryText, queryOptions) {\n\t        if (queryOptions === void 0) {\n\t            queryOptions = {};\n\t        }\n\t        var optionsQueryString = utils_1.default.qs.fromObj(queryOptions, true);\n\t        var url = \"/search/query?querytext='\" + queryText + \"'&\" + optionsQueryString;\n\t        return this._dao.get(url).then(utils_1.default.validateODataV2).then(function (resp) {\n\t            if (resp.query) return searchMappers_1.mapResponse(resp.query);\n\t            throw new Error(\"Invalid response back from search service\");\n\t        });\n\t    };\n\t    ;\n\t    /** Query for only People results */\n\t    Search.prototype.people = function (queryText, queryOptions) {\n\t        if (queryOptions === void 0) {\n\t            queryOptions = {};\n\t        }\n\t        queryOptions.sourceid = 'b09a7990-05ea-4af9-81ef-edfab16c4e31';\n\t        return this.query(queryText, queryOptions);\n\t    };\n\t    ;\n\t    /** Query for only sites (STS_Web). Optionally pass in a url scope. */\n\t    Search.prototype.sites = function (queryText, urlScope, queryOptions) {\n\t        if (queryText === void 0) {\n\t            queryText = \"\";\n\t        }\n\t        if (urlScope === void 0) {\n\t            urlScope = \"\";\n\t        }\n\t        if (queryOptions === void 0) {\n\t            queryOptions = {};\n\t        }\n\t        urlScope = urlScope ? \"Path:\" + urlScope + \"*\" : \"\";\n\t        var query = (queryText + \" contentclass:STS_Web \" + urlScope).trim();\n\t        queryOptions.rowlimit = queryOptions.rowlimit || 499;\n\t        return this.query(query, queryOptions);\n\t    };\n\t    ;\n\t    return Search;\n\t}();\n\texports.default = Search;\n\t//# sourceMappingURL=Search.js.map\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.mapResponse = function (rawResponse) {\n\t    return {\n\t        elapsedTime: rawResponse.ElapsedTime,\n\t        suggestion: rawResponse.SpellingSuggestion,\n\t        resultsCount: rawResponse.PrimaryQueryResult.RelevantResults.RowCount,\n\t        totalResults: rawResponse.PrimaryQueryResult.RelevantResults.TotalRows,\n\t        totalResultsIncludingDuplicates: rawResponse.PrimaryQueryResult.RelevantResults.TotalRowsIncludingDuplicates,\n\t        items: exports.mapItems(rawResponse.PrimaryQueryResult.RelevantResults.Table.Rows.results),\n\t        refiners: exports.mapRefiners(rawResponse.PrimaryQueryResult.RefinementResults)\n\t    };\n\t};\n\texports.mapRefiners = function (refinementResults) {\n\t    var refiners = [];\n\t    if (refinementResults && refinementResults.Refiners && refinementResults.Refiners.results) {\n\t        refiners = refinementResults.Refiners.results.map(function (r) {\n\t            return {\n\t                RefinerName: r.Name,\n\t                RefinerOptions: r.Entries.results\n\t            };\n\t        });\n\t    }\n\t    return refiners;\n\t};\n\texports.mapItems = function (itemRows) {\n\t    var items = [];\n\t    for (var i = 0; i < itemRows.length; i++) {\n\t        var row = itemRows[i],\n\t            item = {};\n\t        for (var j = 0; j < row.Cells.results.length; j++) {\n\t            item[row.Cells.results[j].Key] = row.Cells.results[j].Value;\n\t        }\n\t        items.push(item);\n\t    }\n\t    return items;\n\t};\n\t//# sourceMappingURL=searchMappers.js.map\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.validateNamespace = function (namespace) {\n\t    var scope = window;\n\t    var sections = namespace.split(\".\");\n\t    var sectionsLength = sections.length;\n\t    for (var i = 0; i < sectionsLength; i++) {\n\t        var prop = sections[i];\n\t        if (prop in scope) {\n\t            scope = scope[prop];\n\t        } else {\n\t            return false;\n\t        }\n\t    }\n\t    return true;\n\t};\n\tvar _waitForLibraries = function _waitForLibraries(namespaces, resolve) {\n\t    var missing = namespaces.filter(function (namespace) {\n\t        return !exports.validateNamespace(namespace);\n\t    });\n\t    if (missing.length === 0) resolve();else setTimeout(function () {\n\t        return _waitForLibraries(namespaces, resolve);\n\t    }, 25);\n\t};\n\texports.waitForLibraries = function (namespaces) {\n\t    return new Promise(function (resolve, reject) {\n\t        return _waitForLibraries(namespaces, resolve);\n\t    });\n\t};\n\texports.waitForLibrary = function (namespace) {\n\t    return exports.waitForLibraries([namespace]);\n\t};\n\texports.waitForElement = function (selector, timeout) {\n\t    if (timeout === void 0) {\n\t        timeout = 5000;\n\t    }\n\t    var counter = 0;\n\t    var INTERVAL = 25; //milliseconds\n\t    var MAX_ATTEMPTS = timeout / INTERVAL; // eventually give up\n\t    return new Promise(function (resolve, reject) {\n\t        var _waitForElement = function _waitForElement() {\n\t            if (counter > MAX_ATTEMPTS) reject(\"Unable to find element: \" + selector);\n\t            var elem = document.querySelector(selector);\n\t            if (!elem) {\n\t                counter++;\n\t                setTimeout(_waitForElement, INTERVAL);\n\t            } else resolve(elem);\n\t        };\n\t        _waitForElement();\n\t    });\n\t};\n\t//# sourceMappingURL=dependencyManagement.js.map\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t;\n\tvar jsonMimeType = \"application/json;odata=verbose\";\n\tfunction getStandardHeaders(digest) {\n\t    var headers = {\n\t        \"Accept\": jsonMimeType,\n\t        \"Content-Type\": jsonMimeType\n\t    };\n\t    if (digest) headers[\"X-RequestDigest\"] = digest;\n\t    return headers;\n\t}\n\tvar getAddHeaders = getStandardHeaders;\n\tvar getFilestreamHeaders = function getFilestreamHeaders(digest) {\n\t    return {\n\t        'Accept': jsonMimeType,\n\t        'X-RequestDigest': digest,\n\t        'Content-Type': \"application/octet-stream\",\n\t        'binaryStringRequestBody': \"true\"\n\t    };\n\t};\n\tvar getActionHeaders = function getActionHeaders(verb, digest) {\n\t    return _extends({}, getStandardHeaders(digest), {\n\t        \"X-HTTP-Method\": verb\n\t    });\n\t};\n\tvar decorateETag = function decorateETag(headers, etag) {\n\t    if (etag) headers[\"If-Match\"] = etag;\n\t    return headers;\n\t};\n\tvar getUpdateHeaders = function getUpdateHeaders(digest, etag) {\n\t    return decorateETag(getActionHeaders(\"MERGE\", digest), etag);\n\t};\n\tvar getDeleteHeaders = function getDeleteHeaders(digest, etag) {\n\t    return decorateETag(getActionHeaders(\"DELETE\", digest), etag);\n\t};\n\tvar headerUtils = {\n\t    getStandardHeaders: getStandardHeaders,\n\t    getAddHeaders: getAddHeaders,\n\t    getFilestreamHeaders: getFilestreamHeaders,\n\t    getUpdateHeaders: getUpdateHeaders,\n\t    getDeleteHeaders: getDeleteHeaders,\n\t    getActionHeaders: getActionHeaders\n\t};\n\texports.default = headerUtils;\n\t//# sourceMappingURL=headers.js.map\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.loadCSS = function (url) {\n\t    var link = document.createElement(\"link\");\n\t    link.setAttribute(\"rel\", \"stylesheet\");\n\t    link.setAttribute(\"type\", \"text/css\");\n\t    link.setAttribute(\"href\", url);\n\t    document.querySelector(\"head\").appendChild(link);\n\t};\n\texports.loadScript = function (url) {\n\t    return new Promise(function (resolve, reject) {\n\t        var scriptTag = window.document.createElement(\"script\");\n\t        var firstScriptTag = document.getElementsByTagName('script')[0];\n\t        scriptTag.async = true;\n\t        firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);\n\t        scriptTag.onload = scriptTag.onreadystatechange = function (arg, isAbort) {\n\t            // if its been aborted, readyState is gone, or readyState is in a 'done' status\n\t            if (isAbort || !scriptTag.readyState || /loaded|complete/.test(scriptTag.readyState)) {\n\t                //clean up\n\t                scriptTag.onload = scriptTag.onreadystatechange = null;\n\t                scriptTag = undefined;\n\t                // resolve/reject the promise\n\t                if (!isAbort) resolve();else reject;\n\t            }\n\t        };\n\t        scriptTag.src = url;\n\t    });\n\t};\n\texports.loadScripts = function (urls) {\n\t    return Promise.all(urls.map(exports.loadScript));\n\t};\n\t//# sourceMappingURL=loaders.js.map\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar qs = __webpack_require__(28);\n\tfunction fromObj(obj, quoteValues) {\n\t    var writeParam = function writeParam(key) {\n\t        var value = (obj[key] + \"\").trim();\n\t        // if there is a space, wrap in single quotes\n\t        if (value.indexOf(\" \") > -1 || quoteValues) value = \"'\" + value + \"'\";\n\t        return key + \"=\" + value;\n\t    };\n\t    var str = Object.keys(obj).map(writeParam).join(\"&\");\n\t    return str;\n\t}\n\texports.fromObj = fromObj;\n\tfunction toObj(str) {\n\t    //if no string is passed use window.location.search\n\t    if (str === undefined && window && window.location && window.location.search) {\n\t        str = window.location.search;\n\t    }\n\t    if (!str) return {};\n\t    //trim off the leading '?' if its there\n\t    if (str[0] === \"?\") str = str.substr(1);\n\t    return qs.parse(str);\n\t}\n\texports.toObj = toObj;\n\t//# sourceMappingURL=queryString.js.map\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar utils_1 = __webpack_require__(1);\n\tvar Securable_1 = __webpack_require__(3);\n\tvar Web = function () {\n\t    function Web(ctx) {\n\t        this.baseUrl = \"/web\";\n\t        this._dao = ctx;\n\t        this.permissions = new Securable_1.default(this.baseUrl, ctx);\n\t    }\n\t    /** Retrieves basic information about the site */\n\t    Web.prototype.getInfo = function () {\n\t        return this._dao.get(this.baseUrl).then(utils_1.default.validateODataV2);\n\t    };\n\t    /** Retrieves all of the subsites */\n\t    Web.prototype.getSubsites = function () {\n\t        return this._dao.get(this.baseUrl + \"/webinfos\").then(utils_1.default.validateODataV2);\n\t    };\n\t    Web.prototype.getUser = function (email) {\n\t        var url = email ? this.baseUrl + \"/SiteUsers/GetByEmail('\" + email + \"')\" : this.baseUrl + \"/CurrentUser\";\n\t        return this._dao.get(url).then(utils_1.default.validateODataV2);\n\t    };\n\t    Web.prototype.ensureUser = function (login) {\n\t        return this._dao.post(\"/web/ensureUser('\" + login + \"')\").then(utils_1.default.validateODataV2);\n\t    };\n\t    /** Retrieves a file by server relative url */\n\t    Web.prototype.getFile = function (url) {\n\t        var url = \"/web/getfilebyserverrelativeurl('\" + url + \"')\";\n\t        return this._dao.get(url).then(utils_1.default.validateODataV2);\n\t    };\n\t    Web.prototype._copyFile = function (sourceUrl, destinationUrl, digest) {\n\t        var url = \"/web/getfilebyserverrelativeurl('\" + sourceUrl + \"')/CopyTo\"; //(strnewurl='${destinationUrl}',boverwrite=true)`\n\t        var options = {\n\t            headers: utils_1.default.headers.getAddHeaders(digest)\n\t        };\n\t        var body = {\n\t            strNewUrl: destinationUrl,\n\t            bOverWrite: true\n\t        };\n\t        return this._dao.post(url, body, options);\n\t    };\n\t    // TODO: getFolder\n\t    // TODO: uploadFile\n\t    // TODO: fileAction\n\t    // TODO: deleteFile\n\t    /** Copies a file from one server relative url to another */\n\t    Web.prototype.copyFile = function (sourceUrl, destinationUrl, digest) {\n\t        var _this = this;\n\t        return this._dao._ensureRequestDigest(digest).then(function (digest) {\n\t            return _this._copyFile(sourceUrl, destinationUrl, digest);\n\t        });\n\t    };\n\t    return Web;\n\t}();\n\texports.default = Web;\n\t//# sourceMappingURL=Web.js.map\n\n/***/ }),\n/* 23 */,\n/* 24 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\t\n\tprocess.listeners = function (name) { return [] }\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (root) {\n\t\n\t  // Store setTimeout reference so promise-polyfill will be unaffected by\n\t  // other code modifying setTimeout (like sinon.useFakeTimers())\n\t  var setTimeoutFunc = setTimeout;\n\t\n\t  function noop() {}\n\t  \n\t  // Polyfill for Function.prototype.bind\n\t  function bind(fn, thisArg) {\n\t    return function () {\n\t      fn.apply(thisArg, arguments);\n\t    };\n\t  }\n\t\n\t  function Promise(fn) {\n\t    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n\t    if (typeof fn !== 'function') throw new TypeError('not a function');\n\t    this._state = 0;\n\t    this._handled = false;\n\t    this._value = undefined;\n\t    this._deferreds = [];\n\t\n\t    doResolve(fn, this);\n\t  }\n\t\n\t  function handle(self, deferred) {\n\t    while (self._state === 3) {\n\t      self = self._value;\n\t    }\n\t    if (self._state === 0) {\n\t      self._deferreds.push(deferred);\n\t      return;\n\t    }\n\t    self._handled = true;\n\t    Promise._immediateFn(function () {\n\t      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n\t      if (cb === null) {\n\t        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n\t        return;\n\t      }\n\t      var ret;\n\t      try {\n\t        ret = cb(self._value);\n\t      } catch (e) {\n\t        reject(deferred.promise, e);\n\t        return;\n\t      }\n\t      resolve(deferred.promise, ret);\n\t    });\n\t  }\n\t\n\t  function resolve(self, newValue) {\n\t    try {\n\t      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n\t      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n\t      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n\t        var then = newValue.then;\n\t        if (newValue instanceof Promise) {\n\t          self._state = 3;\n\t          self._value = newValue;\n\t          finale(self);\n\t          return;\n\t        } else if (typeof then === 'function') {\n\t          doResolve(bind(then, newValue), self);\n\t          return;\n\t        }\n\t      }\n\t      self._state = 1;\n\t      self._value = newValue;\n\t      finale(self);\n\t    } catch (e) {\n\t      reject(self, e);\n\t    }\n\t  }\n\t\n\t  function reject(self, newValue) {\n\t    self._state = 2;\n\t    self._value = newValue;\n\t    finale(self);\n\t  }\n\t\n\t  function finale(self) {\n\t    if (self._state === 2 && self._deferreds.length === 0) {\n\t      Promise._immediateFn(function() {\n\t        if (!self._handled) {\n\t          Promise._unhandledRejectionFn(self._value);\n\t        }\n\t      });\n\t    }\n\t\n\t    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n\t      handle(self, self._deferreds[i]);\n\t    }\n\t    self._deferreds = null;\n\t  }\n\t\n\t  function Handler(onFulfilled, onRejected, promise) {\n\t    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n\t    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n\t    this.promise = promise;\n\t  }\n\t\n\t  /**\n\t   * Take a potentially misbehaving resolver function and make sure\n\t   * onFulfilled and onRejected are only called once.\n\t   *\n\t   * Makes no guarantees about asynchrony.\n\t   */\n\t  function doResolve(fn, self) {\n\t    var done = false;\n\t    try {\n\t      fn(function (value) {\n\t        if (done) return;\n\t        done = true;\n\t        resolve(self, value);\n\t      }, function (reason) {\n\t        if (done) return;\n\t        done = true;\n\t        reject(self, reason);\n\t      });\n\t    } catch (ex) {\n\t      if (done) return;\n\t      done = true;\n\t      reject(self, ex);\n\t    }\n\t  }\n\t\n\t  Promise.prototype['catch'] = function (onRejected) {\n\t    return this.then(null, onRejected);\n\t  };\n\t\n\t  Promise.prototype.then = function (onFulfilled, onRejected) {\n\t    var prom = new (this.constructor)(noop);\n\t\n\t    handle(this, new Handler(onFulfilled, onRejected, prom));\n\t    return prom;\n\t  };\n\t\n\t  Promise.all = function (arr) {\n\t    var args = Array.prototype.slice.call(arr);\n\t\n\t    return new Promise(function (resolve, reject) {\n\t      if (args.length === 0) return resolve([]);\n\t      var remaining = args.length;\n\t\n\t      function res(i, val) {\n\t        try {\n\t          if (val && (typeof val === 'object' || typeof val === 'function')) {\n\t            var then = val.then;\n\t            if (typeof then === 'function') {\n\t              then.call(val, function (val) {\n\t                res(i, val);\n\t              }, reject);\n\t              return;\n\t            }\n\t          }\n\t          args[i] = val;\n\t          if (--remaining === 0) {\n\t            resolve(args);\n\t          }\n\t        } catch (ex) {\n\t          reject(ex);\n\t        }\n\t      }\n\t\n\t      for (var i = 0; i < args.length; i++) {\n\t        res(i, args[i]);\n\t      }\n\t    });\n\t  };\n\t\n\t  Promise.resolve = function (value) {\n\t    if (value && typeof value === 'object' && value.constructor === Promise) {\n\t      return value;\n\t    }\n\t\n\t    return new Promise(function (resolve) {\n\t      resolve(value);\n\t    });\n\t  };\n\t\n\t  Promise.reject = function (value) {\n\t    return new Promise(function (resolve, reject) {\n\t      reject(value);\n\t    });\n\t  };\n\t\n\t  Promise.race = function (values) {\n\t    return new Promise(function (resolve, reject) {\n\t      for (var i = 0, len = values.length; i < len; i++) {\n\t        values[i].then(resolve, reject);\n\t      }\n\t    });\n\t  };\n\t\n\t  // Use polyfill for setImmediate for performance gains\n\t  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n\t    function (fn) {\n\t      setTimeoutFunc(fn, 0);\n\t    };\n\t\n\t  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n\t    if (typeof console !== 'undefined' && console) {\n\t      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n\t    }\n\t  };\n\t\n\t  /**\n\t   * Set the immediate function to execute callbacks\n\t   * @param fn {function} Function to execute\n\t   * @deprecated\n\t   */\n\t  Promise._setImmediateFn = function _setImmediateFn(fn) {\n\t    Promise._immediateFn = fn;\n\t  };\n\t\n\t  /**\n\t   * Change the function to execute on unhandled rejection\n\t   * @param {function} fn Function to execute on unhandled rejection\n\t   * @deprecated\n\t   */\n\t  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n\t    Promise._unhandledRejectionFn = fn;\n\t  };\n\t  \n\t  if (typeof module !== 'undefined' && module.exports) {\n\t    module.exports = Promise;\n\t  } else if (!root.Promise) {\n\t    root.Promise = Promise;\n\t  }\n\t\n\t})(this);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(30).setImmediate))\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\t// If obj.hasOwnProperty has been overridden, then calling\n\t// obj.hasOwnProperty(prop) will break.\n\t// See: https://github.com/joyent/node/issues/1707\n\tfunction hasOwnProperty(obj, prop) {\n\t  return Object.prototype.hasOwnProperty.call(obj, prop);\n\t}\n\t\n\tmodule.exports = function(qs, sep, eq, options) {\n\t  sep = sep || '&';\n\t  eq = eq || '=';\n\t  var obj = {};\n\t\n\t  if (typeof qs !== 'string' || qs.length === 0) {\n\t    return obj;\n\t  }\n\t\n\t  var regexp = /\\+/g;\n\t  qs = qs.split(sep);\n\t\n\t  var maxKeys = 1000;\n\t  if (options && typeof options.maxKeys === 'number') {\n\t    maxKeys = options.maxKeys;\n\t  }\n\t\n\t  var len = qs.length;\n\t  // maxKeys <= 0 means that we should not limit keys count\n\t  if (maxKeys > 0 && len > maxKeys) {\n\t    len = maxKeys;\n\t  }\n\t\n\t  for (var i = 0; i < len; ++i) {\n\t    var x = qs[i].replace(regexp, '%20'),\n\t        idx = x.indexOf(eq),\n\t        kstr, vstr, k, v;\n\t\n\t    if (idx >= 0) {\n\t      kstr = x.substr(0, idx);\n\t      vstr = x.substr(idx + 1);\n\t    } else {\n\t      kstr = x;\n\t      vstr = '';\n\t    }\n\t\n\t    k = decodeURIComponent(kstr);\n\t    v = decodeURIComponent(vstr);\n\t\n\t    if (!hasOwnProperty(obj, k)) {\n\t      obj[k] = v;\n\t    } else if (Array.isArray(obj[k])) {\n\t      obj[k].push(v);\n\t    } else {\n\t      obj[k] = [obj[k], v];\n\t    }\n\t  }\n\t\n\t  return obj;\n\t};\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\tvar stringifyPrimitive = function(v) {\n\t  switch (typeof v) {\n\t    case 'string':\n\t      return v;\n\t\n\t    case 'boolean':\n\t      return v ? 'true' : 'false';\n\t\n\t    case 'number':\n\t      return isFinite(v) ? v : '';\n\t\n\t    default:\n\t      return '';\n\t  }\n\t};\n\t\n\tmodule.exports = function(obj, sep, eq, name) {\n\t  sep = sep || '&';\n\t  eq = eq || '=';\n\t  if (obj === null) {\n\t    obj = undefined;\n\t  }\n\t\n\t  if (typeof obj === 'object') {\n\t    return Object.keys(obj).map(function(k) {\n\t      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\t      if (Array.isArray(obj[k])) {\n\t        return obj[k].map(function(v) {\n\t          return ks + encodeURIComponent(stringifyPrimitive(v));\n\t        }).join(sep);\n\t      } else {\n\t        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n\t      }\n\t    }).join(sep);\n\t\n\t  }\n\t\n\t  if (!name) return '';\n\t  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n\t         encodeURIComponent(stringifyPrimitive(obj));\n\t};\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.decode = exports.parse = __webpack_require__(26);\n\texports.encode = exports.stringify = __webpack_require__(27);\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n\t    \"use strict\";\n\t\n\t    if (global.setImmediate) {\n\t        return;\n\t    }\n\t\n\t    var nextHandle = 1; // Spec says greater than zero\n\t    var tasksByHandle = {};\n\t    var currentlyRunningATask = false;\n\t    var doc = global.document;\n\t    var registerImmediate;\n\t\n\t    function setImmediate(callback) {\n\t      // Callback can either be a function or a string\n\t      if (typeof callback !== \"function\") {\n\t        callback = new Function(\"\" + callback);\n\t      }\n\t      // Copy function arguments\n\t      var args = new Array(arguments.length - 1);\n\t      for (var i = 0; i < args.length; i++) {\n\t          args[i] = arguments[i + 1];\n\t      }\n\t      // Store and register the task\n\t      var task = { callback: callback, args: args };\n\t      tasksByHandle[nextHandle] = task;\n\t      registerImmediate(nextHandle);\n\t      return nextHandle++;\n\t    }\n\t\n\t    function clearImmediate(handle) {\n\t        delete tasksByHandle[handle];\n\t    }\n\t\n\t    function run(task) {\n\t        var callback = task.callback;\n\t        var args = task.args;\n\t        switch (args.length) {\n\t        case 0:\n\t            callback();\n\t            break;\n\t        case 1:\n\t            callback(args[0]);\n\t            break;\n\t        case 2:\n\t            callback(args[0], args[1]);\n\t            break;\n\t        case 3:\n\t            callback(args[0], args[1], args[2]);\n\t            break;\n\t        default:\n\t            callback.apply(undefined, args);\n\t            break;\n\t        }\n\t    }\n\t\n\t    function runIfPresent(handle) {\n\t        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n\t        // So if we're currently running a task, we'll need to delay this invocation.\n\t        if (currentlyRunningATask) {\n\t            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n\t            // \"too much recursion\" error.\n\t            setTimeout(runIfPresent, 0, handle);\n\t        } else {\n\t            var task = tasksByHandle[handle];\n\t            if (task) {\n\t                currentlyRunningATask = true;\n\t                try {\n\t                    run(task);\n\t                } finally {\n\t                    clearImmediate(handle);\n\t                    currentlyRunningATask = false;\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    function installNextTickImplementation() {\n\t        registerImmediate = function(handle) {\n\t            process.nextTick(function () { runIfPresent(handle); });\n\t        };\n\t    }\n\t\n\t    function canUsePostMessage() {\n\t        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n\t        // where `global.postMessage` means something completely different and can't be used for this purpose.\n\t        if (global.postMessage && !global.importScripts) {\n\t            var postMessageIsAsynchronous = true;\n\t            var oldOnMessage = global.onmessage;\n\t            global.onmessage = function() {\n\t                postMessageIsAsynchronous = false;\n\t            };\n\t            global.postMessage(\"\", \"*\");\n\t            global.onmessage = oldOnMessage;\n\t            return postMessageIsAsynchronous;\n\t        }\n\t    }\n\t\n\t    function installPostMessageImplementation() {\n\t        // Installs an event handler on `global` for the `message` event: see\n\t        // * https://developer.mozilla.org/en/DOM/window.postMessage\n\t        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\t\n\t        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n\t        var onGlobalMessage = function(event) {\n\t            if (event.source === global &&\n\t                typeof event.data === \"string\" &&\n\t                event.data.indexOf(messagePrefix) === 0) {\n\t                runIfPresent(+event.data.slice(messagePrefix.length));\n\t            }\n\t        };\n\t\n\t        if (global.addEventListener) {\n\t            global.addEventListener(\"message\", onGlobalMessage, false);\n\t        } else {\n\t            global.attachEvent(\"onmessage\", onGlobalMessage);\n\t        }\n\t\n\t        registerImmediate = function(handle) {\n\t            global.postMessage(messagePrefix + handle, \"*\");\n\t        };\n\t    }\n\t\n\t    function installMessageChannelImplementation() {\n\t        var channel = new MessageChannel();\n\t        channel.port1.onmessage = function(event) {\n\t            var handle = event.data;\n\t            runIfPresent(handle);\n\t        };\n\t\n\t        registerImmediate = function(handle) {\n\t            channel.port2.postMessage(handle);\n\t        };\n\t    }\n\t\n\t    function installReadyStateChangeImplementation() {\n\t        var html = doc.documentElement;\n\t        registerImmediate = function(handle) {\n\t            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n\t            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n\t            var script = doc.createElement(\"script\");\n\t            script.onreadystatechange = function () {\n\t                runIfPresent(handle);\n\t                script.onreadystatechange = null;\n\t                html.removeChild(script);\n\t                script = null;\n\t            };\n\t            html.appendChild(script);\n\t        };\n\t    }\n\t\n\t    function installSetTimeoutImplementation() {\n\t        registerImmediate = function(handle) {\n\t            setTimeout(runIfPresent, 0, handle);\n\t        };\n\t    }\n\t\n\t    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n\t    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n\t    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\t\n\t    // Don't get fooled by e.g. browserify environments.\n\t    if ({}.toString.call(global.process) === \"[object process]\") {\n\t        // For Node.js before 0.9\n\t        installNextTickImplementation();\n\t\n\t    } else if (canUsePostMessage()) {\n\t        // For non-IE10 modern browsers\n\t        installPostMessageImplementation();\n\t\n\t    } else if (global.MessageChannel) {\n\t        // For web workers, where supported\n\t        installMessageChannelImplementation();\n\t\n\t    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n\t        // For IE 68\n\t        installReadyStateChangeImplementation();\n\t\n\t    } else {\n\t        // For older browsers\n\t        installSetTimeoutImplementation();\n\t    }\n\t\n\t    attachTo.setImmediate = setImmediate;\n\t    attachTo.clearImmediate = clearImmediate;\n\t}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(24)))\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar apply = Function.prototype.apply;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) {\n\t  if (timeout) {\n\t    timeout.close();\n\t  }\n\t};\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(window, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// setimmediate attaches itself to the global object\n\t__webpack_require__(29);\n\texports.setImmediate = setImmediate;\n\texports.clearImmediate = clearImmediate;\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// spscript.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 82e5df9034432cfa8170","\"use strict\";\r\nvar promise_polyfill_1 = require(\"promise-polyfill\");\r\nvar SPScript_1 = require(\"./SPScript\");\r\nif (!global.Promise) {\r\n    global.Promise = promise_polyfill_1.default;\r\n}\r\nmodule.exports = SPScript_1.default;\r\n//# sourceMappingURL=entry.browser.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/entry.browser.js","\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar queryString_1 = require(\"./queryString\");\r\nvar headers_1 = require(\"./headers\");\r\nvar loaders_1 = require(\"./loaders\");\r\nvar dependencyManagement_1 = require(\"./dependencyManagement\");\r\nfunction isBrowser() {\r\n    return (!(typeof window === 'undefined'));\r\n}\r\nfunction parseJSON(data) {\r\n    if (typeof data === \"string\") {\r\n        try {\r\n            data = JSON.parse(data);\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n    return data;\r\n}\r\nvar getArrayBuffer = function (file) {\r\n    if (file && file instanceof File) {\r\n        return new Promise(function (resolve, reject) {\r\n            var reader = new FileReader();\r\n            reader.onload = function (e) {\r\n                resolve(e.target.result);\r\n            };\r\n            reader.readAsArrayBuffer(file);\r\n        });\r\n    }\r\n    else {\r\n        throw \"SPScript.utils.getArrayBuffer: Cant get ArrayBuffer if you don't pass in a file\";\r\n    }\r\n};\r\nfunction validateODataV2(data) {\r\n    data = parseJSON(data);\r\n    var results = null;\r\n    if (data.d && data.d.results && data.d.results.length != null) {\r\n        results = data.d.results;\r\n    }\r\n    else if (data.d) {\r\n        results = data.d;\r\n    }\r\n    return results || data;\r\n}\r\nfunction openModal(url, modalOptions) {\r\n    if (!dependencyManagement_1.validateNamespace(\"SP.UI.ModalDialog\")) {\r\n        throw new Error(\"Sorry. Unable to open modal because native SharePoint Modal JavaScript is on loaded on page.\");\r\n    }\r\n    var defaults = {\r\n        width: 800,\r\n        title: \" \"\r\n    };\r\n    // This is a test to move it down \r\n    // blah\r\n    var options = __assign({}, defaults, modalOptions, { url: url });\r\n    return SP.UI.ModalDialog.showModalDialog(options);\r\n}\r\nvar utils = {\r\n    isBrowser: isBrowser,\r\n    headers: headers_1.default,\r\n    parseJSON: parseJSON,\r\n    validateODataV2: validateODataV2,\r\n    qs: { toObj: queryString_1.toObj, fromObj: queryString_1.fromObj },\r\n    loadScript: loaders_1.loadScript,\r\n    loadScripts: loaders_1.loadScripts,\r\n    loadCSS: loaders_1.loadCSS,\r\n    getArrayBuffer: getArrayBuffer,\r\n    waitForLibraries: dependencyManagement_1.waitForLibraries,\r\n    waitForLibrary: dependencyManagement_1.waitForLibrary,\r\n    validateNamespace: dependencyManagement_1.validateNamespace,\r\n    waitForElement: dependencyManagement_1.waitForElement,\r\n    openModal: openModal\r\n};\r\nexports.default = utils;\r\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/index.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = require(\"../utils\");\r\nvar IPermissions_1 = require(\"./IPermissions\");\r\n/** Allows you to check the permissions of a securable (list or site) */\r\nvar Securable = (function () {\r\n    function Securable(baseUrl, ctx) {\r\n        this.baseUrl = baseUrl;\r\n        this._dao = ctx;\r\n    }\r\n    /** Gets all the role assignments on that securable  */\r\n    Securable.prototype.getRoleAssignments = function () {\r\n        var url = this.baseUrl + \"/RoleAssignments?$expand=Member,RoleDefinitionBindings\";\r\n        return this._dao.get(url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (results) { return results.map(transformRoleAssignment); });\r\n    };\r\n    Securable.prototype.checkPrivs = function (user) {\r\n        var login = encodeURIComponent(user.LoginName);\r\n        var url = this.baseUrl + \"/getusereffectivepermissions(@v)?@v='\" + login + \"'\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Gets all the role assignments on that securable. If you don't pass an email, it will use the current user. */\r\n    Securable.prototype.check = function (email) {\r\n        var _this = this;\r\n        if (!email && !utils_1.default.isBrowser()) {\r\n            return Promise.reject(\"Can't check permissions. No email passed and no current user\");\r\n        }\r\n        // If no email is passed, then get current user, else get user by email\r\n        var req = !email\r\n            ? this._dao.get('/web/getuserbyid(' + _spPageContextInfo.userId + ')').then(function (data) { return data.d; })\r\n            : this._dao.web.getUser(email);\r\n        return req.then(function (user) { return _this.checkPrivs(user); })\r\n            .then(function (privs) { return permissionMaskToStrings(privs.GetUserEffectivePermissions.Low, privs.GetUserEffectivePermissions.High); });\r\n    };\r\n    return Securable;\r\n}());\r\nexports.default = Securable;\r\nvar transformRoleAssignment = function (raw) {\r\n    var member = {\r\n        login: raw.Member.LoginName,\r\n        name: raw.Member.Title,\r\n        id: raw.Member.Id\r\n    };\r\n    var roles = raw.RoleDefinitionBindings.results.map(function (roleDef) {\r\n        return {\r\n            name: roleDef.Name,\r\n            description: roleDef.Description,\r\n            basePermissions: permissionMaskToStrings(roleDef.BasePermissions.Low, roleDef.BasePermissions.High)\r\n        };\r\n    });\r\n    return { member: member, roles: roles };\r\n};\r\nvar permissionMaskToStrings = function (lowMask, highMask) {\r\n    var permissions = [];\r\n    IPermissions_1.basePermissions.forEach(function (basePermission) {\r\n        if ((basePermission.low & lowMask) > 0 || (basePermission.high & highMask) > 0) {\r\n            permissions.push(basePermission.name);\r\n        }\r\n    });\r\n    return permissions;\r\n};\r\n//# sourceMappingURL=Securable.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/permissions/Securable.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = require(\"../utils\");\r\nvar Securable_1 = require(\"../permissions/Securable\");\r\nvar List = (function () {\r\n    function List(name, ctx) {\r\n        this.listName = name;\r\n        this.baseUrl = \"/web/lists/getbytitle('\" + this.listName + \"')\";\r\n        this._dao = ctx;\r\n        this.permissions = new Securable_1.default(this.baseUrl, ctx);\r\n    }\r\n    /** Get items from the list. Will return all items if no OData is passed. */\r\n    List.prototype.getItems = function (odata) {\r\n        return this._dao\r\n            .get(this.baseUrl + \"/items\" + appendOData(odata))\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Get a specific item by SharePoint ID */\r\n    List.prototype.getItemById = function (id, odata) {\r\n        var url = this.baseUrl + \"/items(\" + id + \")\" + appendOData(odata);\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    ;\r\n    /** Gets you all items whose field(key) matches the value. Currently only text and number columns are supported. */\r\n    List.prototype.findItems = function (key, value, odata) {\r\n        var filterValue = typeof value === \"string\" ? \"'\" + value + \"'\" : value;\r\n        odata = \"$filter=\" + key + \" eq \" + filterValue + appendOData(odata, \"&\");\r\n        return this.getItems(odata);\r\n    };\r\n    /** Get the item whose field(key) matches the value. If multiple matches are found, the first is returned. Currently only text and number columns are supported. */\r\n    List.prototype.findItem = function (key, value, odata) {\r\n        return this.findItems(key, value, odata)\r\n            .then(function (items) {\r\n            if (items && items.length && items.length > 0)\r\n                return items[0];\r\n            return null;\r\n        });\r\n    };\r\n    /** Get all the properties of the List */\r\n    List.prototype.getInfo = function () {\r\n        return this._dao.get(this.baseUrl).then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Insert a List Item */\r\n    List.prototype.addItem = function (item, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest).then(function (digest) {\r\n            return _this._dao.get(_this.baseUrl)\r\n                .then(function (data) {\r\n                //decorate the item with the 'type' metadata\r\n                item = Object.assign({}, {\r\n                    \"__metadata\": {\r\n                        \"type\": data[\"d\"].ListItemEntityTypeFullName\r\n                    }\r\n                }, item);\r\n                var customOptions = {\r\n                    headers: utils_1.default.headers.getAddHeaders(digest)\r\n                };\r\n                return _this._dao.post(_this.baseUrl + \"/items\", item, customOptions);\r\n            })\r\n                .then(utils_1.default.validateODataV2);\r\n        });\r\n    };\r\n    /** Takes a SharePoint Id, and updates that item ONLY with properties that are found in the passed in updates object. */\r\n    List.prototype.updateItem = function (itemId, updates, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest).then(function (digest) {\r\n            return _this.getItemById(itemId).then(function (item) {\r\n                //decorate the item with the 'type' metadata\r\n                updates = Object.assign({}, {\r\n                    \"__metadata\": {\r\n                        \"type\": item[\"__metadata\"].type\r\n                    }\r\n                }, updates);\r\n                var customOptions = {\r\n                    headers: utils_1.default.headers.getUpdateHeaders(digest, item[\"__metadata\"].etag)\r\n                };\r\n                return _this._dao.post(item[\"__metadata\"].uri, updates, customOptions);\r\n            });\r\n        });\r\n    };\r\n    /** deletes the item with the specified SharePoint Id */\r\n    List.prototype.deleteItem = function (itemId, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest).then(function (digest) {\r\n            return _this.getItemById(itemId).then(function (item) {\r\n                var customOptions = {\r\n                    headers: utils_1.default.headers.getDeleteHeaders(digest, item[\"__metadata\"].etag)\r\n                };\r\n                return _this._dao.post(item[\"__metadata\"].uri, \"\", customOptions);\r\n            });\r\n        });\r\n    };\r\n    return List;\r\n}());\r\nexports.default = List;\r\nvar appendOData = function (odata, prefix) {\r\n    prefix = prefix || \"?\";\r\n    if (odata)\r\n        return prefix + odata;\r\n    return \"\";\r\n};\r\n//# sourceMappingURL=List.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/List/List.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = require(\"./utils\");\r\nvar Context_1 = require(\"./context/Context\");\r\nvar csr_1 = require(\"./csr\");\r\nvar spscript = {\r\n    utils: utils_1.default,\r\n    CSR: csr_1.default,\r\n    createContext: function (url, clientId, clientSecret) {\r\n        try {\r\n            if (!url && global._spPageContextInfo) {\r\n                url = global._spPageContextInfo.webAbsoluteUrl;\r\n            }\r\n            return new Context_1.default(url);\r\n        }\r\n        catch (ex) {\r\n            throw new Error(\"Unable to create SPScript Context: \" + ex.message);\r\n        }\r\n    }\r\n};\r\nexports.default = spscript;\r\n//# sourceMappingURL=SPScript.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/SPScript.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar request_1 = require(\"./request\");\r\nvar utils_1 = require(\"../utils\");\r\nvar List_1 = require(\"../List/List\");\r\nvar Web_1 = require(\"../web/Web\");\r\nvar Search_1 = require(\"../search/Search\");\r\nvar CustomActions_1 = require(\"../customActions/CustomActions\");\r\nvar Profiles_1 = require(\"../profiles/Profiles\");\r\nvar Context = (function () {\r\n    function Context(url, clientId, clientSecret) {\r\n        this.webUrl = url;\r\n        this.clientId = clientId;\r\n        this.clientSecret = clientSecret;\r\n        // TODO serverside: replace with tokenHelper.getAppOnlyToken(this.webUrl, this.clientKey, this.clientSecret).then(token => this.accessToken = token);\r\n        this.ensureToken = !clientId ? Promise.resolve() : Promise.resolve();\r\n        this.search = new Search_1.default(this);\r\n        this.customActions = new CustomActions_1.default(this);\r\n        this.web = new Web_1.default(this);\r\n        this.profiles = new Profiles_1.default(this);\r\n    }\r\n    Context.prototype.executeRequest = function (url, opts) {\r\n        var fullUrl = (/^http/i).test(url) ? url : this.webUrl + \"/_api\" + url;\r\n        var defaultOptions = {\r\n            url: fullUrl,\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Accept\": \"application/json; odata=verbose\",\r\n                \"Content-Type\": \"application/json; odata=verbose\"\r\n            }\r\n        };\r\n        if (this.accessToken) {\r\n            defaultOptions.headers['Authorization'] = 'Bearer ' + this.accessToken;\r\n        }\r\n        var requestOptions = Object.assign({}, defaultOptions, opts);\r\n        return request_1.default(requestOptions);\r\n    };\r\n    ;\r\n    /** Make a 'GET' request to the '<site>/_api' relative url. */\r\n    Context.prototype.get = function (url, opts) {\r\n        var options = Object.assign({}, { method: \"GET\" }, opts);\r\n        return this.executeRequest(url, options).then(utils_1.default.parseJSON);\r\n    };\r\n    ;\r\n    /** Make a 'POST' request to the '<site>/_api' relative url. */\r\n    Context.prototype.post = function (url, body, opts) {\r\n        body = this._packagePostBody(body, opts);\r\n        var options = {\r\n            method: \"POST\",\r\n            data: body,\r\n        };\r\n        options = Object.assign({}, options, opts);\r\n        return this.executeRequest(url, options).then(utils_1.default.parseJSON);\r\n    };\r\n    ;\r\n    /** Make a 'POST' request to the '<site>/_api' relative url. SPScript will handle authorizing the request for you.*/\r\n    Context.prototype.authorizedPost = function (url, body, verb) {\r\n        var _this = this;\r\n        return this.getRequestDigest()\r\n            .then(function (digest) { return utils_1.default.headers.getActionHeaders(verb, digest); })\r\n            .then(function (headers) { return _this.post(url, body, { headers: headers }); });\r\n    };\r\n    ;\r\n    Context.prototype._ensureRequestDigest = function (digest) {\r\n        return digest ? Promise.resolve(digest) : this.getRequestDigest();\r\n    };\r\n    ;\r\n    /** Get a Request Digest token to authorize a request */\r\n    Context.prototype.getRequestDigest = function () {\r\n        return this.post(\"/contextInfo\", {}).then(function (data) { return data[\"d\"].GetContextWebInformation.FormDigestValue; });\r\n    };\r\n    ;\r\n    /** Get an SPScript List instance */\r\n    Context.prototype.lists = function (name) {\r\n        return new List_1.default(name, this);\r\n    };\r\n    Context.prototype._packagePostBody = function (body, opts) {\r\n        // if its already a string just return\r\n        if (typeof body === \"string\")\r\n            return body;\r\n        // if it has an explicit content-type, asssume the body is already that type\r\n        if (opts && opts.headers && opts.headers[\"Content-Type\"] && opts.headers[\"Content-Type\"].indexOf(\"json\") === -1) {\r\n            return body;\r\n        }\r\n        //others stringify\r\n        return JSON.stringify(body);\r\n    };\r\n    ;\r\n    return Context;\r\n}());\r\nexports.default = Context;\r\n//# sourceMappingURL=Context.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/context/Context.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar xhr_1 = require(\"./xhr\");\r\nvar request = function (options) {\r\n    // if node, use request-promise-native\r\n    // if fetch is available, use that\r\n    // else use xhr\r\n    if (typeof window === \"undefined\") {\r\n        throw new Error(\"No Node.js HTTP request module available yet.\");\r\n    }\r\n    return xhr_1.default(options);\r\n};\r\nexports.default = request;\r\n//# sourceMappingURL=request.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/context/request.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar defaults = {\r\n    method: \"GET\",\r\n    async: true,\r\n    data: undefined\r\n};\r\nvar validMethods = [\r\n    \"GET\",\r\n    \"POST\",\r\n    \"PUT\",\r\n    \"HEAD\",\r\n    \"DELETE\",\r\n    \"PATCH\"\r\n];\r\nvar errorHandlers = [];\r\nvar validateOptions = function (options) {\r\n    if (!options || !options.url || validMethods.indexOf(options.method) < 0)\r\n        return false;\r\n    else\r\n        return true;\r\n};\r\nvar setHeaders = function (xhr, headersObj) {\r\n    if (headersObj) {\r\n        Object.keys(headersObj).forEach(function (key) {\r\n            xhr.setRequestHeader(key, headersObj[key]);\r\n        });\r\n    }\r\n};\r\nvar xhr = function (options) {\r\n    var opts = Object.assign({}, defaults, options);\r\n    if (!validateOptions(options))\r\n        return Promise.reject(new Error(\"Invalid options passed into ajax call.\"));\r\n    var xhr = new XMLHttpRequest();\r\n    if (xhr == null)\r\n        return Promise.reject(new Error(\"Your browser doesn't support XMLHttpRequest (ajax).\"));\r\n    xhr.open(opts.method, opts.url, opts.async);\r\n    setHeaders(xhr, opts.headers);\r\n    xhr.responseType = \"json\";\r\n    return new Promise(function (resolve, reject) {\r\n        xhr.onreadystatechange = function () {\r\n            //completed\r\n            if (xhr.readyState === 4) {\r\n                // SUCCESS\r\n                if (xhr.status < 400 && xhr.status >= 100) {\r\n                    if (xhr.status >= 200 && xhr.status < 300 && xhr.status !== 204) {\r\n                        resolve(xhr.response || xhr.status + \"\");\r\n                    }\r\n                    else\r\n                        resolve(xhr.response);\r\n                }\r\n                else {\r\n                    var err = new Error(\"SPScript HTTP Error: \" + xhr.status);\r\n                    if (xhr.response && typeof xhr.response === \"object\") {\r\n                        err.message += \"\\n\" + JSON.stringify(xhr.response, null, \"  \");\r\n                    }\r\n                    reject(err);\r\n                }\r\n            }\r\n        };\r\n        xhr.send(opts.data);\r\n    });\r\n};\r\nexports.default = xhr;\r\n//# sourceMappingURL=xhr.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/context/xhr.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = require(\"../utils\");\r\nvar registerField = function (field, renderer, opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    if (!utils_1.default.validateNamespace(\"SPClientTemplates.TemplateManager\")) {\r\n        throw new Error(\"Unable to register CSR template.  SPClientTemplates.TemplateManager does not exist\");\r\n    }\r\n    var renderers = {};\r\n    //View, DisplayForm, EditForm, NewForm\r\n    field.locations.forEach(function (l) { return renderers[l] = renderer; });\r\n    var defaults = {\r\n        Templates: {\r\n            Fields: {}\r\n        }\r\n    };\r\n    var templateOverride = Object.assign({}, defaults, opts);\r\n    templateOverride.Templates.Fields[field.name] = renderers;\r\n    SPClientTemplates.TemplateManager.RegisterTemplateOverrides(templateOverride);\r\n    return field;\r\n};\r\nvar registerDisplayField = function (fieldComponent, opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    var renderer = createDisplayFieldRenderer(fieldComponent);\r\n    fieldComponent.locations = fieldComponent.locations || [\"View\", \"DisplayForm\"];\r\n    return registerField(fieldComponent, renderer, opts);\r\n};\r\nvar registerFormField = function (fieldComponent, opts) {\r\n    if (opts === void 0) { opts = {}; }\r\n    var renderer = createFormFieldRenderer(fieldComponent);\r\n    fieldComponent.locations = fieldComponent.locations || [\"NewForm\", \"EditForm\"];\r\n    return registerField(fieldComponent, renderer, opts);\r\n};\r\nfunction createFormFieldRenderer(field) {\r\n    return function (ctx) {\r\n        var formCtx = ctx.FormContext;\r\n        // need to clone ctx, it is getting overwritten so we lost CurrentItem\r\n        var clonedCtx = Object.assign({}, ctx);\r\n        if (field.onReady) {\r\n            if (formCtx) {\r\n                formCtx.registerInitCallback(field.name, field.onReady.bind(null, clonedCtx));\r\n            }\r\n            else {\r\n                setTimeout(field.onReady.bind(null, clonedCtx), 100);\r\n            }\r\n        }\r\n        if (field.getValue && formCtx) {\r\n            formCtx.registerGetValueCallback(field.name, field.getValue.bind(null, clonedCtx));\r\n        }\r\n        // tack on 'setValue' function\r\n        if (formCtx && formCtx.updateControlValue) {\r\n            field.setValue = function (value) {\r\n                formCtx.updateControlValue(field.name, value);\r\n            };\r\n        }\r\n        return field.render(ctx);\r\n    };\r\n}\r\nfunction createDisplayFieldRenderer(field) {\r\n    return function (ctx) {\r\n        var formCtx = ctx.FormContext;\r\n        if (formCtx && formCtx.registerInitCallback && field.onReady) {\r\n            formCtx.registerInitCallback(field.name, field.onReady);\r\n        }\r\n        return field.render(ctx);\r\n    };\r\n}\r\nvar CSR = {\r\n    registerDisplayField: registerDisplayField,\r\n    registerFormField: registerFormField\r\n};\r\nexports.default = CSR;\r\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/csr/index.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = require(\"../utils\");\r\nvar ICustomActions_1 = require(\"./ICustomActions\");\r\nvar CustomActions = (function () {\r\n    function CustomActions(ctx) {\r\n        this._dao = ctx;\r\n    }\r\n    CustomActions.prototype.getScope = function (scopeId) {\r\n        if (scopeId === 3)\r\n            return ICustomActions_1.scopes.Web;\r\n        if (scopeId === 2)\r\n            return ICustomActions_1.scopes.Site;\r\n        throw new Error(\"Invalid Custom Action Scope\");\r\n    };\r\n    CustomActions.prototype.get = function (name) {\r\n        var _this = this;\r\n        // first get the site scoped ones, then the web scoped ones\r\n        return this._dao.get(ICustomActions_1.scopes.Site.url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (siteCustomActions) {\r\n            return _this._dao.get(ICustomActions_1.scopes.Web.url)\r\n                .then(utils_1.default.validateODataV2)\r\n                .then(function (webCustomActions) { return siteCustomActions.concat(webCustomActions); });\r\n        })\r\n            .then(function (customActions) {\r\n            // if a name was passed filter it otherwise return everything\r\n            if (name) {\r\n                var matches = customActions.filter(function (a) { return a.Name === name; });\r\n                if (matches.length) {\r\n                    return matches[0];\r\n                }\r\n                throw new Error(\"Unable to find Custom Action with name: \" + name);\r\n            }\r\n            else\r\n                return customActions;\r\n        });\r\n    };\r\n    /** Gets the API url of a specific Custom Action */\r\n    CustomActions.prototype._getUrl = function (name) {\r\n        var _this = this;\r\n        return this.get(name)\r\n            .then(function (a) { return _this.getScope(a.Scope).url + \"('\" + a.Id + \"')\"; });\r\n    };\r\n    CustomActions.prototype._getUrlAndDigest = function (name) {\r\n        var _this = this;\r\n        var prep = {};\r\n        return this._getUrl(name)\r\n            .then(function (url) {\r\n            prep.url = url;\r\n            return _this._dao.getRequestDigest();\r\n        })\r\n            .then(function (digest) {\r\n            prep.digest = digest;\r\n            return prep;\r\n        });\r\n    };\r\n    /** Update an existing Custom Action. You must pass a custom action with a 'Name' property */\r\n    CustomActions.prototype.update = function (updates) {\r\n        var _this = this;\r\n        if (!updates || !updates.Name)\r\n            throw new Error(\"You must at least pass a Custom Action 'Name'\");\r\n        return this._getUrlAndDigest(updates.Name)\r\n            .then(function (prep) {\r\n            updates = Object.assign({}, ICustomActions_1.metadata, updates);\r\n            var opts = {\r\n                headers: utils_1.default.headers.getUpdateHeaders(prep.digest)\r\n            };\r\n            return _this._dao.post(prep.url, updates, opts);\r\n        });\r\n    };\r\n    /** Remove an existing Custom Action. Searches both Site and Web scoped */\r\n    CustomActions.prototype.remove = function (name) {\r\n        var _this = this;\r\n        if (!name)\r\n            throw new Error(\"You must at least pass an existing Custom Action name\");\r\n        return this._getUrlAndDigest(name)\r\n            .then(function (prep) {\r\n            var opts = {\r\n                headers: utils_1.default.headers.getDeleteHeaders(prep.digest)\r\n            };\r\n            return _this._dao.post(prep.url, {}, opts);\r\n        });\r\n    };\r\n    /** Adds a new custom action. If the custom action name already exists, it will be deleted first */\r\n    CustomActions.prototype.add = function (customAction) {\r\n        var _this = this;\r\n        if (!customAction || !customAction.Name)\r\n            throw new Error(\"You must at least pass a Custom Action 'Name'\");\r\n        var defaults = {\r\n            Name: customAction.Name,\r\n            Title: customAction.Name,\r\n            Description: customAction.Name,\r\n            Group: customAction.Name,\r\n            Sequence: 100,\r\n            Scope: \"Site\",\r\n            Location: \"ScriptLink\",\r\n        };\r\n        customAction = Object.assign({}, defaults, customAction);\r\n        // if it exists already, delete it\r\n        return this.get()\r\n            .then(function (existingCustomActions) {\r\n            if (existingCustomActions.filter(function (ca) { return ca.Name === customAction.Name; }).length) {\r\n                return _this.remove(customAction.Name);\r\n            }\r\n            return true;\r\n        })\r\n            .then(function () { return _this._dao.getRequestDigest(); })\r\n            .then(function (digest) {\r\n            customAction = Object.assign({}, ICustomActions_1.metadata, customAction);\r\n            var scope = ICustomActions_1.scopes[customAction.Scope];\r\n            customAction.Scope = scope.id;\r\n            var opts = {\r\n                headers: utils_1.default.headers.getAddHeaders(digest)\r\n            };\r\n            return _this._dao.post(scope.url, customAction, opts);\r\n        });\r\n    };\r\n    CustomActions.prototype.addScriptBlock = function (name, block, opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        var customAction = {\r\n            Name: name,\r\n            ScriptBlock: block\r\n        };\r\n        customAction = Object.assign({}, customAction, opts);\r\n        return this.add(customAction);\r\n    };\r\n    /** Injects a CSS file onto your site. Defaults to Site scoped */\r\n    CustomActions.prototype.addCSSLink = function (name, url, opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        var scriptBlockStr = \"\\n\\t\\t(function() {\\n\\t\\t\\tvar head = document.querySelector(\\\"head\\\");\\n\\t\\t\\tvar styleTag = document.createElement(\\\"style\\\");\\n\\t\\t\\tstyleTag.appendChild(document.createTextNode(\\\"body { opacity: 0 }\\\"));\\n\\t\\t\\t\\n\\t\\t\\tvar linkTag = document.createElement(\\\"link\\\");\\n\\t\\t\\tlinkTag.rel = \\\"stylesheet\\\";\\tlinkTag.href = \\\"\" + url + \"\\\"; linkTag.type = \\\"text/css\\\";\\n\\t\\t\\tlinkTag.addEventListener(\\\"load\\\", function() {\\n\\t\\t\\t\\thead.removeChild(styleTag);\\n\\t\\t\\t});\\n\\n\\t\\t\\thead.appendChild(styleTag);\\n\\t\\t\\thead.appendChild(linkTag);\\n\\t\\t})();\";\r\n        return this.addScriptBlock(name, scriptBlockStr, opts);\r\n    };\r\n    CustomActions.prototype.addScriptLink = function (name, url, opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        var scriptBlockStr = \"\\n\\t\\t(function() {\\n\\t\\t\\tvar head = document.querySelector(\\\"head\\\");\\n\\t\\t\\tvar scriptTag = document.createElement(\\\"script\\\");\\n            scriptTag.src = \\\"\" + url + \"\\\";\\n            scriptTag.type = \\\"text/javascript\\\";\\n\\t\\t\\thead.appendChild(scriptTag);\\n\\t\\t})();\";\r\n        return this.addScriptBlock(name, scriptBlockStr, opts);\r\n    };\r\n    return CustomActions;\r\n}());\r\nexports.default = CustomActions;\r\n;\r\n//# sourceMappingURL=CustomActions.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/customActions/CustomActions.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.metadata = {\r\n    __metadata: {\r\n        \"type\": \"SP.UserCustomAction\"\r\n    }\r\n};\r\nexports.scopes = {\r\n    \"Web\": {\r\n        id: 3,\r\n        name: \"Web\",\r\n        url: \"/web/usercustomactions\"\r\n    },\r\n    \"Site\": {\r\n        id: 2,\r\n        name: \"Site\",\r\n        url: \"/site/usercustomactions\"\r\n    }\r\n};\r\n//# sourceMappingURL=ICustomActions.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/customActions/ICustomActions.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.basePermissions = [{\r\n        \"name\": \"emptyMask\",\r\n        \"low\": 0,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewListItems\",\r\n        \"low\": 1,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"addListItems\",\r\n        \"low\": 2,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"editListItems\",\r\n        \"low\": 4,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"deleteListItems\",\r\n        \"low\": 8,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"approveItems\",\r\n        \"low\": 16,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"openItems\",\r\n        \"low\": 32,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewVersions\",\r\n        \"low\": 64,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"deleteVersions\",\r\n        \"low\": 128,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"cancelCheckout\",\r\n        \"low\": 256,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"managePersonalViews\",\r\n        \"low\": 512,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"manageLists\",\r\n        \"low\": 2048,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewFormPages\",\r\n        \"low\": 4096,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"anonymousSearchAccessList\",\r\n        \"low\": 8192,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"open\",\r\n        \"low\": 65536,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewPages\",\r\n        \"low\": 131072,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"addAndCustomizePages\",\r\n        \"low\": 262144,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"applyThemeAndBorder\",\r\n        \"low\": 524288,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"applyStyleSheets\",\r\n        \"low\": 1048576,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"viewUsageData\",\r\n        \"low\": 2097152,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"createSSCSite\",\r\n        \"low\": 4194304,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"manageSubwebs\",\r\n        \"low\": 8388608,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"createGroups\",\r\n        \"low\": 16777216,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"managePermissions\",\r\n        \"low\": 33554432,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"browseDirectories\",\r\n        \"low\": 67108864,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"browseUserInfo\",\r\n        \"low\": 134217728,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"addDelPrivateWebParts\",\r\n        \"low\": 268435456,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"updatePersonalWebParts\",\r\n        \"low\": 536870912,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"manageWeb\",\r\n        \"low\": 1073741824,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"anonymousSearchAccessWebLists\",\r\n        \"low\": -2147483648,\r\n        \"high\": 0\r\n    }, {\r\n        \"name\": \"useClientIntegration\",\r\n        \"low\": 0,\r\n        \"high\": 16\r\n    }, {\r\n        \"name\": \"useRemoteAPIs\",\r\n        \"low\": 0,\r\n        \"high\": 32\r\n    }, {\r\n        \"name\": \"manageAlerts\",\r\n        \"low\": 0,\r\n        \"high\": 64\r\n    }, {\r\n        \"name\": \"createAlerts\",\r\n        \"low\": 0,\r\n        \"high\": 128\r\n    }, {\r\n        \"name\": \"editMyUserInfo\",\r\n        \"low\": 0,\r\n        \"high\": 256\r\n    }, {\r\n        \"name\": \"enumeratePermissions\",\r\n        \"low\": 0,\r\n        \"high\": 1073741824\r\n    }];\r\n//# sourceMappingURL=IPermissions.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/permissions/IPermissions.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = require(\"../utils\");\r\nvar Profiles = (function () {\r\n    function Profiles(ctx) {\r\n        this._dao = ctx;\r\n        this.baseUrl = \"/SP.UserProfiles.PeopleManager\";\r\n    }\r\n    /** Gets the profile of the current user.  */\r\n    Profiles.prototype.current = function () {\r\n        var url = this.baseUrl + \"/GetMyProperties\";\r\n        return this._dao.get(url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(transformPersonProperties);\r\n    };\r\n    Profiles.prototype.get = function (user) {\r\n        var _this = this;\r\n        if (!user)\r\n            return this.current();\r\n        return this.getUserObj(user).then(function (user) {\r\n            var login = encodeURIComponent(user.LoginName || user.AccountName);\r\n            var url = _this.baseUrl + \"/GetPropertiesFor(accountName=@v)?@v='\" + login + \"'\";\r\n            return _this._dao.get(url)\r\n                .then(utils_1.default.validateODataV2)\r\n                .then(transformPersonProperties);\r\n        });\r\n    };\r\n    Profiles.prototype.getUserObj = function (user) {\r\n        if (!user || typeof user === \"string\") {\r\n            return this._dao.web.getUser(user);\r\n        }\r\n        else if (user.AccountName || user.LoginName) {\r\n            return Promise.resolve(user);\r\n        }\r\n        else\r\n            throw new Error(\"profiles.setProperty Error: Invalid user parameter\");\r\n    };\r\n    Profiles.prototype.setProperty = function (key, value, user) {\r\n        var _this = this;\r\n        return this.getUserObj(user).then(function (user) {\r\n            var args = {\r\n                propertyName: key,\r\n                propertyValue: value,\r\n                accountName: user.LoginName || user.AccountName\r\n            };\r\n            var url = _this.baseUrl + \"/SetSingleValueProfileProperty\";\r\n            return _this._dao.authorizedPost(url, args);\r\n        });\r\n    };\r\n    return Profiles;\r\n}());\r\nexports.default = Profiles;\r\nvar transformPersonProperties = function (profile) {\r\n    console.log(profile);\r\n    profile.UserProfileProperties.results.forEach(function (keyvalue) {\r\n        profile[keyvalue.Key] = keyvalue.Value;\r\n    });\r\n    return profile;\r\n};\r\n//# sourceMappingURL=Profiles.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/profiles/Profiles.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = require(\"../utils\");\r\nvar searchMappers_1 = require(\"./searchMappers\");\r\nvar Search = (function () {\r\n    function Search(ctx) {\r\n        this._dao = ctx;\r\n    }\r\n    ;\r\n    Object.defineProperty(Search.prototype, \"defaultQueryOptions\", {\r\n        /** get default/empty QueryOptions */\r\n        get: function () {\r\n            return {\r\n                sourceid: null,\r\n                startrow: null,\r\n                rowlimit: 100,\r\n                selectedproperties: null,\r\n                refiners: null,\r\n                refinementfilters: null,\r\n                hiddencontstraints: null,\r\n                sortlist: null\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    /** Query the SP Search Service */\r\n    Search.prototype.query = function (queryText, queryOptions) {\r\n        if (queryOptions === void 0) { queryOptions = {}; }\r\n        var optionsQueryString = utils_1.default.qs.fromObj(queryOptions, true);\r\n        var url = \"/search/query?querytext='\" + queryText + \"'&\" + optionsQueryString;\r\n        return this._dao.get(url)\r\n            .then(utils_1.default.validateODataV2)\r\n            .then(function (resp) {\r\n            if (resp.query)\r\n                return searchMappers_1.mapResponse(resp.query);\r\n            throw new Error(\"Invalid response back from search service\");\r\n        });\r\n    };\r\n    ;\r\n    /** Query for only People results */\r\n    Search.prototype.people = function (queryText, queryOptions) {\r\n        if (queryOptions === void 0) { queryOptions = {}; }\r\n        queryOptions.sourceid = 'b09a7990-05ea-4af9-81ef-edfab16c4e31';\r\n        return this.query(queryText, queryOptions);\r\n    };\r\n    ;\r\n    /** Query for only sites (STS_Web). Optionally pass in a url scope. */\r\n    Search.prototype.sites = function (queryText, urlScope, queryOptions) {\r\n        if (queryText === void 0) { queryText = \"\"; }\r\n        if (urlScope === void 0) { urlScope = \"\"; }\r\n        if (queryOptions === void 0) { queryOptions = {}; }\r\n        urlScope = urlScope ? \"Path:\" + urlScope + \"*\" : \"\";\r\n        var query = (queryText + \" contentclass:STS_Web \" + urlScope).trim();\r\n        queryOptions.rowlimit = queryOptions.rowlimit || 499;\r\n        return this.query(query, queryOptions);\r\n    };\r\n    ;\r\n    return Search;\r\n}());\r\nexports.default = Search;\r\n//# sourceMappingURL=Search.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/search/Search.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.mapResponse = function (rawResponse) {\r\n    return {\r\n        elapsedTime: rawResponse.ElapsedTime,\r\n        suggestion: rawResponse.SpellingSuggestion,\r\n        resultsCount: rawResponse.PrimaryQueryResult.RelevantResults.RowCount,\r\n        totalResults: rawResponse.PrimaryQueryResult.RelevantResults.TotalRows,\r\n        totalResultsIncludingDuplicates: rawResponse.PrimaryQueryResult.RelevantResults.TotalRowsIncludingDuplicates,\r\n        items: exports.mapItems(rawResponse.PrimaryQueryResult.RelevantResults.Table.Rows.results),\r\n        refiners: exports.mapRefiners(rawResponse.PrimaryQueryResult.RefinementResults)\r\n    };\r\n};\r\nexports.mapRefiners = function (refinementResults) {\r\n    var refiners = [];\r\n    if (refinementResults && refinementResults.Refiners && refinementResults.Refiners.results) {\r\n        refiners = refinementResults.Refiners.results.map(function (r) {\r\n            return {\r\n                RefinerName: r.Name,\r\n                RefinerOptions: r.Entries.results\r\n            };\r\n        });\r\n    }\r\n    return refiners;\r\n};\r\nexports.mapItems = function (itemRows) {\r\n    var items = [];\r\n    for (var i = 0; i < itemRows.length; i++) {\r\n        var row = itemRows[i], item = {};\r\n        for (var j = 0; j < row.Cells.results.length; j++) {\r\n            item[row.Cells.results[j].Key] = row.Cells.results[j].Value;\r\n        }\r\n        items.push(item);\r\n    }\r\n    return items;\r\n};\r\n//# sourceMappingURL=searchMappers.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/search/searchMappers.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.validateNamespace = function (namespace) {\r\n    var scope = window;\r\n    var sections = namespace.split(\".\");\r\n    var sectionsLength = sections.length;\r\n    for (var i = 0; i < sectionsLength; i++) {\r\n        var prop = sections[i];\r\n        if (prop in scope) {\r\n            scope = scope[prop];\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\nvar _waitForLibraries = function (namespaces, resolve) {\r\n    var missing = namespaces.filter(function (namespace) { return !exports.validateNamespace(namespace); });\r\n    if (missing.length === 0)\r\n        resolve();\r\n    else\r\n        setTimeout(function () { return _waitForLibraries(namespaces, resolve); }, 25);\r\n};\r\nexports.waitForLibraries = function (namespaces) {\r\n    return new Promise(function (resolve, reject) { return _waitForLibraries(namespaces, resolve); });\r\n};\r\nexports.waitForLibrary = function (namespace) {\r\n    return exports.waitForLibraries([namespace]);\r\n};\r\nexports.waitForElement = function (selector, timeout) {\r\n    if (timeout === void 0) { timeout = 5000; }\r\n    var counter = 0;\r\n    var INTERVAL = 25; //milliseconds\r\n    var MAX_ATTEMPTS = timeout / INTERVAL; // eventually give up\r\n    return new Promise(function (resolve, reject) {\r\n        var _waitForElement = function () {\r\n            if (counter > MAX_ATTEMPTS)\r\n                reject(\"Unable to find element: \" + selector);\r\n            var elem = document.querySelector(selector);\r\n            if (!elem) {\r\n                counter++;\r\n                setTimeout(_waitForElement, INTERVAL);\r\n            }\r\n            else\r\n                resolve(elem);\r\n        };\r\n        _waitForElement();\r\n    });\r\n};\r\n//# sourceMappingURL=dependencyManagement.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/dependencyManagement.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n;\r\nvar jsonMimeType = \"application/json;odata=verbose\";\r\nfunction getStandardHeaders(digest) {\r\n    var headers = {\r\n        \"Accept\": jsonMimeType,\r\n        \"Content-Type\": jsonMimeType\r\n    };\r\n    if (digest)\r\n        headers[\"X-RequestDigest\"] = digest;\r\n    return headers;\r\n}\r\nvar getAddHeaders = getStandardHeaders;\r\nvar getFilestreamHeaders = function (digest) {\r\n    return {\r\n        'Accept': jsonMimeType,\r\n        'X-RequestDigest': digest,\r\n        'Content-Type': \"application/octet-stream\",\r\n        'binaryStringRequestBody': \"true\"\r\n    };\r\n};\r\nvar getActionHeaders = function (verb, digest) {\r\n    return Object.assign({}, getStandardHeaders(digest), {\r\n        \"X-HTTP-Method\": verb\r\n    });\r\n};\r\nvar decorateETag = function (headers, etag) {\r\n    if (etag)\r\n        headers[\"If-Match\"] = etag;\r\n    return headers;\r\n};\r\nvar getUpdateHeaders = function (digest, etag) { return decorateETag(getActionHeaders(\"MERGE\", digest), etag); };\r\nvar getDeleteHeaders = function (digest, etag) { return decorateETag(getActionHeaders(\"DELETE\", digest), etag); };\r\nvar headerUtils = {\r\n    getStandardHeaders: getStandardHeaders,\r\n    getAddHeaders: getAddHeaders,\r\n    getFilestreamHeaders: getFilestreamHeaders,\r\n    getUpdateHeaders: getUpdateHeaders,\r\n    getDeleteHeaders: getDeleteHeaders,\r\n    getActionHeaders: getActionHeaders\r\n};\r\nexports.default = headerUtils;\r\n//# sourceMappingURL=headers.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/headers.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.loadCSS = function (url) {\r\n    var link = document.createElement(\"link\");\r\n    link.setAttribute(\"rel\", \"stylesheet\");\r\n    link.setAttribute(\"type\", \"text/css\");\r\n    link.setAttribute(\"href\", url);\r\n    document.querySelector(\"head\").appendChild(link);\r\n};\r\nexports.loadScript = function (url) {\r\n    return new Promise(function (resolve, reject) {\r\n        var scriptTag = window.document.createElement(\"script\");\r\n        var firstScriptTag = document.getElementsByTagName('script')[0];\r\n        scriptTag.async = true;\r\n        firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);\r\n        scriptTag.onload = scriptTag.onreadystatechange = function (arg, isAbort) {\r\n            // if its been aborted, readyState is gone, or readyState is in a 'done' status\r\n            if (isAbort || !scriptTag.readyState || /loaded|complete/.test(scriptTag.readyState)) {\r\n                //clean up\r\n                scriptTag.onload = scriptTag.onreadystatechange = null;\r\n                scriptTag = undefined;\r\n                // resolve/reject the promise\r\n                if (!isAbort)\r\n                    resolve();\r\n                else\r\n                    reject;\r\n            }\r\n        };\r\n        scriptTag.src = url;\r\n    });\r\n};\r\nexports.loadScripts = function (urls) {\r\n    return Promise.all(urls.map(exports.loadScript));\r\n};\r\n//# sourceMappingURL=loaders.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/loaders.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar qs = require(\"querystring\");\r\nfunction fromObj(obj, quoteValues) {\r\n    var writeParam = function (key) {\r\n        var value = (obj[key] + \"\").trim();\r\n        // if there is a space, wrap in single quotes\r\n        if (value.indexOf(\" \") > -1 || quoteValues)\r\n            value = \"'\" + value + \"'\";\r\n        return key + \"=\" + value;\r\n    };\r\n    var str = Object.keys(obj)\r\n        .map(writeParam)\r\n        .join(\"&\");\r\n    return str;\r\n}\r\nexports.fromObj = fromObj;\r\nfunction toObj(str) {\r\n    //if no string is passed use window.location.search\r\n    if (str === undefined && window && window.location && window.location.search) {\r\n        str = window.location.search;\r\n    }\r\n    if (!str)\r\n        return {};\r\n    //trim off the leading '?' if its there\r\n    if (str[0] === \"?\")\r\n        str = str.substr(1);\r\n    return qs.parse(str);\r\n}\r\nexports.toObj = toObj;\r\n//# sourceMappingURL=queryString.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/queryString.js","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = require(\"../utils\");\r\nvar Securable_1 = require(\"../permissions/Securable\");\r\nvar Web = (function () {\r\n    function Web(ctx) {\r\n        this.baseUrl = \"/web\";\r\n        this._dao = ctx;\r\n        this.permissions = new Securable_1.default(this.baseUrl, ctx);\r\n    }\r\n    /** Retrieves basic information about the site */\r\n    Web.prototype.getInfo = function () {\r\n        return this._dao\r\n            .get(this.baseUrl)\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Retrieves all of the subsites */\r\n    Web.prototype.getSubsites = function () {\r\n        return this._dao\r\n            .get(this.baseUrl + \"/webinfos\")\r\n            .then(utils_1.default.validateODataV2);\r\n    };\r\n    Web.prototype.getUser = function (email) {\r\n        var url = email ? this.baseUrl + \"/SiteUsers/GetByEmail('\" + email + \"')\" : this.baseUrl + \"/CurrentUser\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    Web.prototype.ensureUser = function (login) {\r\n        return this._dao.post(\"/web/ensureUser('\" + login + \"')\").then(utils_1.default.validateODataV2);\r\n    };\r\n    /** Retrieves a file by server relative url */\r\n    Web.prototype.getFile = function (url) {\r\n        var url = \"/web/getfilebyserverrelativeurl('\" + url + \"')\";\r\n        return this._dao.get(url).then(utils_1.default.validateODataV2);\r\n    };\r\n    Web.prototype._copyFile = function (sourceUrl, destinationUrl, digest) {\r\n        var url = \"/web/getfilebyserverrelativeurl('\" + sourceUrl + \"')/CopyTo\"; //(strnewurl='${destinationUrl}',boverwrite=true)`\r\n        var options = {\r\n            headers: utils_1.default.headers.getAddHeaders(digest)\r\n        };\r\n        var body = {\r\n            strNewUrl: destinationUrl,\r\n            bOverWrite: true\r\n        };\r\n        return this._dao.post(url, body, options);\r\n    };\r\n    // TODO: getFolder\r\n    // TODO: uploadFile\r\n    // TODO: fileAction\r\n    // TODO: deleteFile\r\n    /** Copies a file from one server relative url to another */\r\n    Web.prototype.copyFile = function (sourceUrl, destinationUrl, digest) {\r\n        var _this = this;\r\n        return this._dao._ensureRequestDigest(digest)\r\n            .then(function (digest) { return _this._copyFile(sourceUrl, destinationUrl, digest); });\r\n    };\r\n    return Web;\r\n}());\r\nexports.default = Web;\r\n//# sourceMappingURL=Web.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/web/Web.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 24\n// module chunks = 0 1","(function (root) {\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function noop() {}\n  \n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function () {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  function Promise(fn) {\n    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function') throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    Promise._immediateFn(function () {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (newValue instanceof Promise) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      Promise._immediateFn(function() {\n        if (!self._handled) {\n          Promise._unhandledRejectionFn(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(function (value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      }, function (reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      });\n    } catch (ex) {\n      if (done) return;\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new (this.constructor)(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise.all = function (arr) {\n    var args = Array.prototype.slice.call(arr);\n\n    return new Promise(function (resolve, reject) {\n      if (args.length === 0) return resolve([]);\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(val, function (val) {\n                res(i, val);\n              }, reject);\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && typeof value === 'object' && value.constructor === Promise) {\n      return value;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n      for (var i = 0, len = values.length; i < len; i++) {\n        values[i].then(resolve, reject);\n      }\n    });\n  };\n\n  // Use polyfill for setImmediate for performance gains\n  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n    function (fn) {\n      setTimeoutFunc(fn, 0);\n    };\n\n  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  /**\n   * Set the immediate function to execute callbacks\n   * @param fn {function} Function to execute\n   * @deprecated\n   */\n  Promise._setImmediateFn = function _setImmediateFn(fn) {\n    Promise._immediateFn = fn;\n  };\n\n  /**\n   * Change the function to execute on unhandled rejection\n   * @param {function} fn Function to execute on unhandled rejection\n   * @deprecated\n   */\n  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n    Promise._unhandledRejectionFn = fn;\n  };\n  \n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Promise;\n  } else if (!root.Promise) {\n    root.Promise = Promise;\n  }\n\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/promise-polyfill/promise.js\n// module id = 25\n// module chunks = 0 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/querystring/decode.js\n// module id = 26\n// module chunks = 0 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/querystring/encode.js\n// module id = 27\n// module chunks = 0 1","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/querystring/index.js\n// module id = 28\n// module chunks = 0 1","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/setimmediate/setImmediate.js\n// module id = 29\n// module chunks = 0 1","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/timers-browserify/main.js\n// module id = 30\n// module chunks = 0 1"],"sourceRoot":""}