{"version":3,"sources":["../../../src/plugins/SPFileTree/jqueryFileTree.js"],"names":["jQuery","$","extend","fn","fileTree","o","h","root","undefined","script","folderEvent","expandSpeed","collapseSpeed","expandEasing","collapseEasing","multiFolder","loadMessage","each","showTree","c","t","addClass","remove","post","dir","data","find","html","removeClass","append","show","slideDown","duration","easing","bindTree","bind","parent","hasClass","slideUp","escape","attr","match","toLowerCase"],"mappings":"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","file":"jqueryFileTree.js","sourcesContent":["// jQuery File Tree Plugin\r\n//\r\n// Version 1.01\r\n//\r\n// Cory S.N. LaViska\r\n// A Beautiful Site (http://abeautifulsite.net/)\r\n// 24 March 2008\r\n//\r\n// Visit http://abeautifulsite.net/notebook.php?article=58 for more information\r\n//\r\n// Usage: $('.fileTreeDemo').fileTree( options, callback )\r\n//\r\n// Options:  root           - root folder to display; default = /\r\n//           script         - location of the serverside AJAX file to use; default = jqueryFileTree.php\r\n//           folderEvent    - event to trigger expand/collapse; default = click\r\n//           expandSpeed    - default = 500 (ms); use -1 for no animation\r\n//           collapseSpeed  - default = 500 (ms); use -1 for no animation\r\n//           expandEasing   - easing function to use on expand (optional)\r\n//           collapseEasing - easing function to use on collapse (optional)\r\n//           multiFolder    - whether or not to limit the browser to one subfolder at a time\r\n//           loadMessage    - Message to display while initial tree loads (can be HTML)\r\n//\r\n// History:\r\n//\r\n// 1.01 - updated to work with foreign characters in directory/file names (12 April 2008)\r\n// 1.00 - released (24 March 2008)\r\n//\r\n// TERMS OF USE\r\n// \r\n// This plugin is dual-licensed under the GNU General Public License and the MIT License and\r\n// is copyright 2008 A Beautiful Site, LLC. \r\n//\r\nif(jQuery) (function($){\r\n\t\r\n\t$.extend($.fn, {\r\n\t\tfileTree: function(o, h) {\r\n\t\t\t// Defaults\r\n\t\t\tif( !o ) var o = {};\r\n\t\t\tif( o.root == undefined ) o.root = '/';\r\n\t\t\tif( o.script == undefined ) o.script = 'jqueryFileTree.php';\r\n\t\t\tif( o.folderEvent == undefined ) o.folderEvent = 'click';\r\n\t\t\tif( o.expandSpeed == undefined ) o.expandSpeed= 500;\r\n\t\t\tif( o.collapseSpeed == undefined ) o.collapseSpeed= 500;\r\n\t\t\tif( o.expandEasing == undefined ) o.expandEasing = null;\r\n\t\t\tif( o.collapseEasing == undefined ) o.collapseEasing = null;\r\n\t\t\tif( o.multiFolder == undefined ) o.multiFolder = true;\r\n\t\t\tif( o.loadMessage == undefined ) o.loadMessage = 'Loading...';\r\n\t\t\t\r\n\t\t\t$(this).each( function() {\r\n\t\t\t\t\r\n\t\t\t\tfunction showTree(c, t) {\r\n\t\t\t\t\t$(c).addClass('wait');\r\n\t\t\t\t\t$(\".jqueryFileTree.start\").remove();\r\n\t\t\t\t\t$.post(o.script, { dir: t }, function(data) {\r\n\t\t\t\t\t\t$(c).find('.start').html('');\r\n\t\t\t\t\t\t$(c).removeClass('wait').append(data);\r\n\t\t\t\t\t\tif( o.root == t ) $(c).find('UL:hidden').show(); else $(c).find('UL:hidden').slideDown({ duration: o.expandSpeed, easing: o.expandEasing });\r\n\t\t\t\t\t\tbindTree(c);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfunction bindTree(t) {\r\n\t\t\t\t\t$(t).find('LI A').bind(o.folderEvent, function() {\r\n\t\t\t\t\t\tif( $(this).parent().hasClass('directory') ) {\r\n\t\t\t\t\t\t\tif( $(this).parent().hasClass('collapsed') ) {\r\n\t\t\t\t\t\t\t\t// Expand\r\n\t\t\t\t\t\t\t\tif( !o.multiFolder ) {\r\n\t\t\t\t\t\t\t\t\t$(this).parent().parent().find('UL').slideUp({ duration: o.collapseSpeed, easing: o.collapseEasing });\r\n\t\t\t\t\t\t\t\t\t$(this).parent().parent().find('LI.directory').removeClass('expanded').addClass('collapsed');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t$(this).parent().find('UL').remove(); // cleanup\r\n\t\t\t\t\t\t\t\tshowTree( $(this).parent(), escape($(this).attr('rel').match( /.*\\// )) );\r\n\t\t\t\t\t\t\t\t$(this).parent().removeClass('collapsed').addClass('expanded');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// Collapse\r\n\t\t\t\t\t\t\t\t$(this).parent().find('UL').slideUp({ duration: o.collapseSpeed, easing: o.collapseEasing });\r\n\t\t\t\t\t\t\t\t$(this).parent().removeClass('expanded').addClass('collapsed');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\th($(this).attr('rel'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// Prevent A from triggering the # on non-click events\r\n\t\t\t\t\tif( o.folderEvent.toLowerCase != 'click' ) $(t).find('LI A').bind('click', function() { return false; });\r\n\t\t\t\t}\r\n\t\t\t\t// Loading message\r\n\t\t\t\t$(this).html('<ul class=\"jqueryFileTree start\"><li class=\"wait\">' + o.loadMessage + '<li></ul>');\r\n\t\t\t\t// Get the initial file list\r\n\t\t\t\tshowTree( $(this), escape(o.root) );\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\t\r\n})(jQuery);"]}